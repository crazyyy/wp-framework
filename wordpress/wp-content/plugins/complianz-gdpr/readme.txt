=== Complianz | GDPR Cookie Consent ===
Contributors: RogierLankhorst, Complianz
Donate link: https://paypal.me/complianz
Tags: GDPR, Cookie, Cookie Notice, Consent, CCPA
Requires at least: 4.7
License: GPL2
Requires PHP: 5.6
Tested up to: 5.2
Stable tag: 3.0.11

Configure your Cookie Notice, Cookie Consent and Cookie Policy with our Wizard and Cookie Scan. Supports GDPR, AVG, ePrivacy, DSVGO, CCPA and COPPA. 

== Description ==
Complianz | GDPR Cookie Consent supports GDPR, ePrivacy, CCPA, DSVGO, AVG, RGPD and more with a conditional Cookie Notice and customized Cookie Policy based on the results of the built-in Cookie Scan. Blocking 3rd Party Cookies from all major 3rd Party services like Google Analytics, Matomo, Adsense, Facebook, Youtube, Instagram, Vimeo and more. You can configure for US (United States) visitors or European Union (EU) visitors, with Cookie Notice, Cookie Consent and Legal Documents.

IMPORTANT! Complianz | GDPR Cookie Consent can help you meet compliance requirements, but the user must ensure that all requirements are met.

= Features =
* Cookie Consent and Conditional Cookie Notice (Custom CSS and Templates) 
* Categorize your Cookies with Tag Manager or our own Script Center, if needed.
* Automatically detects if you need a Cookie Notice (also called a Cookie Banner or Pop-Up)
* A Cookie Policy; Generated by you, drafted by an IT Law Firm.
* Periodical Cookie Scan for changes in Cookies, Plugins and 3rd Party services.
* Implementation of Google Tag Manager, Google Analytics, Matomo etc.
* Anonymizes IP-addresses for Google Analytics.
* Blocks 3rd party cookies like Facebook, Instagram, AdSense, Recaptcha, Twitter and more.
* Blocks iFrames, like YouTube/Vimeo embedded video’s and Social iFrames, with placeholders!
* Detected Cookie Data is prefilled from the shipped Cookie Database, which is continuously updated.
* We closely follow the latest developments in the ePrivacy legislation and other legislations.
* Integrates seamlessly with Gutenberg, Elementor, Cornerstone, WPBakery, Monsterinsights, WPForms, Gravity Forms, Happy Forms, Contact Form 7 (CF7), Woocommerce, Easy Digital Downloads and other popular plugins.
* Tested with popular themes en page builders.
* Integrated with WordPress Privacy features. Export and erase personal data from our dashboard.
* Gutenberg Blocks enabled.
* Ready for COPPA/CCPA (US Privacy Laws)

Complianz is on [GitHub](https://github.com/rlankhorst/complianz-gdpr) as well!

= Love Complianz? =
If you enjoy this plugin and you want your site to have the best compliancy features, consider purchasing the [premium version](https://complianz.io/pricing), also available for multisite users.

= Premium features =
* Select both US and EU as target region with conditional Consent and Cookie Banners.
* Consent Statistics: see how many visitors accept, decline, or don't need a cookie notice at all.
* A/B Testing: which cookie banner has the best consent ratio? Run tests and measure what works best for your site.
* All Legal Documents: Customized and legally validated privacy statements (EU & US), cookie policy (EU & US), disclaimer, processing agreements (EU & US) , dataleak reporting tools, created and updated by a dedicated law firm
* Geo IP Cookie Consent: Cookie Consent is different everywhere. Show the correct Cookie Notice based on IP location, but only if a banner is needed.
* CCPA Consent and Legal documents.
* COPPA ready with Children's Privacy Policy.
* Respects Do Not Track settings in users browsers.
* Multilanguage support for the cookie notice and legal documents.
* 6 Default languages. English, Dutch, French, Italian, Spanish and German
* Premium Support from our amazing team.
* Premium Updates, new languages, features, regions and more to create the Ultimate Privacy Suite for WordPress.

Check out other plugins developed by Really Simple Plugins as well: [Really Simple SSL](https://wordpress.org/plugins/really-simple-ssl/) and [Zip Recipes](https://wordpress.org/plugins/zip-recipes/).

[Contact](https://complianz.io/support/) us if you have any questions, issues, or suggestions. Complianz | GDPR Cookie Consent is developed by [Complianz BV] (https://complianz.io).

= Installation =
* Go to “plugins” in your Wordpress Dashboard, and click “add new”.
* Click “upload”, and select the downloaded zip file.
* Activate.
* Navigate to “Complianz”, and follow the instructions.

== Frequently asked questions ==
= Knowledgebase =
Complianz maintains a continuously growing knowledgebase about GDPR, CCPA and COPPA on [complianz.io](https://complianz.io)

= Is my website GDPR, COPPA, CCPA, DSVGO, AVG compliant with this plugin? =
We cannot guarantee GDPR/COPPA/CCPA compliancy for your website.
= When do I need a Cookie Notice? =
Complianz | GDPR Cookie Consent will determine this automatically. Regarding the GDPR, when you are using cookies that store personal data you always have to explicitly ask consent to the user. When you anonymize every single bit of data you don’t have to. Functional cookies don’t require the consent of the user as they are only placed for functional purposes.
Regarding CCPA, you always have to show which cookies you are using but there's no obligation in asking consent.
= Do I always need a consent checkbox on contact forms? =
Not always. The Complianz Privacy Suite Premium plugin can determine if you need this, based on your answers. It mainly depends on the type of information you request.
= What are functional cookies? =
A functional cookie is a cookie which is needed for the technical functioning of the website. Cookies that are used to track if something is placed in the cart, or if a user is logged in are functional cookies. There is no need to request permission for this kind of cookies, nor is there any need to describe them in your cookie policy (although we think that is a good idea).
= What are analytical cookies? =
Analytical cookies are used to track visitors on the website. How do they browse, how long are they staying, and what are they looking at, e.g. Also demography is part of an analytical cookie. They are essential in measuring the usage of a website and to optimize it. They can be seen as real management instruments.
= What are advertising, marketing or tracking cookies? =
Advertising, or marketing cookies, are cookies that are being placed for advertising purposes. Advertising cookies can never be placed without consent. These cookies are only being used for advertising purposes.
Our plugin decides whether a cookie consent banner has to be shown. So you shouldn’t need to worry when using our plugin.
= What is the GDPR? =
The GDPR is a regulation within the EU law on privacy and data protection for any citizen within the EU and European Economic Area. It aims primarily on giving control to individuals over their personal data. The GDPR also addresses the export of personal data outside the EU.
= What is the CCPA? =
The CCPA (Californian Privacy Act) is a law set up by the Californian government. The law is adjudged to be one of the toughest and farthest-reaching consumer privacy laws in the US. It is mostly focused on giving insights on what personal data business gather and how to protect and control these personal data.
= What is COPPA? =
The Children’s Online Privacy Protection Act (COPPA) is a law designed to protect the online privacy of children under 13. It was set up in the 1990's and states that website owners have to meet certain requirements regarding visitors with the age under 13.
= Can I create a Cookie Wall with this plugin? =
With some custom css this is possible, but we do not consider a cookie wall to be GDPR compliant, so it's not actively supported.

== Change log ==
= 3.0.11 =
* Fix: version stripping second digit for upgrade check

= 3.0.10 =
* Fix: Avia front-end pagebuilder getting blocked by cookie blocker
* Fix: Lawfull => lawful
* Improvement: added custom jquery event to hook into cookie consent events
* Fix: set Google Analytics as not functional
* Fix: duplicate advertising cookies settings in US cookie policy
* Improvement: added PayPal cookies
* Improvement: added cc-revoke example
* Improvement: added helptext to explain email addresses are obfuscated
* Improvement: sanitizing of hex color in custom css
* Improvement: WP Google Maps integration
* Improvement: moved do not track me integration to filterable array
* Improvement: prevent policies from being generated when not activated in settings
* Improvement: pixelyoursite plugin support
* Improvement: notifications when cookie blocker is enabled, to make sure users understand the implications
* Improvement: dropped youronlinechoices as suggested service

= 3.0.8 =
* Improvement: add option to configure your own cookie policy URL
* Fix: creating legal document page when none is available after region switch
* Improvement: W3C validator compatibility for documents
* Fix: javascript pattern not matching correctly, causing both text/plain and text/javascript scripts.
* Improvement: recommended action on Google Fonts
* Fix: Pass font color to cc-category class
* Fix: allow for content in iframes tags in regex pattern
* Fix: hide comment checkbox when WP personal data storage for comments is disabled

= 3.0.7 =
* Tweak: remove blocking of custom Google implementations, as it is not yet possible to reactivate them

= 3.0.6 =
* Fix: new regex did not exclude cmplz-native scripts from cookie blocker

= 3.0.5 =
* Fix: saving when saved data is not an array
* Fix: prevent force category for Tag Manager after switching back to GA
* Improvement: allow for Youtube video series URL
* Fix: several improvements for US documents
* Improvement: when marketing level category is selected, statistics category should not get consent
* Improvement: not scrolling to top when accepting
* Fix: table remove on plugin deletion
* Improvement: CSS classes for Cookie Notice

= 3.0.4 =
* Fix: expiry days not passed to cookie banner

= 3.0.3 =
* Fix: add href to accept button on cookie banner
* Improvement: [cmplz-accept-link text="accept cookies"] shortcode
* Fix: Cookie policy advertising and analytical cookies settings fix
* Fix: Not saving unchecked checkbox custom document css
* Fix: Privacy statement for eu notice when using US only
* Fix: If page is deleted, stored cookiepage url could be empty
* Fix: When switching settings for advertising cookies, output might show both advertising and non-advertising paragraph
* Fix: No cookie banner mention in cookie policy when no banner is needed
* Fix: Cookie blocker was not activated when only statistics required a cookie warning
* Fix: selecting no thirdparty services or cookies could lead to double activation of statistics
* Fix: Selecting US as target region in some cases did not fire the default consent which is allowed for US privacy regulations

= 3.0.2 =
* Fix: Gravity forms checkbox not generated correctly
* Fix: Brand color not updating in cookiebanner
* Fix: US Cookie policy not showing correct purposes
* Fix: Incomplete cookie causing not reaching 100% without notice
* Fix: Enabling TM categories
* Fix: Elementor forcing lineheight of 0 in embeds

= 3.0.1 =
* Fix: hook for DB upgrade moved to an earlier one.

= 3.0.0 =
* Fix: removed Google Plus integration, as it's discontinued
* Fix: prevent saving from document URL's on autosave and revisions
* Fix: moved linkedin from script blocked list to async loaded list
* Fix: default region is now one of the selected regions in the wizard.
* Fix: when localstorage is empty, empty array could cause PHP error during cookie scan
* Fix: excluded elementor_font post_type from scan
* Fix: hyperlink in disclaimer (Dutch)
* Fix: As elementor uses the classic shortcodes in Gutenberg, an exception should be made for Elementor when inserting default pages
* Improvement: Hide nag notices from other plugins on Complianz pages.
* Improvement: Added export feature
* Improvement: Completely rewritten video blocking and placeholder code, which should reduce possible issues
* Improvement: Added HappyForms integration to enable recaptcha initialization.
* Improvement: Extended support for different types of IP detection on servers e.g. Cloudflare.
* Improvement: Moved string translation support for polylang and WPML to core
* Improvement: Added option to disable adding placeholder HTML to video's
* Improvement: Added plural for Social Media statement in Cookie Policy
* Improvement: Added exception for Non Personalized Ads in advertisement section in Wizard and in Cookie Policy
* Improvement: Added escaping to outputted javascript, all scripts moved to templates
* Improvement: Moved cookie banner settings to separate table and object
* Improvement: Limit ajax requests to a/b testing and multiple regions
* Improvement: Placeholders for Gutenberg variations with Pagebuilders and various themes.
* Improvement: Disabling placeholders if needed
* Improvement: Full compatibility with Newspaper and Adsense
* Improvement: Blocking IP Adresses for comment section. (option)
* Improvement: Variable cookie scan for high traffic websites to minimize server capacity.
* Improvement: New UI for cookie banner settings.

= 2.1.8 =
* Tweak: improve escaping of css in document html output
* Tweak: improved Elementor and Gutenberg compatibility for youtube video activation after consent is given

= 2.1.7 =
* Fix: typo in block.php cause Gutenberg to fail

= 2.1.6 =
* Fix: responsive video adjustments
* Fix: z index for blocked content text too high, causing it to float over the banner

= 2.1.5 =
* Feature: WP Forms integration
* Improvement: prevent activation for PHP <5.6 and WP < 4.6
* Improvement: regex did not recognize google maps URL because of exclamation mark usage
* Improvement: higher quality placeholder image
* Improvement: when Tag Manager is selected, categories is enabled. To make this more explicit help text is added and the button disabled.
* Improvement: when saving settings in the cookie warning settings, we now maintain the region selection state
* Improvement: download video placeholders to own site to make sure Youtube and vimeo cannot track the users
* Improvement: placeholder img aspect ratio is used to resize the placeholder container div
* Fix: several css styling issues for the center theme with categories: color inheritance of label, display
* Fix: css styling for border with edgeless theme
* Fix: when user states no cookies are used, even if the scan detects them, no cookie banner will be shown, as per the user's wishes.
* Fix: FitVids compatibility for fluid video display
* Fix: empty locales array for cookie cache could cause PHP warning

= 2.1.5 =
* Fix: z-index of blocked content container too high, making it float over the banner

= 2.1.4 =
* Fix: incorrect PHP opening causing input fields malform on some setups

= 2.1.3 =
* Tweak: Purpose description for EU not needed in all situations
* Tweak: Split US and EU cookie banner text, to be configured separately
* Tweak: created a setting to configure blocked content text
* Tweak: Changed check on WP_DEBUG to SCRIPT_DEBUG for scripts
* Tweak: added placeholder to blocked iframes to prevent reloading to homepage
* Fix: In US cookie policy, "we ask consent for statistics" is removed
* Fix: In EU cookie policy, "we ask consent for statistics" is shown conditionally, based on anonymization settings of the statistics tool
* Tweak: added upgrade links
* Fix: empty localstorage and cookie array causing an warning
* Tweak: close button on modal help windows
* Fix: when choosing to configure your statistics yourself instead of matomo/analytics/tagmanager, a warning kept showing in the dashboard.
* Tweak: accept button not fitting in banner when using a very long decline text
* Fix: for paragraphs with both a field condition and a callback condition, the code did not enforce both conditions
* Fix: clang redirect to en locale not adjusted for Gutenberg block recognition

2.1.2
* Fix: extra line break in readme causing readme not to get parsed correctly

= 2.1.1 =
* Fix: changed text domain to make compatible with WordPress. If you have custom translations, please rename the files from 'complianz-en_US.po' to 'complianz-gdpr-en_US.po'
* Fix: allow reinitialisation of recaptcha v3 in Contact Form 7
* Tweak: prevent dns prefetch for blocked URL's
* Tweak: option to dismiss on scroll or dismiss on timeout
* Tweak: option to share more details on the automated processing
* Tweak: added secure flag to cookie set function when url is https

= 2.1.0 =
* Tweak: Gutenberg blocks from Complianz Privacy Suite

= 2.0.8 =
* Tweak: allow users to keep their own, custom statistics tracking
* Fix: Revoke button text not defined with US only setup
* Tweak: Do No Track is not used in the percentage calculation anymore
* Tweak: new modal tooltips
* Tweak: privacy URL pulled from WordPress privacy page instead of custom link.

= 2.0.7 =
* Tweak: support youtube and vimeo placeholders
* Tweak: uninstall not removing all data. This can be done explicitly in the settings as of now.
* Tweak: added new cookies
* Tweak: declared ClassicPress compatibility

= 2.0.6 =
* Tweak: added some new cookies to the database
* Tweak: changed site_url into home_url in the documents output
* Tweak: dropped pattern restriction on phonenumbers, as there are too many local differences.
* Tweak: add support for blocking of instagram cookies
* Fix: third party privacy statements not inserted in cookie policy
* Tweak: less strict policies for websites who do not target California
* Fix: privacy policy URL's not showing in cookie policy

= 2.0.5 =
* Tweak: ajax call for user data only on first visit
* Fix: Cookie blocker inserting class within escaped strings.

= 2.0.4 =
* Fix: Tag manager events not firing outside selected regions
* Tweak: set default region after upgrade from pre-2.0 version
* Fix: showing empty privacy link in US cookie banner
* Fix: count nr of forms, when forms option empty throwing an error.
* Tweak: split checked docs date from edited docs date

= 2.0.3 =
Fix: section count missing the "purpose" section

= 2.0.2 =
Tweak: first reported cookies added to the cookie database

= 2.0.1 =
* Fix: due to commit issue missing file

= 2.0.0 =
* Tested up to WP 5.0
* Tweak: updated Geo IP database to latest
* Tweak: Dropped Youtube "nocookie" support, Youtube places cookies after first interaction, without consent
* Tweak: feedback on active adblockers or anonymous window during scan
* Tweak: user locking of the wizard, preventing multiple users from editing the wizard at the same time
* Tweak: improvements in visual feedback on validation
* Tweak: user interface design
* Feature: reporting of unrecognized cookies
* Feature: CCPA support
* Feature: Do Not Sell My Personal Information page
* Feature: Do Not Sell My Personal Information opt out form & dashboard
* Feature: US dedicated cookie warning

= 1.2.5 =
* Fix: typo in cookie policy:  add vs ad

= 1.2.4 =
* Tweak: added monsterinsights integration
* Tweak: added a hide revoke button option in the settings
* Tweak: moved statistics script to overridable templates, and included them using action hooks, to make overriding more easy.
* Fix: cookie policy text was not 100% matched when the categories option was selected for the banner.
* Fix: tracking of statistics added new user when the status was not changed.
* Fix: center revoke button not in same style as other revoke buttons
* Fix: Privacy Policy did not show the correct paragraph on sharing with other parties

= 1.2.3 =
* Fix: revoke button showed too large because of changes for the center template

= 1.2.2 =
* Fix: when no social media was found, this could result in an error on showing the scan results

= 1.2.1 =
* Tweak: show social media and third party services from actual detected list, not from wizard.

= 1.2.0 =
* Fix: deleted cookies were added again on the next scan
* Tweak: when cookie database is updated, empty fields get populated from the new data
* Tweak: script center added below menu for fast editing
* Tweak: Added new banner position: centered
* Tweak: Added categories in cookies
* Tweak: Added category/cookie execution management from Tag Manager
* Tweak: Added new template: minimal

= 1.1.14 =
* Readme.txt adjustment

= 1.1.12 =
* Added extra notice about user responsibility regarding GDPR compliancy

= 1.1.11 =
* Adjusted readme as not to claim GDPR compliancy, as per WordPress regulations.

= 1.1.10 =
* Fix: cookie scan time showed UTC time instead of local time
* Fix: call to non existing function from cookie config acceptance function
* Fix: moved cookie policy change date to separate variable
* Tweak: improved security of cookie enabling script

= 1.1.9 =
* Fix: empty contact key in saving data
* Tweak: overlay over dashboard when wizard is not completed yet, to force using wizard
* Tweak: brand color not required anymore
* Tweak: full integration of Matomo in Complianz GDPR

= 1.1.8 =
* Tweak: directory structure

= 1.1.7 =
* Fix WPML/polylang translation bug

= 1.1.6 =
* Added Google Fonts and ReCaptcha to third party list
* Tweaked Cookie Policy
* Added custom CSS option and advanced editing options to cookie banner

= 1.1.5 =
* No + one's anymore for cookie changes, this will only be shown in the dashboard

= 1.1.4 =
* Fix: complete rework of third party cookie blocker, dropped domDocument in favor of regex

= 1.1.3 =
* Fix: accepting the cookie policy did not properly unblock third party scripts
* Tweak: use accept text in cookie policy

= 1.1.2 =
* Tweak: added css styles for cookie policy
* Tweak: added push down style to cookie warning
* Tweak: added Sumo to third party blocked scripts
* Fix: some bugfixes

= 1.1.1 =
* Tweak: updates wizard complete texts
* Fix: youtube nocookie replace

= 1.1.0 =
* new dashboard
* added check if consent checkbox is needed on forms
* integrated wp erase personal data and wp export data
* phone numbers not required anymore
* added a < PHP 5.6 warning

= 1.0.17 =
* Added < PHP 5.6 warning
*
= 1.0.16 =
* Fix: output escaping of html strings, causing the html to show in plain text.

= 1.0.15 =
* Fix: cookieblocker removed script in incorrect way, causing a php error

* 1.0.14
* Tweak: set page as processed before the request is made during scan
* Fix: pre 4.9.6 version of wp could not show admin pages due to privacy capability not existing

= 1.0.12 =
* Fix: scan freezing when URL is loaded http over https.

= 1.0.11 =
* Fix: missing file

= 1.0.10 =
* Fix: missing textdomain

= 1.0.9 =
* Fix: bug due to split between premium and free

= 1.0.8 =
* Added WordPress banner and icon assets

= 1.0.7 =
* Tweak: complete block of third party scripts until user as accepted.

= 1.0.6 =
* Tweak: added menu selection as option in the wizard

= 1.0.5 =
* Tweak: Improved plugins privacy policy additions: making it editable
* Tweak: hide settings popup for cookie warning on mobile, with revoke link in cookie policy
* Tweak: improved dismiss and revoke functionality
* Fix: some bugs in dataleak decision tree

= 1.0.4 =
* Added scan for social media widgets and buttons

= 1.0.3 =
* Fix: retention period not correctly shown in privacy statement

= 1.0.2 =
* optimized cookie scan

= 1.0.1 =
* Translation fixes

= 1.0.0 =

== Upgrade notice ==
* Please backup before upgrading.

== Screenshots ==
1. Dashboard for quick overview over your status, and quick access to privacy features.
2. The scan checks the cookies you are using on your website and places these in the cookie policy. You can adjust these afterwards.
3. Wysiwyg cookie banner editor: you can customize the cookie consent banner's style and layout to your liking
4. Script center to add or block scripts depending on users cookie acceptance.
5. General settings page
6. An example of a cookie banner, hovering over the generated cookie policy.
