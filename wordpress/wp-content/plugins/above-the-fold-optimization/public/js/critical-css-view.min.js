!function(e){function t(){function e(n){return n.reduce(function(n,o){n.push(t(o));var r,a=o.children,i=[];for(r=0;r<a.length;r++)i[r]=a[r];return n.concat(e(i))},[])}function t(e){var t,n=document.styleSheets,o=[];e.matches=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;for(var r in n){var a,i=n[r].rules||n[r].cssRules;for(a in i){t=!!i[a].selectorText&&i[a].selectorText.split(" ").map(function(e){return!!e&&e.split(/(:|::)/)[0]}).join(" ");try{e.matches(t)&&o.push(i[a])}catch(e){}}}return o}var n=[document.body];return function(e){function t(e,t){return t.filter(function(t){return t.b===e})}var n=[];return e.forEach(function(e){e.forEach(function(e){var o,r=t(o=e.selectorText,n);for(o=0<r.length?r[0]:{b:o,c:{}},r=0;r<e.style.length;r++){var a=e.style[r];o.c[a]=e.style.getPropertyValue(a)}0===t(o.b,n).length&&n.push(o)})}),n}(e(n)).reduce(function(e,t){return e+=t.b+" {\n",e+=Object.keys(t.c).reduce(function(e,n){return e.push("  "+n+": "+t.c[n]+";"),e},[]).join("\n"),e+="\n}\n"},"")}function n(e){function t(e){var t=e.parentStyleSheet.href;t||(i++,t="inline"),0==!!a[t]&&(a[t]={media:e.parentStyleSheet.media,a:{}}),0==!!a[t].a[e.selectorText]&&(a[t].a[e.selectorText]={});for(var n=e.style.cssText.split(/;(?![A-Za-z0-9])/),o=0;o<n.length;o++)if(0!=!!n[o]){var r=n[o].split(": ");r[0]=r[0].trim(),r[1]=r[1].trim(),a[t].a[e.selectorText][r[0]]=r[1]}}var n=document,r={},a={},i=0;this.f=function(){var e,t,n,r="",i=console&&console.groupCollapsed,c=[];console.clear&&console.clear(),i&&(console.log("%cSimple Critical CSS Extraction","font-size:24px;font-weight:bold"),console.log("For professional Critical CSS generators, see https://github.com/addyosmani/critical-path-css-tools"));for(var l in a){if(i&&(n="inline"===l?"Inline":"File: "+l,console.groupCollapsed(n),e=""),c.push([l,r.split(/\r\n|\r|\n/).length]),r+="/**\n * @file "+l,a[l].media&&(1<a[l].media.length||"all"!==a[l].media[0])){t=[];for(var s=0;s<a[l].media.length;s++)a[l].media[s]&&t.push(a[l].media[s]);0<t.length&&(r+="\n * @media "+t.join(" "))}r+="\n */\n";for(k in a[l].a){t=k+" { ";for(var u in a[l].a[k])t+=u+": "+a[l].a[k][u]+"; ";r+=t+="}\n",i&&(e+=t)}r+="\n",i&&(console.log(e),console.groupEnd())}return i?console.groupCollapsed("All Extracted Critical CSS ("+o(r.length)+")"):console.log("%cAll:","font-weight:bold"),console.log(r),i&&console.groupEnd(),[r,c]},function(){for(var o=e.innerHeight,a=n.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,function(){return NodeFilter.FILTER_ACCEPT},!0);a.nextNode();){var i=a.currentNode;if((i.getBoundingClientRect().top<o||r.h)&&(i=e.getMatchedCSSRules(i)))for(var c=0;c<i.length;c++)t(i[c])}}()}function o(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","kB","MB"][t]}!function(e,t){t.getMatchedCSSRules=e()}(function(){function t(e,t){if(n=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector)try{return n.call(e,t)}catch(e){}else for(var n=e.ownerDocument.querySelectorAll(t),o=n.length;o&&o--;)if(n[o]===e)return!0;return!1}function n(n){var o,r,a,i,c,l=[],s=n.ownerDocument.styleSheets,u=s.length;if(1===n.nodeType)for(;u&&u--;)for(o=(r=s[u].cssRules||s[u].rules).length;o&&o--;)if((c=r[o])instanceof CSSStyleRule&&t(n,c.selectorText))l.push(c);else if(c instanceof CSSMediaRule&&e.matchMedia(c.media.mediaText).matches)for(i=(a=c.cssRules||c.rules).length;i&&i--;)(c=a[i])instanceof CSSStyleRule&&t(n,c.selectorText)&&l.push(c);return l}return function(){return e.getMatchedCSSRules?e.getMatchedCSSRules:n}}(),this);var r=r||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in t,o=/constructor/i.test(e.HTMLElement)||e.g,r=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},i=function(t){setTimeout(function(){"string"==typeof t?(e.URL||e.webkitURL||e).revokeObjectURL(t):t.remove()},4e4)},c=function(e){for(var t=["writestart","progress","write","writeend"],n=(t=[].concat(t)).length;n--;){var o=e["on"+t[n]];if("function"==typeof o)try{o.call(e,e)}catch(e){a(e)}}},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},s=function(a,s,u){u||(a=l(a));var d,f=this,h="application/octet-stream"===a.type;if(f.readyState=f.INIT,n)return d=(e.URL||e.webkitURL||e).createObjectURL(a),void setTimeout(function(){t.href=d,t.download=s;var e=new MouseEvent("click");t.dispatchEvent(e),c(f),i(d),f.readyState=f.DONE});!function(){if((r||h&&o)&&e.FileReader){var t=new FileReader;return t.onloadend=function(){var n=r?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),f.readyState=f.DONE,c(f)},t.readAsDataURL(a),void(f.readyState=f.INIT)}d||(d=(e.URL||e.webkitURL||e).createObjectURL(a)),h?e.location.href=d:e.open(d,"_blank")||(e.location.href=d),f.readyState=f.DONE,c(f),i(d)}()},u=s.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(u.abort=function(){},u.readyState=u.INIT=0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(e,t,n){return new s(e,t||e.name||"download",n)})}}(e);e.extractCriticalCSS=function(t){for(var a=(i=new n(e).f())[0],i=i[1],c="/**\n * Simple Critical CSS\n *\n * @url "+document.location.href+"\n * @title "+document.title+"\n * @viewport "+e.innerWidth+"x"+e.innerHeight+"\n * @size "+o(a.length)+"\n *\n * Extracted using the Page Speed Optimization CSS extract widget.\n * @link https://wordpress.org/plugins/above-the-fold-optimization/\n * @source https://github.com/optimalisatie/above-the-fold-optimization/blob/master/admin/js/css-extract-widget.js (.min.js)\n *\n * For professional Critical CSS generators see https://github.com/addyosmani/critical-path-css-tools\n *\n * @sources",l=(l=c.split(/\r\n|\r|\n/).length)+(i.length+3),s=0;s<i.length;s++)c+="\n * @line "+(i[s][1]+l)+"\t @file "+i[s][0];if(c+="\n */\n\n",c+=a,t)return t(c);t=new Blob([c],{type:"text/css;charset=utf-8"}),a=(a=e.location.pathname)&&"/"!==a&&-1!==a.indexOf("/")?"-"+a.replace(/\/$/,"").split("/").pop():"-front-page",r(t,"critical-css"+a+".css")},e.extractFullCSS=function(n){var a=t(),i=!!n||!0;if(console.clear&&console.clear(),console.log("%cFull CSS Extraction","font-size:24px;font-weight:bold"),console.groupCollapsed&&console.groupCollapsed("Extracted Full CSS ("+o(a.length)+")"),console.log(a),console.groupCollapsed&&console.groupEnd(),i){if(a="/**\n * Full CSS\n *\n * @url "+document.location.href+"\n * @title "+document.title+"\n * @size "+o(a.length)+"\n *\n * Extracted using the Page Speed Optimization CSS extract widget.\n * @link https://wordpress.org/plugins/above-the-fold-optimization/\n * @source https://github.com/optimalisatie/above-the-fold-optimization/blob/master/admin/js/css-extract-widget.js (.min.js)\n */\n\n"+a,n)return n(a);n=new Blob([a],{type:"text/css;charset=utf-8"}),a=(a=e.location.pathname)&&"/"!==a&&-1!==a.indexOf("/")?"-"+a.replace(/\/$/,"").split("/").pop():"-front-page",r(n,"full-css"+a+".css")}else alert("Your browser does not support javascript based file download. The full CSS is printed in the console.")}}(window),function(e){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(e){if(e.data&&e.data.action){if(!document.getElementById("AbtfCSS"))return void alert("Error: Critical CSS <style> element not found.");switch(e.data.action){case"extract":switch(e.data.type){case"critical-css":window.extractCriticalCSS(function(e){parent.postMessage({action:"critical-css",css:e},"*")});break;case"full-css":window.extractFullCSS()}break;case"set":(n=document.getElementById("AbtfCSS")).styleSheet?n.styleSheet.cssText=e.data.css:(n.innerHTML="",n.appendChild(document.createTextNode(e.data.css)));break;case"get":var t,n=document.getElementById("AbtfCSS");t=n.styleSheet?n.styleSheet.cssText:n.innerHTML,parent.postMessage({action:"critical-css",css:t},"*")}}},!1)}(window,document);