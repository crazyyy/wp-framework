(function(d,h){var c,L=h.documentElement,k=d.addEventListener,u=d.setTimeout,Q=d.requestAnimationFrame||u,U=/^picture$/i,M=["load","error","lazyincluded","_lazyloaded"],F=function(b,e){var c=new RegExp("(\\s|^)"+e+"(\\s|$)");return b.className.match(c)&&c},z=function(b,c){F(b,c)||(b.className+=" "+c)},N=function(b,c){var f;if(f=F(b,c))b.className=b.className.replace(f," ")},A=function(b,c,f){var l=f?"addEventListener":"removeEventListener";f&&A(b,c);M.forEach(function(f){b[l](f,c)})},R=function(c,
e,f,l,d){var m=h.createEvent("CustomEvent");m.initCustomEvent(e,!l,!d,f);m.details=m.detail;c.dispatchEvent(m);return m},S=function(b,e){var f;d.HTMLPictureElement||((f=d.picturefill||d.respimage||c.pf)?f({reevaluate:!0,reparse:!0,elements:[b]}):e&&e.src&&(b.src=e.src))},V=function(b){var e,f=0,l=d.Date,h=function(){e=!1;f=l.now();b()},m=function(){u(h)},k=function(){Q(m)};return function(b){if(!e){var d=c.throttle-(l.now()-f);e=!0;4>d&&(d=4);!0===b?k():u(k,d)}}},K=function(){var b,e,f,l,B,m,t,v,
w,x,y,G,O,K=/^img$/i,M=/^iframe$/i,W="onscroll"in d&&!/glebot/.test(navigator.userAgent),C=0,p=0,r=0,H=function(a){r--;a&&a.target&&A(a.target,H);if(!a||0>r||!a.target)r=0},g=V(function(){var a,d,l,I,g,q,h,k;if((B=c.loadMode)&&8>r&&(a=b.length)){d=0;p++;C<O&&1>r&&4<p&&2<B?(C=O,p=0):C=C!=G&&1<B&&3<p?G:0;for(;d<a;d++)if(b[d]&&!b[d]._lazyRace)if(W){q=C;k!==q&&(m=innerWidth+q,t=innerHeight+q,h=-1*q,k=q);l=b[d].getBoundingClientRect();var n;if((n=(y=l.bottom)>=h&&(v=l.top)<=t&&(x=l.right)>=h&&(w=l.left)<=
m&&(y||x||w||v))&&!(n=f&&3>r&&4>p&&!0&&2<B)){n=b[d];var D=void 0,E=n;n="hidden"!=getComputedStyle(n,null).visibility;v-=q;y+=q;w-=q;for(x+=q;n&&(E=E.offsetParent);)(n=0<(getComputedStyle(E,null).opacity||1))&&"visible"!=getComputedStyle(E,null).overflow&&(D=E.getBoundingClientRect(),n=x>D.left&&w<D.right&&y>D.top-1&&v<D.bottom+1)}n?(J(b[d],!1,l.width),g=!0):!g&&f&&!I&&3>r&&4>p&&2<B&&(e[0]||c.preloadAfterLoad)&&(e[0]||y||x||w||v)&&(I=e[0]||b[d])}else J(b[d]);I&&!g&&J(I)}}),P=function(a){z(a.target,
c.loadedClass);N(a.target,c.loadingClass);A(a.target,P)},X=function(){var a,c=[],b=function(){for(;c.length;)c.shift()();a=!1};return function(d){c.push(d);a||(a=!0,Q(b))}}(),J=function(a,b,d){var e,g,h,k,m,n=a.currentSrc||a.src,p=K.test(a.nodeName);if(f||!p||!n||a.complete||F(a,c.errorClass))a._lazyRace=!0,r++,X(function(){a._lazyRace&&delete a._lazyRace;N(a,c.lazyClass);if(!(k=R(a,"lazybeforeunveil",{force:!!b})).defaultPrevented){z(a,c.autosizesClass);e=a.getAttribute("data-lazy-src")||a.getAttribute("data-lazy-original");
p&&(h=(g=a.parentNode)&&U.test(g.nodeName||""));m=k.detail.firesLoad||"src"in a&&(e||h);k={target:a};m&&(A(a,H,!0),clearTimeout(l),l=u(H,2500),z(a,c.loadingClass),A(a,P,!0));if(e)if(M.test(a.nodeName)){var d=e;try{a.contentWindow.location.replace(d)}catch(f){a.setAttribute("src",d)}}else a.setAttribute("src",e);h&&S(a,{src:e})}if(!m||a.complete&&n==(a.currentSrc||a.src))m?H(k):r--,P(k)})},T=function(){var a,b=function(){c.loadMode=3;g()};f=!0;p+=8;c.loadMode=3;k("scroll",function(){3==c.loadMode&&
(c.loadMode=2);clearTimeout(a);a=u(b,99)},!0)};return{_:function(){b=h.getElementsByClassName(c.lazyClass);e=h.getElementsByClassName(c.lazyClass+" "+c.preloadClass);G=c.expand;O=Math.round(2*G);k("scroll",g,!0);k("resize",g,!0);d.MutationObserver?(new MutationObserver(g)).observe(L,{childList:!0,subtree:!0,attributes:!0}):(L.addEventListener("DOMNodeInserted",g,!0),L.addEventListener("DOMAttrModified",g,!0),setInterval(g,999));k("hashchange",g,!0);"focus mouseover click load transitionend animationend webkitAnimationEnd".split(" ").forEach(function(a){h.addEventListener(a,
g,!0)});(f=/d$|^c/.test(h.readyState))?T():(k("load",T),h.addEventListener("DOMContentLoaded",g));g(0<b.length)},checkElems:g,unveil:J}}(),t=function(){t.i||(t.i=!0,K._())};(function(){var b,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",init:!0,expand:359,loadMode:2,throttle:99};c=d.lazyRocketsConfig||d.lazyRocketsConfig||{};for(b in e)b in c||(c[b]=e[b]);d.lazyRocketsConfig=c;u(function(){if(c.init){for(var b=
h.querySelectorAll("[data-lazy-src],[data-lazy-original]"),d=0;d<b.length;d++)z(b[d],c.lazyClass);t()}})})();return{cfg:c,loader:K,init:t,uP:S,aC:z,rC:N,hC:F,fire:R}})(window,document);