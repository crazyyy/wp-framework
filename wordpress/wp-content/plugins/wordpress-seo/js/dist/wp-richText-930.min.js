var wp=wp||{};wp.richText=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=663)}({1:function(e,t){e.exports=window.wp.element},100:function(e,t,r){"use strict";function n(e,t){var r=e.formats,n=e.text,i=e.start,u=e.end,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;"string"==typeof t&&(t=(0,o.create)({text:t}));var s=c+t.text.length;return(0,a.normaliseFormats)({formats:r.slice(0,c).concat(t.formats,r.slice(l)),text:n.slice(0,c)+t.text+n.slice(l),start:s,end:s})}Object.defineProperty(t,"__esModule",{value:!0}),t.insert=n;var o=r(98),a=r(62)},141:function(e,t,r){"use strict";function n(e){return e.replace(/&(?!([a-z0-9]+|#[0-9]+|#x[a-f0-9]+);)/gi,"&amp;")}function o(e){return e.replace(/"/g,"&quot;")}function a(e){return e.replace(/</g,"&lt;")}function i(e){return o(n(e))}function u(e){return a(n(e))}function c(e){return!l.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.escapeAmpersand=n,t.escapeQuotationMark=o,t.escapeLessThan=a,t.escapeAttribute=i,t.escapeHTML=u,t.isValidAttributeName=c;var l=/[\u007F-\u009F "'>\/="\uFDD0-\uFDEF]/},16:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filters=t.actions=t.didFilter=t.didAction=t.doingFilter=t.doingAction=t.currentFilter=t.currentAction=t.applyFilters=t.doAction=t.removeAllFilters=t.removeAllActions=t.hasFilter=t.hasAction=t.removeFilter=t.removeAction=t.addFilter=t.addAction=t.createHooks=void 0;var n=r(30),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=(0,o.default)(),i=a.addAction,u=a.addFilter,c=a.removeAction,l=a.removeFilter,s=a.hasAction,f=a.hasFilter,d=a.removeAllActions,p=a.removeAllFilters,m=a.doAction,v=a.applyFilters,g=a.currentAction,y=a.currentFilter,b=a.doingAction,h=a.doingFilter,_=a.didAction,T=a.didFilter,O=a.actions,A=a.filters;t.createHooks=o.default,t.addAction=i,t.addFilter=u,t.removeAction=c,t.removeFilter=l,t.hasAction=s,t.hasFilter=f,t.removeAllActions=d,t.removeAllFilters=p,t.doAction=m,t.applyFilters=v,t.currentAction=g,t.currentFilter=y,t.doingAction=b,t.doingFilter=h,t.didAction=_,t.didFilter=T,t.actions=O,t.filters=A},19:function(e,t,r){"use strict";function n(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},2:function(e,t){e.exports=window.lodash},22:function(e,t,r){"use strict";function n(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},30:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=Object.create(null),t=Object.create(null);return e.__current=[],t.__current=[],{addAction:(0,i.default)(e),addFilter:(0,i.default)(t),removeAction:(0,c.default)(e),removeFilter:(0,c.default)(t),hasAction:(0,s.default)(e),hasFilter:(0,s.default)(t),removeAllActions:(0,c.default)(e,!0),removeAllFilters:(0,c.default)(t,!0),doAction:(0,d.default)(e),applyFilters:(0,d.default)(t,!0),currentAction:(0,m.default)(e),currentFilter:(0,m.default)(t),doingAction:(0,g.default)(e),doingFilter:(0,g.default)(t),didAction:(0,b.default)(e),didFilter:(0,b.default)(t),actions:e,filters:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(31),i=n(a),u=r(32),c=n(u),l=r(33),s=n(l),f=r(34),d=n(f),p=r(35),m=n(p),v=r(36),g=n(v),y=r(37),b=n(y);t.default=o},31:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if((0,c.default)(t)&&(0,i.default)(r)){if("function"!=typeof n)return void console.error("The hook callback must be a function.");if("number"!=typeof o)return void console.error("If specified, the hook priority must be a number.");var a={callback:n,priority:o,namespace:r};if(e[t]){for(var u=e[t].handlers,s=0;s<u.length&&!(u[s].priority>o);)s++;u.splice(s,0,a),(e.__current||[]).forEach(function(e){e.name===t&&e.currentIndex>=s&&e.currentIndex++})}else e[t]={handlers:[a],runs:0};"hookAdded"!==t&&(0,l.doAction)("hookAdded",t,r,n,o)}}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(22),i=n(a),u=r(19),c=n(u),l=r(16);t.default=o},32:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return function(r,n){if((0,c.default)(r)&&(t||(0,i.default)(n))){if(!e[r])return 0;var o=0;if(t)o=e[r].handlers.length,e[r]={runs:e[r].runs,handlers:[]};else for(var a=e[r].handlers,u=a.length-1;u>=0;u--)!function(t){a[t].namespace===n&&(a.splice(t,1),o++,(e.__current||[]).forEach(function(e){e.name===r&&e.currentIndex>=t&&e.currentIndex--}))}(u);return"hookRemoved"!==r&&(0,l.doAction)("hookRemoved",r,n),o}}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(22),i=n(a),u=r(19),c=n(u),l=r(16);t.default=o},33:function(e,t,r){"use strict";function n(e){return function(t){return t in e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},34:function(e,t,r){"use strict";function n(e,t){return function(r){e[r]||(e[r]={handlers:[],runs:0}),e[r].runs++;for(var n=e[r].handlers,o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];if(!n||!n.length)return t?a[0]:void 0;var u={name:r,currentIndex:0};for(e.__current.push(u);u.currentIndex<n.length;){var c=n[u.currentIndex],l=c.callback.apply(null,a);t&&(a[0]=l),u.currentIndex++}return e.__current.pop(),t?a[0]:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},35:function(e,t,r){"use strict";function n(e){return function(){return e.__current&&e.__current.length?e.__current[e.__current.length-1].name:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},36:function(e,t,r){"use strict";function n(e){return function(t){return void 0===t?void 0!==e.__current[0]:!!e.__current[0]&&t===e.__current[0].name}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},367:function(e,t,r){"use strict";function n(e,t){var r=e.formats,n=e.text,u=e.start,c=e.end,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,f=r.slice(0);if(l===s){var d=(0,a.find)(f[l],{type:t.type});if(!d){var p=f[l-1]||[];return{formats:r,text:n,start:u,end:c,formatPlaceholder:{index:l,format:(0,a.find)(p,{type:t.type})?void 0:t}}}for(;(0,a.find)(f[l],d);)o(f,l,t),l--;for(s++;(0,a.find)(f[s],d);)o(f,s,t),s++}else for(var m=l;m<s;m++)o(f,m,t);return(0,i.normaliseFormats)({formats:f,text:n,start:u,end:c})}function o(e,t,r){if(e[t]){var n=e[t].filter(function(e){return e.type!==r.type});n.push(r),e[t]=n}else e[t]=[r]}Object.defineProperty(t,"__esModule",{value:!0}),t.applyFormat=n;var a=r(2),i=r(62)},368:function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.type!==t.type)return!1;var r=e.attributes,n=t.attributes;if(r===n)return!0;if(!r||!n)return!1;var o=Object.keys(r),a=Object.keys(n);if(o.length!==a.length)return!1;for(var i=o.length,u=0;u<i;u++){var c=o[u];if(r[c]!==n[c])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.isFormatEqual=n},369:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},37:function(e,t,r){"use strict";function n(e){return function(t){if((0,a.default)(t))return e[t]&&e[t].runs?e[t].runs:0}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=n},370:function(e,t,r){"use strict";function n(e){return 0===e.text.length}function o(e){var t=e.text,r=e.start,n=e.end;return r===n&&(0===t.length||(0===r&&t.slice(0,1)===a.LINE_SEPARATOR||(r===t.length&&t.slice(-1)===a.LINE_SEPARATOR||t.slice(r-1,n+1)==="".concat(a.LINE_SEPARATOR).concat(a.LINE_SEPARATOR))))}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=n,t.isEmptyLine=o;var a=r(80)},371:function(e,t,r){"use strict";function n(e,t){var r=e.formats,n=e.start;if(void 0!==n)return(0,o.find)(r[n],{type:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveFormat=n;var o=r(2)},372:function(e,t,r){"use strict";function n(e){return e.text}Object.defineProperty(t,"__esModule",{value:!0}),t.getTextContent=n},373:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},374:function(e,t,r){"use strict";function n(e,t){var r=e.formats,n=e.text,u=e.start,c=e.end,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c,f=r.slice(0);if(l===s){for(var d=(0,a.find)(f[l],{type:t});(0,a.find)(f[l],d);)o(f,l,t),l--;for(s++;(0,a.find)(f[s],d);)o(f,s,t),s++}else for(var p=l;p<s;p++)f[p]&&o(f,p,t);return(0,i.normaliseFormats)({formats:f,text:n,start:u,end:c})}function o(e,t,r){var n=e[t].filter(function(e){return e.type!==r});n.length?e[t]=n:delete e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.removeFormat=n;var a=r(2),i=r(62)},375:function(e,t,r){"use strict";function n(e,t,r){var n=e.formats,o=e.text,u=e.start,c=e.end;return o=o.replace(t,function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];var l,s=o[o.length-2],f=r;return"function"==typeof f&&(f=r.apply(void 0,[e].concat(o))),"object"===(0,a.default)(f)?(l=f.formats,f=f.text):(l=Array(f.length),n[s]&&(l=l.fill(n[s]))),n=n.slice(0,s).concat(l,n.slice(s+e.length)),u&&(u=c=s+f.length),f}),(0,i.normaliseFormats)({formats:n,text:o,start:u,end:c})}Object.defineProperty(t,"__esModule",{value:!0}),t.replace=n;var o=r(369),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(62)},376:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.type,r=e.attributes,n=e.unregisteredAttributes,o=e.object,a=(0,s.getFormatType)(t);if(!a)return{type:t,attributes:r,object:o};var i=(0,l.default)({},n);for(var u in r){var c=a.attributes[u];c?i[c]=r[u]:i[u]=r[u]}return a.className&&(i.class?i.class="".concat(a.className," ").concat(i.class):i.class=a.className),{type:a.tagName,object:a.object,attributes:i}}function a(e){function t(e,t){if(O&&j&&j.index===t){var r=v(e);e=void 0===j.format?v(r):p(r,o(j.format)),e=p(e,f.ZERO_WIDTH_NO_BREAK_SPACE)}return e}var r,n,a,i=e.value,c=e.multilineTag,l=e.multilineWrapperTags,s=void 0===l?[]:l,d=e.createEmpty,p=e.append,m=e.getLastChild,v=e.getParent,g=e.isText,y=e.getText,b=e.remove,h=e.appendText,_=e.onStartIndex,T=e.onEndIndex,O=e.isEditableTree,A=i.formats,x=i.text,P=i.start,E=i.end,j=i.formatPlaceholder,F=A.length+1,M=d(),N={type:c};c?(p(p(M,{type:c}),""),n=r=[N]):p(M,"");for(var w=0;w<F;w++){(function(e){var i=x.charAt(e),l=A[e];c&&(l=i===f.LINE_SEPARATOR?r=(l||[]).reduce(function(e,t){return i===f.LINE_SEPARATOR&&-1!==s.indexOf(t.type)&&(e.push(t),e.push(N)),e},[N]):(0,u.default)(r).concat((0,u.default)(l||[])));var d=m(M);if(a===f.LINE_SEPARATOR){for(var O=d;!g(O);)O=m(O);_&&P===e&&_(M,O),T&&E===e&&T(M,O)}if(l&&l.forEach(function(e,t){if(d&&n&&e===n[t]&&(i!==f.LINE_SEPARATOR||l.length-1!==t))return void(d=m(d));var r=v(d),a=p(r,o(e));g(d)&&0===y(d).length&&b(d),d=p(e.object?r:a,"")}),i===f.LINE_SEPARATOR)return n=l,a=i,"continue";d=t(d,0),0===e&&(_&&0===P&&_(M,d),T&&0===E&&T(M,d)),i!==f.OBJECT_REPLACEMENT_CHARACTER&&("\n"===i?(d=p(v(d),{type:"br",object:!0}),d=p(v(d),"")):g(d)?h(d,i):d=p(v(d),i)),d=t(d,e+1),_&&P===e+1&&_(M,d),T&&E===e+1&&T(M,d),n=l,a=i})(w)}return M}Object.defineProperty(t,"__esModule",{value:!0}),t.toTree=a;var i=r(99),u=n(i),c=r(81),l=n(c),s=r(682),f=r(80)},41:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.version,n=t.alternative,i=t.plugin,u=t.link,c=t.hint,l=i?" from ".concat(i):"",s=r?"".concat(l," in ").concat(r):"",f=n?" Please use ".concat(n," instead."):"",d=u?" See: ".concat(u):"",p=c?" Note: ".concat(c):"",m="".concat(e," is deprecated and will be removed").concat(s,".").concat(f).concat(d).concat(p);m in a||((0,o.doAction)("deprecated",e,t,m),console.warn(m),a[m]=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.logged=void 0,t.default=n;var o=r(16),a=t.logged=Object.create(null)},62:function(e,t,r){"use strict";function n(e){var t=e.formats,r=e.text,n=e.start,a=e.end,i=t.slice(0);return i.forEach(function(e,t){var r=i[t-1];if(r){var n=e.slice(0);n.forEach(function(e,t){var a=r[t];(0,o.isFormatEqual)(e,a)&&(n[t]=a)}),i[t]=n}}),{formats:i,text:r,start:n,end:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.normaliseFormats=n;var o=r(368)},63:function(e,t){e.exports=window.wp.data},663:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterFormatType=t.LINE_SEPARATOR=t.toggleFormat=t.toHTMLString=t.unstableToDom=t.apply=t.split=t.slice=t.insertObject=t.insertLineSeparator=t.insert=t.replace=t.remove=t.removeFormat=t.registerFormatType=t.join=t.isEmptyLine=t.isEmpty=t.isCollapsed=t.getTextContent=t.getSelectionStart=t.getSelectionEnd=t.getActiveFormat=t.create=t.concat=t.charAt=t.applyFormat=void 0;var n=r(367);Object.defineProperty(t,"applyFormat",{enumerable:!0,get:function(){return n.applyFormat}});var o=r(664);Object.defineProperty(t,"charAt",{enumerable:!0,get:function(){return o.charAt}});var a=r(665);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return a.concat}});var i=r(98);Object.defineProperty(t,"create",{enumerable:!0,get:function(){return i.create}});var u=r(371);Object.defineProperty(t,"getActiveFormat",{enumerable:!0,get:function(){return u.getActiveFormat}});var c=r(670);Object.defineProperty(t,"getSelectionEnd",{enumerable:!0,get:function(){return c.getSelectionEnd}});var l=r(671);Object.defineProperty(t,"getSelectionStart",{enumerable:!0,get:function(){return l.getSelectionStart}});var s=r(372);Object.defineProperty(t,"getTextContent",{enumerable:!0,get:function(){return s.getTextContent}});var f=r(672);Object.defineProperty(t,"isCollapsed",{enumerable:!0,get:function(){return f.isCollapsed}});var d=r(370);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return d.isEmpty}}),Object.defineProperty(t,"isEmptyLine",{enumerable:!0,get:function(){return d.isEmptyLine}});var p=r(673);Object.defineProperty(t,"join",{enumerable:!0,get:function(){return p.join}});var m=r(674);Object.defineProperty(t,"registerFormatType",{enumerable:!0,get:function(){return m.registerFormatType}});var v=r(374);Object.defineProperty(t,"removeFormat",{enumerable:!0,get:function(){return v.removeFormat}});var g=r(676);Object.defineProperty(t,"remove",{enumerable:!0,get:function(){return g.remove}});var y=r(375);Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return y.replace}});var b=r(100);Object.defineProperty(t,"insert",{enumerable:!0,get:function(){return b.insert}});var h=r(677);Object.defineProperty(t,"insertLineSeparator",{enumerable:!0,get:function(){return h.insertLineSeparator}});var _=r(678);Object.defineProperty(t,"insertObject",{enumerable:!0,get:function(){return _.insertObject}});var T=r(679);Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return T.slice}});var O=r(680);Object.defineProperty(t,"split",{enumerable:!0,get:function(){return O.split}});var A=r(681);Object.defineProperty(t,"apply",{enumerable:!0,get:function(){return A.apply}}),Object.defineProperty(t,"unstableToDom",{enumerable:!0,get:function(){return A.toDom}});var x=r(683);Object.defineProperty(t,"toHTMLString",{enumerable:!0,get:function(){return x.toHTMLString}});var P=r(684);Object.defineProperty(t,"toggleFormat",{enumerable:!0,get:function(){return P.toggleFormat}});var E=r(80);Object.defineProperty(t,"LINE_SEPARATOR",{enumerable:!0,get:function(){return E.LINE_SEPARATOR}});var j=r(685);Object.defineProperty(t,"unregisterFormatType",{enumerable:!0,get:function(){return j.unregisterFormatType}}),r(686)},664:function(e,t,r){"use strict";function n(e,t){return e.text[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.charAt=n},665:function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.normaliseFormats)(t.reduce(function(e,t){var r=t.formats,n=t.text;return{text:e.text+n,formats:e.formats.concat(r)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.concat=n;var o=r(62)},666:function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}t.a=n},667:function(e,t,r){"use strict";function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.a=n},668:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.a=n},669:function(e,t,r){"use strict";function n(e,t){var r=e.implementation,n=r.createHTMLDocument(""),o=n.body;return o.innerHTML=t,o}Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=n},670:function(e,t,r){"use strict";function n(e){return e.end}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionEnd=n},671:function(e,t,r){"use strict";function n(e){return e.start}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectionStart=n},672:function(e,t,r){"use strict";function n(e){var t=e.start,r=e.end;if(void 0!==t&&void 0!==r)return t===r}Object.defineProperty(t,"__esModule",{value:!0}),t.isCollapsed=n},673:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"==typeof t&&(t=(0,o.create)({text:t})),(0,a.normaliseFormats)(e.reduce(function(e,r){var n=r.formats,o=r.text;return{text:e.text+t.text+o,formats:e.formats.concat(t.formats,n)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.join=n;var o=r(98),a=r(62)},674:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(t=(0,d.default)({name:e},t),"string"!=typeof t.name)return void window.console.error("Format names must be strings.");if(!/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(t.name))return void window.console.error("Format names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-format");if((0,m.select)("core/rich-text").getFormatType(t.name))return void window.console.error('Format "'+t.name+'" is already registered.');if("string"!=typeof t.tagName||""===t.tagName)return void window.console.error("Format tag names must be a string.");if(("string"!=typeof t.className||""===t.className)&&null!==t.className)return void window.console.error("Format class names must be a string, or null to handle bare elements.");if(!/^[_a-zA-Z]+[a-zA-Z0-9-]*$/.test(t.className))return void window.console.error("A class name must begin with a letter, followed by any number of hyphens, letters, or numbers.");if(null===t.className){var r=(0,m.select)("core/rich-text").getFormatTypeForBareElement(t.tagName);if(r)return void window.console.error('Format "'.concat(r.name,'" is already registered to handle bare tag name "').concat(t.tagName,'".'))}else{var n=(0,m.select)("core/rich-text").getFormatTypeForClassName(t.className);if(n)return void window.console.error('Format "'.concat(n.name,'" is already registered to handle class name "').concat(t.className,'".'))}return"title"in t&&""!==t.title?"keywords"in t&&t.keywords.length>3?void window.console.error('The format "'+t.name+'" can have a maximum of 3 keywords.'):"string"!=typeof t.title?void window.console.error("Format titles must be strings."):((0,m.dispatch)("core/rich-text").addFormatTypes(t),t.__experimentalCreatePrepareEditableTree&&t.__experimentalGetPropsForEditableTreePreparation&&(0,v.addFilter)("experimentalRichText",e,function(r){return(0,m.withSelect)(function(r,n){var o=n.clientId,a=n.identifier;return(0,s.default)({},"format_".concat(e),t.__experimentalGetPropsForEditableTreePreparation(r,{richTextIdentifier:a,blockClientId:o}))})(function(n){return(0,p.createElement)(r,(0,i.default)({},n,{prepareEditableTree:(0,c.default)(n.prepareEditableTree||[]).concat([t.__experimentalCreatePrepareEditableTree(n["format_".concat(e)],{richTextIdentifier:n.identifier,blockClientId:n.clientId})])}))})}),t):void window.console.error('The format "'+t.name+'" must have a title.')}Object.defineProperty(t,"__esModule",{value:!0}),t.registerFormatType=o;var a=r(675),i=n(a),u=r(99),c=n(u),l=r(373),s=n(l),f=r(81),d=n(f),p=r(1),m=r(63),v=r(16)},675:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},676:function(e,t,r){"use strict";function n(e,t,r){return(0,o.insert)(e,(0,a.create)(),t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.remove=n;var o=r(100),a=r(98)},677:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.start,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.end,n=(0,o.getTextContent)(e).slice(0,t),u=n.lastIndexOf(i.LINE_SEPARATOR),c=[,];-1!==u&&(c=[e.formats[u]]);var l={formats:c,text:i.LINE_SEPARATOR};return(0,a.insert)(e,l,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.insertLineSeparator=n;var o=r(372),a=r(100),i=r(80)},678:function(e,t,r){"use strict";function n(e,t,r,n){var o={text:u,formats:[[(0,a.default)({},t,{object:!0})]]};return(0,i.insert)(e,o,r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.insertObject=n;var o=r(81),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(100),u="￼"},679:function(e,t,r){"use strict";function n(e){var t=e.formats,r=e.text,n=e.start,o=e.end,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return void 0===a||void 0===i?{formats:t,text:r}:{formats:t.slice(a,i),text:r.slice(a,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.slice=n},680:function(e,t,r){"use strict";function n(e,t){var r=e.formats,n=e.text,a=e.start,i=e.end;if("string"!=typeof t)return o.apply(void 0,arguments);var u=0;return n.split(t).map(function(e){var n=u,o={formats:r.slice(n,n+e.length),text:e};return u+=t.length+e.length,void 0!==a&&void 0!==i&&(a>=n&&a<u?o.start=a-n:a<n&&i>n&&(o.start=0),i>=n&&i<u?o.end=i-n:a<u&&i>u&&(o.end=e.length)),o})}function o(e){var t=e.formats,r=e.text,n=e.start,o=e.end,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,c={formats:t.slice(0,i),text:r.slice(0,i)},l={formats:t.slice(u),text:r.slice(u),start:0,end:0};return[(0,a.replace)(c,/\u2028+$/,""),(0,a.replace)(l,/^\u2028+/,"")]}Object.defineProperty(t,"__esModule",{value:!0}),t.split=n;var a=r(375)},681:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){for(var n=e.parentNode,a=0;e=e.previousSibling;)a++;return r=[a].concat((0,A.default)(r)),n!==t&&(r=o(n,t,r)),r}function a(e,t){for(t=(0,A.default)(t);e&&t.length>1;)e=e.childNodes[t.shift()];return{node:e,offset:t[0]}}function i(){return document.implementation.createHTMLDocument("").body}function u(e,t){"string"==typeof t&&(t=e.ownerDocument.createTextNode(t));var r=t,n=r.type,o=r.attributes;if(n){t=e.ownerDocument.createElement(n);for(var a in o)t.setAttribute(a,o[a])}return e.appendChild(t)}function c(e,t){e.appendData(t)}function l(e){return e.lastChild}function s(e){return e.parentNode}function f(e){return e.nodeType===E}function d(e){return e.nodeValue}function p(e){return e.parentNode.removeChild(e)}function m(e){for(var t=e.element,r=e.createLinePadding,n=e.multilineWrapperTags,o=t.childNodes.length,a=t.ownerDocument,i=0;i<o;i++){var u=t.childNodes[i];u.nodeType===E?1!==o||u.nodeValue||t.appendChild(r(a)):(n&&!u.previousSibling&&-1!==n.indexOf(u.nodeName.toLowerCase())&&t.insertBefore(r(a),u),m({element:u,createLinePadding:r,multilineWrapperTags:n}))}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce(function(e,r){return r(e,t.text)},t.formats)}function g(e){var t=e.value,r=e.multilineTag,n=e.multilineWrapperTags,a=e.createLinePadding,g=e.prepareEditableTree,y=[],b=[],h=(0,x.toTree)({value:(0,T.default)({},t,{formats:v(g,t)}),multilineTag:r,multilineWrapperTags:n,createEmpty:i,append:u,getLastChild:l,getParent:s,isText:f,getText:d,remove:p,appendText:c,onStartIndex:function(e,t){y=o(t,e,[t.nodeValue.length])},onEndIndex:function(e,t){b=o(t,e,[t.nodeValue.length])},isEditableTree:!0});return a&&m({element:h,createLinePadding:a,multilineWrapperTags:n}),{body:h,selection:{startPath:y,endPath:b}}}function y(e){var t=e.value,r=e.current,n=e.multilineTag,o=e.multilineWrapperTags,a=e.createLinePadding,i=e.prepareEditableTree,u=g({value:t,multilineTag:n,multilineWrapperTags:o,createLinePadding:a,prepareEditableTree:i}),c=u.body,l=u.selection;b(c,r),void 0!==t.start&&h(l,r)}function b(e,t){for(var r=0;e.firstChild;){var n=t.childNodes[r],o=e.firstChild.nodeType;n?o!==n.nodeType||o!==E||e.firstChild.nodeValue!==n.nodeValue?t.replaceChild(e.firstChild,n):e.removeChild(e.firstChild):t.appendChild(e.firstChild),r++}for(;t.childNodes[r];)t.removeChild(t.childNodes[r])}function h(e,t){var r=a(t,e.startPath),n=r.node,o=r.offset,i=a(t,e.endPath),u=i.node,c=i.offset,l=window.getSelection(),s=t.ownerDocument.createRange(),f=n===u&&o===c;f&&0===o&&n.previousSibling&&n.previousSibling.nodeType===j&&"BR"!==n.previousSibling.nodeName?(n.insertData(0,"\ufeff"),s.setStart(n,1),s.setEnd(u,1)):f&&0===o&&n===E&&0===n.nodeValue.length?(n.insertData(0,"\ufeff"),s.setStart(n,1),s.setEnd(u,1)):(s.setStart(n,o),s.setEnd(u,c)),l.removeAllRanges(),l.addRange(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.toDom=g,t.apply=y,t.applyValue=b,t.applySelection=h;var _=r(81),T=n(_),O=r(99),A=n(O),x=r(376),P=window.Node,E=P.TEXT_NODE,j=P.ELEMENT_NODE},682:function(e,t,r){"use strict";function n(e){return(0,o.select)("core/rich-text").getFormatType(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormatType=n;var o=r(63)},683:function(e,t,r){"use strict";function n(e){var t=e.value,r=e.multilineTag,n=e.multilineWrapperTags;return void 0===t&&((0,g.default)("wp.richText.toHTMLString positional parameters",{version:"4.4",alternative:"named parameters",plugin:"Gutenberg"}),t=arguments[0],r=arguments[1],n=arguments[2]),p((0,y.toTree)({value:t,multilineTag:r,multilineWrapperTags:n,createEmpty:o,append:i,getLastChild:a,getParent:c,isText:l,getText:s,remove:f,appendText:u}).children)}function o(){return{}}function a(e){var t=e.children;return t&&t[t.length-1]}function i(e,t){return"string"==typeof t&&(t={text:t}),t.parent=e,e.children=e.children||[],e.children.push(t),t}function u(e,t){e.text+=t}function c(e){return e.parent}function l(e){return"string"==typeof e.text}function s(e){return e.text}function f(e){var t=e.parent.children.indexOf(e);return-1!==t&&e.parent.children.splice(t,1),e}function d(e){var t=e.type,r=e.attributes,n=e.object,o=e.children,a="";for(var i in r)(0,m.isValidAttributeName)(i)&&(a+=" ".concat(i,'="').concat((0,m.escapeAttribute)(r[i]),'"'));return n?"<".concat(t).concat(a,">"):"<".concat(t).concat(a,">").concat(p(o),"</").concat(t,">")}function p(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return void 0===e.text?d(e):(0,m.escapeHTML)(e.text)}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.toHTMLString=n;var m=r(141),v=r(41),g=function(e){return e&&e.__esModule?e:{default:e}}(v),y=r(376)},684:function(e,t,r){"use strict";function n(e,t){return(0,o.getActiveFormat)(e,t.type)?(0,a.removeFormat)(e,t.type):(0,i.applyFormat)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleFormat=n;var o=r(371),a=r(374),i=r(367)},685:function(e,t,r){"use strict";function n(e){var t=(0,o.select)("core/rich-text").getFormatType(e);return t?(t.__experimentalCreatePrepareEditableTree&&t.__experimentalGetPropsForEditableTreePreparation&&(0,a.removeFilter)("experimentalRichText",e),(0,o.dispatch)("core/rich-text").removeFormatTypes(e),t):void window.console.error("Format ".concat(e," is not registered."))}Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterFormatType=n;var o=r(63),a=r(16)},686:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var o=r(63),a=r(687),i=function(e){return e&&e.__esModule?e:{default:e}}(a),u=r(688),c=n(u),l=r(690),s=n(l);(0,o.registerStore)("core/rich-text",{reducer:i.default,selectors:c,actions:s})},687:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FORMAT_TYPES":return(0,a.default)({},e,(0,i.keyBy)(t.formatTypes,"name"));case"REMOVE_FORMAT_TYPES":return(0,i.omit)(e,t.names)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.formatTypes=n;var o=r(81),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=r(2),u=r(63);t.default=(0,u.combineReducers)({formatTypes:n})},688:function(e,t,r){"use strict";function n(e,t){return e.formatTypes[t]}function o(e,t){return(0,c.find)(l(e),function(e){var r=e.tagName;return t===r})}function a(e,t){return(0,c.find)(l(e),function(e){var r=e.className;return null!==r&&" ".concat(t," ").indexOf(" ".concat(r," "))>=0})}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormatTypes=void 0,t.getFormatType=n,t.getFormatTypeForBareElement=o,t.getFormatTypeForClassName=a;var i=r(689),u=function(e){return e&&e.__esModule?e:{default:e}}(i),c=r(2),l=t.getFormatTypes=(0,u.default)(function(e){return Object.values(e.formatTypes)},function(e){return[e.formatTypes]})},689:function(e,t,r){"use strict";function n(e){return[e]}function o(e){return!!e&&"object"==typeof e}function a(){var e={clear:function(){e.head=null}};return e}function i(e,t,r){var n;if(e.length!==t.length)return!1;for(n=r;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var u,c;u={},c="undefined"!=typeof WeakMap,t.default=function(e,t){function r(){return d}function l(e){var t,r,n,i,c=d,l=!0;for(t=0;t<e.length;t++){if(r=e[t],!o(r)){l=!1;break}c.has(r)?c=c.get(r):(n=new WeakMap,c.set(r,n),c=n)}return c.has(u)||(i=a(),i.isUniqueByDependants=l,c.set(u,i)),c.get(u)}function s(){d=c?new WeakMap:a()}function f(){var r,n,o,a,u,c=arguments.length;for(a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];for(u=t.apply(null,a),r=p(u),r.isUniqueByDependants||(r.lastDependants&&!i(u,r.lastDependants,0)&&r.clear(),r.lastDependants=u),n=r.head;n;){if(i(n.args,a,1))return n!==r.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=r.head,n.prev=null,r.head.prev=n,r.head=n),n.val;n=n.next}return n={val:e.apply(null,a)},a[0]=null,n.args=a,r.head&&(r.head.prev=n,n.next=r.head),r.head=n,n.val}var d,p;return t||(t=n),p=c?l:r,f.getDependants=t,f.clear=s,s(),f}},690:function(e,t,r){"use strict";function n(e){return{type:"ADD_FORMAT_TYPES",formatTypes:(0,a.castArray)(e)}}function o(e){return{type:"REMOVE_FORMAT_TYPES",names:(0,a.castArray)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.addFormatTypes=n,t.removeFormatTypes=o;var a=r(2)},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LINE_SEPARATOR="\u2028",t.OBJECT_REPLACEMENT_CHARACTER="￼",t.ZERO_WIDTH_NO_BREAK_SPACE="\ufeff"},81:function(e,t,r){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Object(o.default)(e,t,r[t])})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(373)},98:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return{formats:[],text:""}}function a(e,t){for(var r in e)if(e[r]===t)return r}function i(e){var t,r=e.type,n=e.attributes;if(n&&n.class&&(t=(0,y.select)("core/rich-text").getFormatTypeForClassName(n.class))&&(n.class=" ".concat(n.class," ").replace(" ".concat(t.className," ")," ").trim(),n.class||delete n.class),t||(t=(0,y.select)("core/rich-text").getFormatTypeForBareElement(r)),!t)return n?{type:r,attributes:n}:{type:r};if(t.__experimentalCreatePrepareEditableTree)return null;if(!n)return{type:t.name};var o={},i={};for(var u in n){var c=a(t.attributes,u);c?o[c]=n[u]:i[u]=n[u]}return{type:t.name,attributes:o,unregisteredAttributes:i}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,r=e.text,n=e.html,a=e.range,i=e.multilineTag,u=e.multilineWrapperTags,c=e.removeNode,l=e.unwrapNode,d=e.filterString,p=e.removeAttribute;return"string"==typeof r&&r.length>0?{formats:Array(r.length),text:r}:("string"==typeof n&&n.length>0&&(t=(0,_.createElement)(document,n)),"object"!==(0,g.default)(t)?o():i?f({element:t,range:a,multilineTag:i,multilineWrapperTags:u,removeNode:c,unwrapNode:l,filterString:d,removeAttribute:p}):s({element:t,range:a,removeNode:c,unwrapNode:l,filterString:d,removeAttribute:p}))}function c(e,t,r,n){if(r){var o=t.parentNode,a=r.startContainer,i=r.startOffset,u=r.endContainer,c=r.endOffset,l=e.text.length;void 0!==n.start?e.start=l+n.start:t===a&&t.nodeType===A?e.start=l+i:o===a&&t===a.childNodes[i]?e.start=l:o===a&&t===a.childNodes[i-1]?e.start=l+n.text.length:t===a&&(e.start=l),void 0!==n.end?e.end=l+n.end:t===u&&t.nodeType===A?e.end=l+c:o===u&&t===u.childNodes[c-1]?e.end=l+n.text.length:o===u&&t===u.childNodes[c]?e.end=l:t===u&&(e.end=l+c)}}function l(e,t,r){if(t){var n=t.startContainer,o=t.endContainer,a=t.startOffset,i=t.endOffset;return e===n&&(a=r(e.nodeValue.slice(0,a)).length),e===o&&(i=r(e.nodeValue.slice(0,i)).length),{startContainer:n,startOffset:a,endContainer:o,endOffset:i}}}function s(e){var t=e.element,r=e.range,n=e.multilineTag,a=e.multilineWrapperTags,u=e.currentWrapperTags,p=void 0===u?[]:u,v=e.removeNode,g=e.unwrapNode,y=e.filterString,_=e.removeAttribute,O=o();if(!t)return O;if(!t.hasChildNodes())return c(O,t,r,o()),O;for(var P=t.childNodes.length,E=function(e){return e=e.replace(/[\r\n]/g,""),y&&(e=y(e)),e},j=0;j<P;j++){var F=t.childNodes[j],M=F.nodeName.toLowerCase();if(F.nodeType!==A){if(F.nodeType===x)if(v&&v(F)||g&&g(F)&&!F.hasChildNodes())c(O,F,r,o());else if("br"!==M){var N=O.formats[O.formats.length-1],w=N&&N[N.length-1],S=void 0,C=void 0;if(!g||!g(F)){var R=i({type:M,attributes:d({element:F,removeAttribute:_})});R&&(S=(0,h.isFormatEqual)(R,w)?w:R)}a&&-1!==a.indexOf(M)?(C=f({element:F,range:r,multilineTag:n,multilineWrapperTags:a,removeNode:v,unwrapNode:g,filterString:y,removeAttribute:_,currentWrapperTags:(0,m.default)(p).concat([S])}),S=void 0):C=s({element:F,range:r,multilineTag:n,multilineWrapperTags:a,removeNode:v,unwrapNode:g,filterString:y,removeAttribute:_});var L=C.text,I=O.text.length;if(c(O,F,r,C),!(0,b.isEmpty)(C)||!S||S.attributes){var D=O.formats;if(S&&S.attributes&&0===L.length)S.object=!0,O.text+=T.OBJECT_REPLACEMENT_CHARACTER,D[I]?D[I].unshift(S):D[I]=[S];else{O.text+=L,O.formats.length+=L.length;for(var k=C.formats.length;k--;){var W=I+k;if(S&&(D[W]?D[W].push(S):D[W]=[S]),C.formats[k])if(D[W]){var H;(H=D[W]).push.apply(H,(0,m.default)(C.formats[k]))}else D[W]=C.formats[k]}}}}else c(O,F,r,o()),O.text+="\n",O.formats.length+=1}else{var V=E(F.nodeValue);r=l(F,r,E),c(O,F,r,{text:V}),O.text+=V,O.formats.length+=V.length}}return O}function f(e){var t=e.element,r=e.range,n=e.multilineTag,a=e.multilineWrapperTags,i=e.removeNode,u=e.unwrapNode,l=e.filterString,f=e.removeAttribute,d=e.currentWrapperTags,p=void 0===d?[]:d,m=o();if(!t||!t.hasChildNodes())return m;for(var v=t.children.length,g=0;g<v;g++){var y=t.children[g];if(y.nodeName.toLowerCase()===n){var b=s({element:y,range:r,multilineTag:n,multilineWrapperTags:a,currentWrapperTags:p,removeNode:i,unwrapNode:u,filterString:l,removeAttribute:f});if("\n"===b.text){var h=b.start,_=b.end;b=o(),void 0!==h&&(b.start=0),void 0!==_&&(b.end=0)}if(0!==g||p.length>0){var O=p.length>0?[p]:[,];m.formats=m.formats.concat(O),m.text+=T.LINE_SEPARATOR}c(m,y,r,b),m.formats=m.formats.concat(b.formats),m.text+=b.text}}return m}function d(e){var t=e.element,r=e.removeAttribute;if(t.hasAttributes()){for(var n,o=t.attributes.length,a=0;a<o;a++){var i=t.attributes[a],u=i.name,c=i.value;r&&r(u)||(n=n||{},n[u]=c)}return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.create=u;var p=r(99),m=n(p),v=r(369),g=n(v),y=r(63),b=r(370),h=r(368),_=r(669),T=r(80),O=window.Node,A=O.TEXT_NODE,x=O.ELEMENT_NODE},99:function(e,t,r){"use strict";function n(e){return Object(o.a)(e)||Object(a.a)(e)||Object(i.a)()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(666),a=r(667),i=r(668)}});