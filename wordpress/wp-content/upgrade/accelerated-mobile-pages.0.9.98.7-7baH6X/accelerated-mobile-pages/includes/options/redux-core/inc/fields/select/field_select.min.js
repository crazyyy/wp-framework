!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.select=redux.field_objects.select||{},redux.field_objects.select.init=function(t){t||(t=e(document).find(".redux-container-select:visible")),e(t).each(function(){var t=e(this),s=t;t.hasClass("redux-field-container")||(s=t.parents(".redux-field-container:first")),s.is(":hidden")||s.hasClass("redux-field-init")&&(s.removeClass("redux-field-init"),t.find("select.redux-select-item").each(function(){var t={width:"resolve",triggerChange:!0,allowClear:!0};if("multiple"==e(this).attr("multiple")&&(t.width="100%"),e(this).siblings(".select2_params").size()>0){var s=e(this).siblings(".select2_params").val();s=JSON.parse(s),t=e.extend({},t,s)}e(this).hasClass("font-icons")&&(t=e.extend({},{formatResult:redux.field_objects.select.addIcon,formatSelection:redux.field_objects.select.addIcon,escapeMarkup:function(e){return e}},t)),e(this).select2(t),e(this).hasClass("select2-sortable")&&((t={}).bindOrder="sortableStop",t.sortableOptions={placeholder:"ui-state-highlight"},e(this).select2Sortable(t))}),t.find("select.redux-select-item-ajax").each(function(){var t=e(this).attr("data-action");if(e(this).siblings(".select2_params").size()>0){var s=e(this).siblings(".select2_params").val();s=JSON.parse(s),default_params=e.extend({},default_params,s)}e(this).select2({allowClear:!0,triggerChange:!0,ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(e){return{q:e.term,action:t,security:ampforwp_nonce}},processResults:function(t){var s=[];return t&&e.each(t,function(e,t){s.push({id:t[0],text:t[1]})}),{results:s}},cache:!0},formatResult:function(e){return e.title},formatSelection:function(e){return e.title},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},sorter:function(e){return e.sort(function(e,t){return(e=e.text.toLowerCase())>(t=t.text.toLowerCase())?1:e<t?-1:0})},minimumInputLength:2}),e(this).parent("fieldset").find(".select2-container--default").css("width","100%"),e(this).parent("fieldset").find(".select2-search__field").css("width","100%")}))})},redux.field_objects.select.addIcon=function(e){if(e.hasOwnProperty("id"))return"<span class='elusive'><i class='"+e.id+"'></i>&nbsp;&nbsp;"+e.text+"</span>"}}(jQuery);