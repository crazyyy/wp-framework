!function(e){"use strict";function i(e){t("first")}function t(e){var i=jQuery("#redux_builder_amp-opt-media").find("input[type=text]").val();if(""!=i&&void 0!==i){var t=jQuery("#ampforwp-custom-logo-dimensions-slider").val();if(0==jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").length&&"first"==e)(a=new Image).src=i,a.onload=function(){0==jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").length&&jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").append("<div class='logo_preview'><img src='"+i+"' style='width:"+t+"% !important;max-width: "+this.width+"px !important;'></div>")};var a,d=jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("src");(a=new Image).src=i,a.onload=function(){d==i?jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("style","width:"+t+"% !important; max-width: "+this.width+"px !important;"):jQuery("#redux_builder_amp-ampforwp-custom-logo-dimensions-slider").find(".logo_preview").find("img").attr("src",i).attr("style","width:"+t+"% !important; max-width: "+this.width+"px !important;")}}}redux.field_objects=redux.field_objects||{},redux.field_objects.amp_slider=redux.field_objects.amp_slider||{},e(document).ready(function(){}),redux.field_objects.amp_slider.init=function(a){a||(a=e(document).find(".redux-group-tab:visible").find(".redux-container-amp_slider:visible"),t()),e(a).each(function(){var t=e(this),a=t;if(t.hasClass("redux-field-container")||(a=t.parents(".redux-field-container:first")),!a.is(":hidden")&&a.hasClass("redux-field-init")){a.removeClass("redux-field-init"),t.find("div.redux-amp_slider-container").each(function(){var a,d,r,l,n,s,o=e(this).data("id"),u=e(this).data("min"),p=e(this).data("max"),f=e(this).data("step"),c=e(this).data("handles"),m=e(this).data("default-one"),v=e(this).data("default-two"),_=e(this).data("resolution"),x=parseInt(e(this).data("display")),h=Boolean(e(this).data("rtl")),w=e(this).data("float-mark");Boolean(e(this).data("forced"));s=!0===h?"rtl":"ltr";var g,b,j,y,Q=[u,p],k=[m,v],C=[m];if(2==x?(g=r=t.find(".redux-amp_slider-input-one-"+o),b=l=t.find(".redux-amp_slider-input-two-"+o)):3==x?(r=t.find(".redux-amp_slider-select-one-"+o),l=t.find(".redux-amp_slider-select-two-"+o),redux.field_objects.slider.loadSelect(r,u,p,_,f),2===c&&redux.field_objects.slider.loadSelect(l,u,p,_,f)):1==x?(r=t.find("#redux-amp_slider-label-one-"+o),l=t.find("#redux-amp_slider-label-two-"+o)):0==x&&(r=t.find(".redux-amp_slider-value-one-"+o),l=t.find(".redux-amp_slider-value-two-"+o)),1==x){var S=[r,"html"];j=[S],y=[S,[l,"html"]]}else j=[r],y=[r,l];2===c?(a=k,d=y,n=!0):(a=C,d=j,n="lower");var I=e(this).noUiSlider({range:Q,start:a,handles:c,step:f,connect:n,behaviour:"tap-drag",direction:s,serialization:{resolution:_,to:d,mark:w},slide:function(){if(1==x)if(2===c){var a=I.val();t.find("input.redux-amp_slider-value-one-"+o).attr("value",a[0]),i(a[0]),t.find("input.redux-amp_slider-value-two-"+o).attr("value",a[1]),i(a[1])}else t.find("input.redux-amp_slider-value-one-"+o).attr("value",I.val()),i(I.val());3==x&&(2===c?(t.find(".redux-amp_slider-select-one").select2("val",I.val()[0]),i(I.val()[0]),t.find(".redux-amp_slider-select-two").select2("val",I.val()[1]),i(I.val()[1])):(t.find(".redux-amp_slider-select-one").select2("val",I.val()),i(I.val()))),redux_change(e(this).parents(".redux-field-container:first").find("input")),i(I.val())},change:function(){i(I.val())}});2===x&&(g.keydown(function(e){var i=I.val(),t=parseInt(i[0]);switch(e.which){case 38:I.val([t+1,null]);break;case 40:I.val([t-1,null]);break;case 13:e.preventDefault()}}),2===c&&b.keydown(function(e){var i=I.val(),t=parseInt(i[1]);switch(e.which){case 38:I.val([null,t+1]);break;case 40:I.val([null,t-1]);break;case 13:e.preventDefault()}}),i(I.val()))});var d={width:"resolve",triggerChange:!0,allowClear:!0},r=t.find(".select2_params");if(r.size()>0){var l=r.val();l=JSON.parse(l),d=e.extend({},d,l)}t.find("select.redux-amp_slider-select-one, select.redux-amp_slider-select-two").select2(d)}})},redux.field_objects.amp_slider.isFloat=function(e){return+e===e&&!isFinite(e)||Boolean(e%1)},redux.field_objects.amp_slider.decimalCount=function(e){return e.toString().split(".")[1].length},redux.field_objects.amp_slider.loadSelect=function(i,t,a,d,r){for(var l=t;l<=a;l+=d){var n=l;if(redux.field_objects.amp_slider.isFloat(d)){var s=redux.field_objects.amp_slider.decimalCount(d);n=l.toFixed(s)}e(i).append('<option value="'+n+'">'+n+"</option>")}},jQuery("#redux_builder_amp-opt-media").find(".screenshot").on("DOMSubtreeModified",function(){""!=jQuery(this).html()&&t("")})}(jQuery);