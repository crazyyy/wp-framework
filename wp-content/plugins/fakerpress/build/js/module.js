!function(e,s){"use strict";var t={selectors:{moduleGenerator:".fp-module-generator"},log:function(t,o,i,a){var n={attrClass:a=void 0===a?"notice is-dismissible":"notice is-dismissible "+a,html:s.template(o)(i)},r=s.template('<div class="<%= attrClass %>"><p><%= html %></p><button type="button" class="notice-dismiss"></button></div>')(n),l=e(r);return l.on("click.wp-dismiss-notice",".notice-dismiss",(function(s){s.preventDefault(),l.fadeTo(100,0,(function(){e(this).slideUp(100,(function(){e(this).remove()}))}))})),t.append(l)},moduleGenerate:function(s,o){void 0===o&&(o=window.fakerpress.qs.parse(s.serialize())),o.action="fakerpress.module_generate";var i=s.find(".fp-submit"),a=i.find(".spinner"),n=i.find(".button-primary"),r=i.find(".fp-response");a.hasClass("is-active")||(a.addClass("is-active"),n.prop("disabled",!0),e.ajax({dataType:"json",type:"POST",url:window.ajaxurl,data:o,complete:function(e,s){"success"!==s&&(a.removeClass("is-active"),n.prop("disabled",!1),t.log(r,"<%= message %>",{message:e.responseText},"notice-error"))},success:function(e,i,l){a.removeClass("is-active"),null===e?(n.prop("disabled",!1),t.log(r,"<%= message %>",{message:l.responseText},"notice-error")):e.status?(e.is_capped&&e.offset<e.total?(o.offset=e.offset,o.total=e.total,t.moduleGenerate(s,o)):n.prop("disabled",!1),t.log(r,"Faked <%= total %>: <%= message %>",{message:e.message,total:e.results.length},"notice-success")):(n.prop("disabled",!1),t.log(r,"<%= message %>",e,"notice-error"))}}))}};e((function(){e(t.selectors.moduleGenerator).each((function(){var s=e(this);s.on("submit",(function(e){t.moduleGenerate(s),console.log("Form",s),e.preventDefault()}))}))}))}(jQuery,_),window.fakerpress=window.fakerpress||{},window.fakerpress.module={};