void 0===window.fakerpress&&(window.fakerpress={}),window.fakerpress.fields={},window.fakerpress.ready_class="fp-js-ready",window.fakerpress.plugin="fakerpress",window.fakerpress.abbr="fp",window.fakerpress.fieldName=function(e){return e=e.map(function(e){return new String(e)}),this.plugin+"["+e.join("][")+"]"},window.fakerpress.fieldId=function(e){return this.plugin+"-field-"+e.join("-")},window.fakerpress.searchId=function(e){var t=null;return void 0!==e.id?t=e.id:void 0!==e.ID?t=e.ID:void 0!==e.value&&(t=e.value),null==e?null:t},window.fakerpress.fields.dates=function(t,e){"use strict";t(".fp-type-date").not(".hasDatepicker").datepicker({after:["attr"],constrainInput:!1,dateFormat:"yy-mm-dd"}),t(".fp-type-interval-wrap").each(function(){var e=t(this),r=e.find(".fp-type-dropdown"),n=e.find('[data-type="min"]'),i=e.find('[data-type="max"]');e.hasClass(window.fakerpress.ready_class)||(e.addClass(window.fakerpress.ready_class),n.on({change:function(e){n.parents(".fp-field-wrap").find('[data-type="max"]').datepicker("option","minDate",t(this).val()).datepicker("refresh"),t(".fp-type-date.hasDatepicker").datepicker("refresh")}}),i.on({change:function(e){i.parents(".fp-field-wrap").find('[data-type="min"]').datepicker("option","maxDate",t(this).val()).datepicker("refresh"),t(".fp-type-date.hasDatepicker").datepicker("refresh")}}),r.on({change:function(e){var t=r.find(":selected"),a=t.attr("min"),t=t.attr("max");n.datepicker("setDate",a),i.datepicker("setDate",t)}}).trigger("change"))})},window.fakerpress.fields.dropdown=function(s,o){"use strict";var e=s(".fp-type-dropdown").not(".select2-offscreen, .select2-container"),t={wp_query_title:[]};t.wp_query_title.push("ID: &quot;<%= ID %>&quot;"),t.wp_query_title.push("Title: &quot;<%= post_title %>&quot;"),t.wp_query_title.push("Post Type: &quot;<%= post_type.labels.singular_name %>&quot;"),t.wp_query_title.push("Author: &quot;<%= post_author %>&quot;"),e.each(function(){var r,n=s(this),i={width:420};n.is("[multiple]")?(i.multiple=!0,n.is("[data-tags]")||(i.data=function(){return{results:n.data("options")}}),o.isArray(n.data("separator"))?i.tokenSeparators=n.data("separator"):i.tokenSeparators=[n.data("separator")],i.separator=n.data("separator"),i.regexSeparatorElements=["^("],i.regexSplitElements=["(?:"],s.each(i.tokenSeparators,function(e,t){i.regexSeparatorElements.push("[^"+t+"]+"),i.regexSplitElements.push("["+t+"]")}),i.regexSeparatorElements.push(")$"),i.regexSplitElements.push(")"),i.regexSeparatorString=i.regexSeparatorElements.join(""),i.regexSplitString=i.regexSplitElements.join(""),i.regexToken=new RegExp(i.regexSeparatorString,"ig"),i.regexSplit=new RegExp(i.regexSplitString,"ig"),i.id=window.fakerpress.searchId):i.width=200,i.matcher=function(e,t){var a=0==t.toUpperCase().indexOf(e.toUpperCase());return a||void 0===i.tags||(t=o.where(i.tags,{text:t}),0<i.tags.length&&o.isObject(t)&&(a=0==window.fakerpress.searchId(t[0]).toUpperCase().indexOf(e.toUpperCase()))),a},n.is("[data-tags]")&&(i.tags=n.data("options"),i.initSelection=function(e,t){var a=[];s(e.val().split(i.regexSplit)).each(function(){var e,t={id:this,text:this};0<i.tags.length&&o.isObject(i.tags[0])&&(0<(e=o.where(i.tags,{value:this})).length&&(t={id:(t=e[0]).value,text:t.text})),a.push(t)}),t(a)},i.createSearchChoice=function(e,t){if(e.match(i.regexToken))return{id:e,text:e}},0===i.tags.length&&(i.formatNoMatches=function(){return n.attr("placeholder")})),n.is("[data-source]")&&(r=n.data("source"),i.data={results:[]},i.allowClear=!0,i.escapeMarkup=function(e){return e},i.ajax={dataType:"json",type:"POST",url:window.ajaxurl,results:function(e){return s.each(e.results,function(e,t){t.id=t.ID}),e}},"WP_Query"===r?(i.formatSelection=function(e){return o.template('<abbr title="'+t.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %>')(e)},i.formatResult=function(e){return o.template('<abbr title="'+t.wp_query_title.join("&#13;&#10;")+'"><%= post_type.labels.singular_name %>: <%= ID %> <b>[</b> <em><%= post_title %></em> <b>]</b></abbr>')(e)},i.ajax.data=function(e,t){var a=o.intersection(s("#fakerpress-field-post_types").val().split(","),o.pluck(o.where(s("#fakerpress-field-post_types").data("options"),{hierarchical:!0}),"id"));return{action:"fakerpress.select2-"+r,query:{s:e,posts_per_page:10,paged:t,post_type:a}}}):(i.ajax.data=function(e,t){var a=n.parents(".fp-table-taxonomy").eq(0);return{action:"fakerpress.select2-"+r,search:e,page:t,page_limit:25,taxonomies:a.find(".fp-taxonomies").select2("val"),exclude:s(this).select2("val")}},i.formatSelection=function(e){return o.template("<%= taxonomy %>: <%= name %>")(e)},i.formatResult=function(e){return o.template("<%= taxonomy %>: <%= name %>")(e)})),n.select2(i)}).on("change",function(e){var t=s(this),a=s(this).data("value");t.is("[multiple]")&&t.is("[data-source]")&&(e.added?o.isArray(a)?a.push(e.added):a=[e.added]:a=o.isArray(a)?o.without(a,e.removed):[],t.data("value",a).attr("data-value",JSON.stringify(a)))})},window.fakerpress.fields.range=function(i,e){"use strict";i(".fp-type-range-wrap").each(function(){var e=i(this),r=e.find('.fp-type-number[data-type="min"]'),n=e.find('.fp-type-number[data-type="max"]');e.hasClass(window.fakerpress.ready_class)||(e.addClass(window.fakerpress.ready_class),r.on({"change keyup":function(e){var t=parseInt(r.val(),10),a=parseInt(n.val(),10);i.isNumeric(t)?(n.prop("disabled",!1),a&&i.isNumeric(a)&&a<t&&r.val(a)):(n.prop("disabled",!0),r.val(""))}}).trigger("change"),n.on({"change keyup":function(e){var t=parseInt(r.val(),10),a=parseInt(n.val(),10);i.isNumeric(a)&&a<t&&r.val(a)}}).trigger("change"))})},function(e){e(document).ready(function(){e.each(window.fakerpress.fields,function(e,t){t(window.jQuery,window._)})})}(jQuery),function(f,c){"use strict";window.fakerpress.fieldset={items:[{name:"meta",$:{},selector:{container:".fp-type-meta-container",item:".fp-table-meta",type_container:".fp-meta_type-container",type:".fp-meta_type",name_container:".fp-meta_name-container",name:".fp-meta_name",conf_container:".fp-meta_conf-container"},update:function(e){this.render(e)},render:function(e){var t=this,a=e.find(t.selector.type).select2("val"),r=(e.find(t.selector.name).val(),e.find(t.selector.name_container)),n=(e.find(t.selector.type_container),e.find(t.selector.conf_container)),e=n.find(window.fakerpress.fieldset.selector.wrap);n.data("config");a instanceof jQuery&&(a=a.val()),(t=f(".fp-template-"+a).filter('[data-rel="'+t.$.container.attr("id")+'"]').filter("[data-callable]").html())&&a!==n.data("type")&&(n.data("type",a),e.empty().append(t),this.configure(n)),a?(r.removeClass("fp-last-child"),n.show()):(r.addClass("fp-last-child"),n.hide())},configure:function(e){var p=this,l=e.data("config");e.find(window.fakerpress.fieldset.selector.field).each(function(){var e=f(this),t=e.parents(p.selector.item).eq(0),a=e.next(window.fakerpress.fieldset.selector.label),r=e.next(window.fakerpress.fieldset.selector.internal_label),n=e.data("name"),i=parseInt(t.find(window.fakerpress.fieldset.selector.order).val(),10)-1,s=n[i],o=e.data("name"),t=e.data("id"),d=[],n=[];0===a.length&&(a=e.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),c.each(t,function(e,t,a){d.push(e),"meta"!==e&&"taxonomy"!==e||d.push(i)}),c.each(o,function(e,t,a){n.push(e),"meta"!==e&&"taxonomy"!==e||n.push(i)}),0!==d.length&&(e.attr("id",window.fakerpress.fieldId(d)),a.attr("for",window.fakerpress.fieldId(d)),r.attr("for",window.fakerpress.fieldId(d))),0!==n.length&&e.attr("name",window.fakerpress.fieldName(n)),void 0!==l&&void 0!==l[s]&&e.val(l[s])})},is_removeable:function(){if(1!==this.$.items.length)return!1;var e=this.$.items.eq(0);return!!c.isEmpty(e.find(this.selector.type).select2("val"))},setup:function(){var a=this;a.$.container.on("change",a.selector.type,[],function(e){var t=f(this);a.render(t),window.fakerpress.fieldset.update(a,!1)})},reset:function(e){}},{name:"taxonomy",$:{},selector:{container:".fp-type-taxonomy-container",item:".fp-table-taxonomy",taxonomies_container:".fp-taxonomies-container",taxonomies:".fp-taxonomies",terms_container:".fp-terms-container",terms:".fp-terms",weight_container:".fp-weight-container",weight:".fp-weight"},update:function(e){},is_removeable:function(){if(1!==this.$.items.length)return!1;var e=this.$.items.eq(0);return!(!c.isEmpty(e.find(this.selector.taxonomies).select2("val"))||!c.isEmpty(e.find(this.selector.terms).val()))},setup:function(){},reset:function(e){}}],selector:{wrap:".fp-field-wrap",duplicate:".fp-action-duplicate",remove:".fp-action-remove",order:".fp-action-order",label:".fp-field-label",internal_label:".fp-internal-label",field:".fp-field",field_container:".fp-field-container"},setup:function(a){var e=f("form").children(".form-table").children("tbody");a.$={},a.$.container=e.children(a.selector.container),a.$.wrap=a.$.container.children(window.fakerpress.fieldset.selector.wrap),a.$.container.on("click",this.selector.duplicate,[],function(e){var t=f(this).parents(a.selector.item).clone();t.find(".fp-type-date").removeClass("hasDatepicker").end().find(".fp-type-dropdown").removeClass("select2-offscreen").filter(".select2-container").remove(),window.fakerpress.fieldset.reset(a,t),a.$.wrap.append(t),window.fakerpress.fieldset.update(a)}),a.$.container.on("click",this.selector.remove,[],function(e){var t=f(this).parents(a.selector.item);1===a.$.items.length?window.fakerpress.fieldset.reset(a,a.$.items.eq(0)):t.remove(),window.fakerpress.fieldset.update(a)}),a.setup(),this.update(a,!1)},reset:function(e,t){t.find("tbody").find(window.fakerpress.fieldset.selector.field).each(function(){var e=f(this);e.val(""),e.hasClass("select2-offscreen")&&e.select2("val","")}),e.reset(t)},update:function(r){r.$.items=r.$.wrap.children(r.selector.item),r.is_removeable()?r.$.items.eq(0).find(window.fakerpress.fieldset.selector.remove).prop("disabled",!0).end().find(r.selector.name).prop("required",!1):r.$.items.find(window.fakerpress.fieldset.selector.remove).prop("disabled",!1).end().find(r.selector.name).prop("required",!0),r.$.items.each(function(o){var e=f(this),t=e.find(window.fakerpress.fieldset.selector.order),a=e.find(window.fakerpress.fieldset.selector.field);t.val(o+1),a.filter("input, textarea, select").each(function(){var e=f(this),t=e.next(window.fakerpress.fieldset.selector.label),a=e.next(window.fakerpress.fieldset.selector.internal_label),r=e.data("name"),n=e.data("id"),i=[],s=[];0===t.length&&(t=e.parents(window.fakerpress.fieldset.selector.field_container).eq(0).find(window.fakerpress.fieldset.selector.label)),c.each(n,function(e,t,a){i.push(e),"meta"!==e&&"taxonomy"!==e||i.push(o)}),c.each(r,function(e,t,a){s.push(e),"meta"!==e&&"taxonomy"!==e||s.push(o)}),0!==i.length&&(e.attr("id",window.fakerpress.fieldId(i)),t.attr("for",window.fakerpress.fieldId(i)),a.attr("for",window.fakerpress.fieldId(i))),0!==s.length&&e.attr("name",window.fakerpress.fieldName(s))}),r.update(e)}),f.each(window.fakerpress.fields,function(e,t){t(window.jQuery,window._)})}},f(document).ready(function(){f.each(window.fakerpress.fieldset.items,function(e,a){window.fakerpress.fieldset.setup(a),a.$.container.each(function(e,t){window.fakerpress.fieldset.update(a)})})})}(window.jQuery,window._);