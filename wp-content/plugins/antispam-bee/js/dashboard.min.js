(function(){var r=[],h=[];jQuery("#ab_chart_data tfoot th").each(function(){r.push(jQuery(this).html())});jQuery("#ab_chart_data tbody td").each(function(){h.push(jQuery(this).html())});var u=jQuery("#ab_chart").parent().width()+8,g=Raphael("ab_chart",u,140),a={font:'bold 12px "Open Sans", sans-serif',fill:"#333"},e=(u-0)/r.length,s=Math.max.apply(Math,h),v=96/s;g.text(16,16,s).attr({font:'normal 10px "Open Sans", sans-serif',fill:"#bbb"});var s=g.path().attr({stroke:"#0074a2","stroke-width":2,"stroke-linejoin":"round"}),
A=g.path().attr({stroke:"none",opacity:0.3,fill:"#0074a2"}),f=g.set(),w=0,x=0,q=!1,y,t=g.set();f.push(g.text(60,12,"24\u00d7 Spam").attr(a));f.push(g.text(60,27,"23.12.2013").attr(a).attr({fill:"#0074a2"}));f.hide();for(var n=g.popup(100,100,f,"right").attr({fill:"#fff",stroke:"#444","stroke-width":1}).hide(),k,p,a=0,z=r.length;a<z;a++){var c=Math.round(118-v*h[a]),b=Math.round(0+e*(a+0.5));a||(k=["M",b,c,"C",b,c],p=["M",0+0.5*e,118,"L",b,c,"C",b,c]);if(a&&a<z-1){var d=Math.round(118-v*h[a-1]),B=
Math.round(0+e*(a-0.5)),C=Math.round(118-v*h[a+1]),D=Math.round(0+e*(a+1.5)),d=getAnchors(B,d,b,c,D,C);k=k.concat([d.x1,d.y1,b,c,d.x2,d.y2]);p=p.concat([d.x1,d.y1,b,c,d.x2,d.y2])}d=g.circle(b,c,4).attr({fill:"#fff",stroke:"#0074a2","stroke-width":1});t.push(g.rect(0+e*a,0,e,118).attr({stroke:"none",fill:"#fff",opacity:0.2}));var E=t[t.length-1];(function(a,b,c,d,h){E.hover(function(){clearTimeout(y);var e="right";a+n.getBBox().width>u&&(e="left");var l=g.popup(a,b,f,e,1),e=Raphael.animation({path:l.path,
transform:["t",l.dx,l.dy]},200*q);w=f[0].transform()[0][1]+l.dx;x=f[0].transform()[0][2]+l.dy;n.show().stop().animate(e);var m=new Date(1E3*d),l=(10>m.getDate()?"0":"")+m.getDate(),k=(10>m.getMonth()+1?"0":"")+(m.getMonth()+1),m=m.getFullYear();f[0].attr({text:c+"Ã— Spam"}).show().stop().animateWith(n,e,{transform:["t",w,x]},200*q);f[1].attr({text:l+"."+k+"."+m}).show().stop().animateWith(n,e,{transform:["t",w,x]},200*q);h.attr("r",6);q=!0},function(){h.attr("r",4);y=setTimeout(function(){n.hide();
f[0].hide();f[1].hide();q=!1},1)})})(b,c,h[a],r[a],d)}k=k.concat([b,c,b,c]);p=p.concat([b,c,b,c,"L",b,118,"z"]);s.attr({path:k});A.attr({path:p});n.toFront();f[0].toFront();f[1].toFront();t.toFront()})();