(function(){"use strict";var t={7254:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var a=n(8935),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.loading?n("loading",{attrs:{text:t.translations.loading.message}}):t.error?[n("md-empty-state",{attrs:{"md-icon":"error_outline","md-label":t.translations.error.errorHeadline,"md-description":t.translations.error.errorDescription}})]:[n("md-button",{staticClass:"md-fab md-accent md-fab-top-left md-dense",attrs:{href:t.updatedApi.site_url+"/wp-admin"},nativeOn:{click:function(e){return t.resetCase.apply(null,arguments)}}},[n("md-icon",[t._v("keyboard_backspace")]),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.general.backToWp))])],1),n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],n("md-dialog",{attrs:{"md-active":t.showLogin,"md-close-on-esc":!1,"md-click-outside-to-close":!1},on:{"update:mdActive":function(e){t.showLogin=e},"update:md-active":function(e){t.showLogin=e}}},[n("md-dialog-title",[t._v(t._s(t.translations.login.title))]),n("md-dialog-content",[t.loginError?n("p",[t._v(t._s(t.loginErrorMessage))]):n("p",[t._v(t._s(t.translations.login.instructions))]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.authenticate.apply(null,arguments)}}},[n("md-field",[n("label",[t._v(t._s(t.translations.login.username))]),n("md-input",{model:{value:t.lUsername,callback:function(e){t.lUsername=e},expression:"lUsername"}})],1),n("md-field",[n("label",[t._v(t._s(t.translations.login.password))]),n("md-input",{attrs:{type:"password"},model:{value:t.lPassword,callback:function(e){t.lPassword=e},expression:"lPassword"}})],1)],1)]),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.authenticate}},[t._v(t._s(t.translations.login.title))])],1)],1)],2)},s=[],o=n(3019),r=(n(1539),n(8783),n(3948),n(1637),n(4916),n(4765),n(4665)),l=n(2809),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("transition",{attrs:{appear:"",name:"fade"}},[t.loading?n("loading",{attrs:{text:t.translations.loading.checking}}):n("div",[n("bubble",{key:"bubble"},[t.activeCase&&"open"===t.activeCase.status?n("p",[t._v(t._s(t.translations.case.activeCase))]):n("p",[t._v(t._s(t.translations.case.newCase))])]),n("div",{key:"otto"},[n("img",{attrs:{src:t.updatedApi.static_url+"/robot-full.svg",alt:"Otto the Robot"}})]),t.activeCase&&"open"===t.activeCase.status?n("md-button",{key:"continueButton",staticClass:"md-raised md-primary",on:{click:t.continueCase}},[t._v(t._s(t.translations.case.continueButton))]):t._e(),n("md-button",{key:"newButton",staticClass:"md-raised md-primary",on:{click:t.startNew}},[t._v(t._s(t.translations.case.newButton))])],1)],1)],1)},u=[],d=(n(5306),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bubble-wrap"},[t.open?n("div",{staticClass:"bubble"},[n("div",{staticClass:"close",on:{click:t.toggleOpen}},[n("md-icon",[t._v("close")])],1),t._t("default")],2):n("div",{staticClass:"toggle"},[n("div",{staticClass:"open",on:{click:t.toggleOpen}},[n("md-icon",{staticClass:"md-accent"},[t._v("chat")])],1)])])}),p=[],m={name:"helloBubble",data:function(){return{open:!0}},methods:{toggleOpen:function(){this.open=!this.open}}},g=m,v=n(1001),f=(0,v.Z)(g,d,p,!1,null,null,null),h=f.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("div",[n("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}),t.text?n("p",[t._v(t._s(t.text))]):t._e()],1)])},_=[],b={name:"loadingComponent",props:["text"],data:function(){return{}}},y=b,w=(0,v.Z)(y,C,_,!1,null,null,null),k=w.exports,x={name:"helloStart",components:{Bubble:h,Loading:k},store:ie,data:function(){return{loading:!0}},mounted:function(){var t=this;this.loading=!0,this.getActiveCase().then((function(){t.loading=!1,t.checkUrl()}))},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)(["api","activeCase","router","requestProtocol","translations"])),(0,r.Se)(["updatedApi"])),methods:(0,o.Z)((0,o.Z)({checkUrl:function(){var t=new URLSearchParams(window.location.search),e=t.get("url");if(e){var n=document.createElement("a");n.setAttribute("href",e),n.protocol!==this.requestProtocol&&e.replace(n.protocol,this.requestProtocol)}this.defineCaseUrl(e||this.updatedApi.site_url)},startNew:function(){var t=this;this.loading=!0,this.activeCase&&"open"===this.activeCase.status?this.closeCase().then((function(){t.openCase().then((function(){t.router.push("/find-the-problem")}))})):(this.loading=!0,this.openCase().then((function(){t.checkUrl(),t.updateCase().then((function(){t.router.push("/find-the-problem")}))})))},continueCase:function(){this.activeCase.clues.length?this.router.push("/interrogating"):this.router.push("/find-the-problem")}},(0,r.nv)(["getActiveCase","openCase","closeCase","updateCase"])),(0,r.OI)(["defineCaseUrl"]))},P=x,A=(0,v.Z)(P,c,u,!1,null,null,null),T=A.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"find-problem"},[n("screen-field",{on:{load:t.siteLoaded},model:{value:t.iframeUrl,callback:function(e){t.iframeUrl=e},expression:"iframeUrl"}}),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"corner-otto"},[n("bubble",[t.updatedApi.site_url!==t.updatedActiveCase.url?n("p",[t._v(t._s(t.translations.case.problemUrl))]):n("p",[t._v(t._s(t.translations.case.findProblem))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{to:"/key-witnesses"},nativeOn:{click:function(e){return t.updateCase.apply(null,arguments)}}},[t._v(t._s(t.translations.case.problemButton))])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)])],1)},Z=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"screen",class:{loading:t.loading}},[t.loading?n("loading",{attrs:{text:t.translations.case.loading}}):t._e(),n("div",{staticClass:"frame-wrap"},[n("div",{staticClass:"frame-address"},[n("div",{staticClass:"site-base"},[t._v(t._s(t.urlBase))]),n("div",{staticClass:"site-path"},[n("input",{attrs:{type:"text"},domProps:{value:t.urlPath},on:{keydown:t.updateUrl}})])]),n("iframe",{attrs:{src:t.value,frameborder:"0"},on:{load:t.loaded}})])],1)},E=[],B={name:"screen-field",props:["value"],components:{Loading:k},data:function(){return{loading:!0,initialized:!1,urlParser:document.createElement("a")}},watch:{value:function(){this.urlParser.href=this.value}},computed:(0,o.Z)({urlBase:function(){return this.urlParser.origin},urlPath:function(){var t=document.createElement("a");return t.href=this.value,t.protocol="ftp://",t.pathname+t.search+t.hash}},(0,r.rn)(["translations"])),methods:{updateUrl:function(t){if(13===t.keyCode){var e=this.urlBase+t.target.value;this.$emit("input",e)}},loaded:function(){if(this.initialized){var t=document.getElementsByTagName("iframe")[0];this.$emit("input",t.contentWindow.location.href)}else this.initialized=!0,this.loading=!1,this.$emit("load")}}},U=B,j=(0,v.Z)(U,S,E,!1,null,null,null),q=j.exports,I={name:"find-problem",components:{Bubble:h,ScreenField:q},store:ie,data:function(){return{loading:!0}},beforeMount:function(){this.defineCaseUrl(this.updatedActiveCase.url?this.updatedActiveCase.url:this.updatedApi.site_url)},computed:(0,o.Z)((0,o.Z)({iframeUrl:{get:function(){return this.updatedActiveCase.url},set:function(t){this.defineCaseUrl(t)}}},(0,r.rn)(["api","activeCase","translations"])),(0,r.Se)(["updatedActiveCase","updatedApi"])),methods:(0,o.Z)((0,o.Z)({siteLoaded:function(){this.loading=!1}},(0,r.OI)(["defineCaseUrl"])),(0,r.nv)(["updateCase"]))},L=I,R=(0,v.Z)(L,O,Z,!1,null,null,null),N=R.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"witnesses"},[t.loading?n("loading",{attrs:{text:t.translations.witnesses.loading}}):[n("md-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"0"}},[n("h1",{staticClass:"md-title"},[t._v(t._s(t.translations.witnesses.title))])]),n("md-content",[n("p",{staticClass:"md-body-2"},[t._v(t._s(t.translations.witnesses.description))])]),n("md-list",t._l(t.activeCase.all_suspects,(function(e){return n("md-list-item",{key:e.slug},[n("md-checkbox",{attrs:{value:e.plugin_file},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}),n("plugin-avatar",{attrs:{slug:e.plugin_file}}),n("span",{staticClass:"md-list-item-text"},[t._v(" "+t._s(e.Title)+" ")])],1)})),1),n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.witnesses.ottoQuestion))]),n("md-button",{staticClass:"md-raised md-primary",nativeOn:{click:function(e){return t.sendRequired.apply(null,arguments)}}},[t._v("I'm done")])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)]],2)},W=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin.icon?n("md-avatar",{staticClass:"checkbox-avatar",class:t.size},[n("img",{attrs:{src:t.plugin.icon,alt:t.plugin.Title},on:{error:t.replaceImage}}),n("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.plugin.Title))])],1):n("md-avatar",{staticClass:"md-avatar-icon checkbox-avatar md-accent",class:t.size},[t._v(" "+t._s(t.plugin.Title.charAt(0))+" "),n("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.plugin.Title))])],1)},D=[],M={name:"plugin-avatar",store:ie,props:{slug:{type:String},size:{default:"md-small",type:String}},data:function(){return{}},computed:(0,o.Z)({plugin:function(){return this.activeCase.all_suspects[this.slug]}},(0,r.rn)(["activeCase"])),methods:(0,o.Z)({replaceImage:function(){this.removeImage(this.plugin.plugin_file)}},(0,r.OI)(["removeImage"]))},H=M,z=(0,v.Z)(H,F,D,!1,null,null,null),Y=z.exports,G={name:"witnessesComponent",components:{Bubble:h,Loading:k,PluginAvatar:Y},store:ie,data:function(){return{loading:!1}},computed:(0,o.Z)((0,o.Z)({required:{get:function(){return this.activeCase.required_plugins},set:function(t){this.defineRequired(t)}}},(0,r.rn)(["router","api","activeCase","translations"])),(0,r.Se)(["updatedApi"])),methods:(0,o.Z)((0,o.Z)({sendRequired:function(){var t=this;this.loading=!0,this.updateCase().then((function(){t.router.push("/interrogating")})).catch((function(t){console.log(t)}))}},(0,r.OI)(["defineRequired"])),(0,r.nv)(["updateCase"]))},J=G,Q=(0,v.Z)(J,$,W,!1,null,null,null),K=Q.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interrogating"},[n("img",{staticClass:"light",attrs:{src:t.updatedApi.static_url+"/light.svg",alt:"Interrogation Room Light"}}),n("div",[t.activeCase.suspects_under_interrogation.length?n("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,loadingmsg:t.translations.interrogation.checking,count:t.interrogatingCount,avatars:t.activeCase.suspects_under_interrogation,display:"centered"}}):n("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,loadingmsg:t.translations.interrogation.checking,count:t.remainingCount,avatars:t.holdingCell,display:"centered"}}),n("div",{staticClass:"continue"},[n("router-link",{staticClass:"md-raised md-accent",attrs:{to:"/test",tag:"md-button"}},[t._v(" "+t._s(t.translations.interrogation.startButton)+" "),n("md-icon",[t._v("play_arrow")])],1)],1)],1),t.activeCase.suspects_under_interrogation.length?n("div",{staticClass:"more-suspects"},[n("counter-box",{attrs:{title:t.translations.interrogation.holdingTitle,loading:t.loading,count:t.remainingCount,avatars:t.holdingCell}}),n("counter-box",{attrs:{title:t.translations.interrogation.clearedTitle,loading:t.loading,count:t.clearedCount,avatars:t.activeCase.cleared_suspects}})],1):t._e()])},X=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"transparent text-centered",class:t.display},[n("md-card-header",[n("md-card-header-text",[n("h2",{staticClass:"md-title"},[t._v(t._s(t.title))])])],1),n("md-card-content",[t.loading?n("loading",{attrs:{text:t.loadingmsg}}):n("div",{staticClass:"suspects-box"},[n("span",{staticClass:"number md-display-3"},[t._v(t._s(t.count))]),n("span",{staticClass:"desc md-body-1"},[t._v(t._s(1===t.count?"suspect":"suspects"))])]),t.avatars.length&&!t.loading?n("div",{staticClass:"suspects-list"},t._l(t.avatars,(function(t){return n("plugin-avatar",{key:t,attrs:{slug:t,size:""}})})),1):t._e()],1)],1)},et=[],nt=(n(9653),{name:"counter-box",components:{Loading:k,PluginAvatar:Y},props:{title:{type:String},loading:{type:Boolean},loadingmsg:{default:"",type:String},count:{default:0,type:Number},avatars:{default:function(){return[]},type:Array},display:{default:"",type:String}},data:function(){return{}}}),at=nt,it=(0,v.Z)(at,tt,et,!1,null,null,null),st=it.exports,ot={name:"interrogatingComponent",store:ie,components:{CounterBox:st},data:function(){return{loading:!0}},beforeMount:function(){var t=this;this.interrogation().then((function(){t.loading=!1}))},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)(["api","activeCase","translations"])),(0,r.Se)(["interrogatingCount","clearedCount","remainingCount","notHolding","holdingCell","updatedApi"])),methods:(0,o.Z)({},(0,r.nv)(["interrogation"]))},rt=ot,lt=(0,v.Z)(rt,V,X,!1,null,null,null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"find-problem"},[n("screen-field",{on:{load:t.siteLoaded},model:{value:t.iframeUrl,callback:function(e){t.iframeUrl=e},expression:"iframeUrl"}}),t.loading?t._e():n("div",{staticClass:"interrogation-status"},[n("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,count:t.interrogatingCount,avatars:t.activeCase.suspects_under_interrogation}}),n("counter-box",{attrs:{title:t.translations.interrogation.remainingTitle,loading:t.loading,count:t.remainingCount,avatars:t.holdingCell}}),n("counter-box",{attrs:{title:t.translations.interrogation.clearedTitle,loading:t.loading,count:t.clearedCount,avatars:t.activeCase.cleared_suspects}})],1),t.loading?t._e():n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.case.testProblem))]),n("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(e){return t.sendFixedClue.apply(null,arguments)}}},[t._v(t._s(t.translations.case.yesButton))]),n("md-button",{staticClass:"md-raised md-primary",nativeOn:{click:function(e){return t.sendBrokenClue.apply(null,arguments)}}},[t._v(t._s(t.translations.case.noButton))])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},dt=[],pt={name:"testComponent",components:{Bubble:h,ScreenField:q,CounterBox:st},store:ie,data:function(){return{loading:!0}},computed:(0,o.Z)((0,o.Z)({iframeUrl:{get:function(){return this.updatedActiveCase.url},set:function(t){this.defineCaseUrl(t)}}},(0,r.rn)(["api","activeCase","router","translations"])),(0,r.Se)(["clearedCount","remainingCount","holdingCell","interrogatingCount","updatedApi","updatedActiveCase"])),methods:(0,o.Z)((0,o.Z)({siteLoaded:function(){this.loading=!1},sendFixedClue:function(){var t=this;this.loading=!0,this.saveClue("fixed").then((function(){t.checkCaseStage()}))},sendBrokenClue:function(){var t=this;this.loading=!0,this.saveClue("broken").then((function(){t.checkCaseStage()}))},checkCaseStage:function(){"investigating"===this.activeCase.stage?this.router.push("/interrogating"):this.router.push("/investigation-complete")}},(0,r.nv)(["saveClue"])),(0,r.OI)(["defineCaseUrl"]))},mt=pt,gt=(0,v.Z)(mt,ut,dt,!1,null,null,null),vt=gt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"required_plugins_broken"===t.activeCase.outcome?n("required-culprits"):"broken_loop"===t.activeCase.outcome?n("broken-loop"):t.activeCase.culprits.length?n("culprits-found"):n("no-culprit-found")},ht=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-culprit finished"},[n("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"Case Unsolved"}},[n("p",[t._v(t._s(t.translations.results.unsolved))]),n("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.results.unsolvedOtto))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},_t=[],bt={name:"no-culprits-found",components:{Bubble:h},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)(["activeCase","api","translations"])),(0,r.Se)(["updatedApi"]))},yt=bt,wt=(0,v.Z)(yt,Ct,_t,!1,null,null,null),kt=wt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"finished culprits-found"},[t.loading?n("loading",{attrs:{text:"Deactivating"}}):[n("h2",{staticClass:"md-display-3"},[t._v(t._s(t.culpritTitle))]),n("div",{staticClass:"results"},t._l(t.activeCase.culprits,(function(e){return n("div",{key:e,staticClass:"result"},[n("div",{staticClass:"culprit-image"},[n("img",{staticClass:"bg",attrs:{src:t.updatedApi.static_url+"/mugshot.svg",alt:"mug shot"}}),t.iconMissing?n("div",{staticClass:"plugin"},[n("span",{staticClass:"avatar-wrap"},[n("span",{staticClass:"avatar"},[t._v(" "+t._s(t.activeCase.all_suspects[e].Title.charAt(0))+" ")])])]):n("img",{staticClass:"plugin",attrs:{src:t.activeCase.all_suspects[e].icon,alt:t.activeCase.all_suspects[e].Title},on:{error:function(n){return t.replaceImage(e)}}}),n("div",{staticClass:"sign-text"},[n("div",{staticClass:"top"},[n("div",{staticClass:"l"},[n("span",{staticClass:"text"},[t._v("WPPD-"+t._s(t.arrestNo()))])]),n("div",{staticClass:"r"},[n("span",{staticClass:"text"},[t._v("WP Jail")])])]),n("div",{staticClass:"middle",class:t.middleClass(t.activeCase.all_suspects[e].Title)},[n("div",{staticClass:"multiline-text"},[t._v(t._s(t.activeCase.all_suspects[e].Title))])]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"l"},[n("span",{staticClass:"text"},[t._v("Det. Otto Bot")])]),n("div",{staticClass:"r"},[n("span",{staticClass:"text"},[t._v(t._s(t.today))])])])])]),n("div",{staticClass:"culprit-info"},[n("p",[t._v(t._s(t.translations.results.culpritFound))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.activeCase.all_suspects[e].deactivated},on:{click:function(n){return t.deactivateCulprit(e)}}},[t._v(t._s(t.translations.results.deactivateButton))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{href:t.updatedApi.site_url+"/wp-admin"}},[t._v(t._s(t.translations.general.returnWp))])],1),n("div",{staticClass:"marketing-info"},[n("hr"),n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.marketing.helpfulTitle))]),n("p",[t._v(t._s(t.translations.marketing.helpfulIntro))]),n("md-layout",[n("md-layout",[n("md-card",[n("md-card-media",{staticStyle:{padding:"1rem 1rem 0 1rem"}},[n("a",{attrs:{href:"https://simplyscheduleappointments.com?utm_source=plugin&utm_medium=promo-link&utm_campaign=plugin-detective&utm_content=ssa-banner",target:"_blank"}},[n("img",{attrs:{src:t.updatedApi.static_url+"/simply-schedule-appointments-logo.svg",alt:"Simply Schedule Appointments logo"}})])]),n("md-card-header",[n("h3",{staticClass:"md-title"},[n("a",{attrs:{href:"https://simplyscheduleappointments.com?utm_source=plugin&utm_medium=promo-link&utm_campaign=plugin-detective&utm_content=ssa-banner",target:"_blank"}},[t._v(" Simply Schedule Appointments ")])]),n("p",{staticClass:"md-subhead"},[t._v("Easy and elegant appointment scheduling for WordPress")])])],1)],1),n("md-layout",[n("md-card",[n("md-card-media",{staticStyle:{padding:"1rem 1rem 0 1rem"}},[n("a",{attrs:{href:"https://wpdrawattention.com",target:"_blank"}},[n("img",{attrs:{src:t.updatedApi.static_url+"/draw-attention-logo.svg",alt:"Draw Attention logo"}})])]),n("md-card-header",[n("h3",{staticClass:"md-title"},[n("a",{attrs:{href:"https://wpdrawattention.com",target:"_blank"}},[t._v(" Draw Attention ")])]),n("p",{staticClass:"md-subhead"},[t._v("Responsive and interactive images")])])],1)],1)],1)],1)])})),0),n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.results.culpritFoundOtto))])]),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)]],2)},Pt=[],At=n(9726),Tt=(n(7042),n(1249),n(9600),n(9714),{name:"culprits-found",components:{Bubble:h,Loading:k},data:function(){return{iconMissing:!1,loading:!1}},computed:(0,o.Z)((0,o.Z)({culpritTitle:function(){return this.activeCase.culprits.length>1?"Culprits Found":"Culprit Found"},culpritString:function(){var t=this,e=this.activeCase.culprits.length>1?"The culprits are ":"The culprit is ";if(this.activeCase.culprits.length>1){var n=this.activeCase.culprits.slice(0);if(n&&n.length>1){console.log((0,At.Z)(n));var a=this.activeCase.all_suspects[n.pop()].Title;return n=n.map((function(e){return t.activeCase.all_suspects[e].Title})),e+n.join(", ")+", and "+a+"."}}else if(this.activeCase.all_suspects[this.activeCase.culprits[0]])return e+this.activeCase.all_suspects[this.activeCase.culprits[0]].Title;return""},today:function(){var t=new Date,e=t.getMonth()+1,n=t.getDate(),a=t.getFullYear().toString().substr(-2);return e+"/"+n+"/"+a}},(0,r.rn)(["api","activeCase","translations"])),(0,r.Se)(["updatedApi"])),methods:(0,o.Z)((0,o.Z)({arrestNo:function(){return Math.floor(1e3+9e3*Math.random())},middleClass:function(t){var e="";return t.length>10&&(e="medium-text"),t.length>20&&(e="small-text"),e},deactivateCulprit:function(t){var e=this;this.loading=!0,this.deactivatePlugins([t]).then((function(){e.loading=!1,e.deactivatePlugin(t)}))},replaceImage:function(t){this.removeImage(t),this.iconMissing=!0}},(0,r.OI)(["defineCulprits","removeImage","deactivatePlugin"])),(0,r.nv)(["deactivatePlugins"]))}),Ot=Tt,Zt=(0,v.Z)(Ot,xt,Pt,!1,null,null,null),St=Zt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-culprit finished"},[n("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"No Culprit Found"}},[n("p",[t._v(t._s(t.translations.results.noCulprit))]),n("ul",[n("li",[t._v(t._s(t.translations.results.theme))]),t.activeCase.required_plugins.length?n("li",[t._v(t._s(t.translations.results.requiredPlugins))]):t._e(),n("li",[t._v(t._s(t.translations.results.muPlugins))])]),n("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.results.noCulpritOtto))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},Bt=[],Ut={name:"no-culprits-found",components:{Bubble:h},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)(["activeCase","api","translations"])),(0,r.Se)(["updatedApi"]))},jt=Ut,qt=(0,v.Z)(jt,Et,Bt,!1,null,null,null),It=qt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-culprit finished"},[n("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"Case Unsolved"}},[n("p",[t._v(t._s(t.translation.results.brokenLoop))]),n("ul",[n("li",[t._v(t._s(t.translations.results.conflict))]),n("li",[t._v(t._s(t.translations.results.incorrect))])]),n("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("div",{staticClass:"corner-otto"},[n("bubble",[n("p",[t._v(t._s(t.translations.results.brokenLoopOtto))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),n("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},Rt=[],Nt={name:"broken-loop",components:{Bubble:h},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)(["activeCase","api","translations"])),(0,r.Se)(["updatedApi"]))},$t=Nt,Wt=(0,v.Z)($t,Lt,Rt,!1,null,null,null),Ft=Wt.exports,Dt={name:"completeComponent",components:{NoCulpritFound:kt,CulpritsFound:St,RequiredCulprits:It,BrokenLoop:Ft},store:ie,data:function(){return{}},computed:(0,o.Z)({},(0,r.rn)(["activeCase"]))},Mt=Dt,Ht=(0,v.Z)(Mt,ft,ht,!1,null,null,null),zt=Ht.exports;a["default"].use(l.Z);var Yt=new l.Z({routes:[{path:"/",name:"Hello",component:T},{path:"/find-the-problem",name:"Find the Problem",component:N},{path:"/key-witnesses",name:"Witnesses",component:K},{path:"/interrogating",name:"Interrogating",component:ct},{path:"/test",name:"Test",component:vt},{path:"/investigation-complete",name:"Complete",component:zt}]}),Gt=n(4029),Jt=n.n(Gt),Qt=n(2196),Kt=n.n(Qt),Vt={fetchApi:function(t){var e=t.commit;return new Promise((function(t,n){Jt().ajax({url:"local-get-app.php",method:"GET",dataType:"json",contentType:"application/json"}).done((function(n){e("defineApi",n),t()})).fail((function(t,e,a){n(a)}))}))},login:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"GET",dataType:"json",contentType:"application/json",data:{action:"authenticate",username:n.username,password:n.password}}).done((function(n){Kt().isEmpty(n.errors)?(e("defineNonce",n.data.nonce),t()):(i(n.errors),e("defineNonce",""))})).fail((function(t,e,n){i(n)}))}))},getActiveCase:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"cases",action:"get_active",required_plugins:[]}}).done((function(n){Kt().isEmpty(n.errors)?(e("defineCase",n.data),t()):n.errors.no_active_case?(e("defineCase",{}),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},openCase:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"cases",action:"open",required_plugins:[]}}).done((function(n){Kt().isEmpty(n.errors)?(e("defineCase",n.data),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},updateCase:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{id:n.activeCase.id,nonce:n.api.nonce,controller:"cases",action:"update",required_plugins:n.activeCase.required_plugins,url:a.updatedActiveCase.url}}).done((function(n){Kt().isEmpty(n.errors)?(e("defineCase",n.data),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},closeCase:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"cases",action:"close"}}).done((function(n){Kt().isEmpty(n.error)?(e("defineCase",n.data),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},suspendCase:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"cases",action:"suspend"}}).done((function(n){Kt().isEmpty(n.error)?(e("defineCase",n.data),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},resetCase:function(t){var e=t.state,n=t.getters;return new Promise((function(t,a){Jt().ajax({url:n.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"close",reset_active_plugins:!0}}).done((function(e){Kt().isEmpty(e.error)?t():a(e.errors)})).fail((function(t,e,n){a(n)}))}))},interrogation:function(t){var e=t.commit,n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"cases",action:"review"}}).done((function(n){Kt().isEmpty(n.error)?(e("defineCase",n.data),t()):i(n.errors)})).fail((function(t,e,n){i(n)}))}))},saveClue:function(t,e){var n=t.commit,a=t.state,i=t.getters;return new Promise((function(t,s){Jt().ajax({url:i.updatedApi.api_url,method:"POST",dataType:"json",data:{outcome:e,nonce:a.api.nonce,controller:"clues",action:"create"}}).done((function(e){Kt().isEmpty(e.error)?(n("defineCase",e.data),t()):s(e.errors)})).fail((function(t,e,n){s(n)}))}))},deactivatePlugins:function(t,e){var n=t.state,a=t.getters;return new Promise((function(t,i){Jt().ajax({url:a.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:n.api.nonce,controller:"plugins",action:"deactivate",plugins:e}}).done((function(e){Kt().isEmpty(e.error)?t():i(e.errors)})).fail((function(t,e,n){i(n)}))}))}},Xt={general:{backToWp:"Back to WordPress",returnWp:"Return to WordPress dashboard"},loading:{message:"Just a sec...",checking:"Checking records..."},error:{errorHeadline:"Uh oh",errorDescription:"Something's gone wrong. Try refreshing the page."},login:{title:"Log In",instructions:"Enter your WordPress username and password to continue.",username:"Username",password:"Password",invalid_username:"Your username is incorrect",incorrect_password:"Your password is incorrect",permission_denied:"You don't have permission to accesss Plugin Detective",error:"Login error"},case:{loading:"Getting your site...",activeCase:"Looks like you already have an open case. Did you want to continue with that case? Or open a new one?",newCase:"Sorry you're having trouble with your site, but don't worry. Detective Otto Bot is on the case! Just click the button to open a new case and get started.",continueButton:"Continue case",newButton:"Open a new case",problemUrl:"Is this still where you're seeing the issue? If not, navigate to where you are seeing the issue and let me know when you're there.",findProblem:"Here's your site. Navigate to where you're seeing the problem. Let me know when you're there.",problemButton:"I'm there",testProblem:"Here's your site again. Is the problem fixed?",yesButton:"Yes it's fixed",noButton:"No it's still broken"},interrogation:{checking:"Checking clues...",interrogatingTitle:"Interrogating",startButton:"Start interrogation",holdingTitle:"Holding Cell",clearedTitle:"Cleared",remainingTitle:"Remaining"},witnesses:{title:"Key Witnesses (Required Plugins)",loading:"Sorting out the suspects...",description:"Which plugins are required for the site's functionality?",ottoQuestion:"Which plugins are required in order for the site to work correctly?"},results:{noCulprit:"The culprit doesn't seem to be one of the suspected plugins. Here are some other possibilities:",theme:"Your theme or child theme",requiredPlugins:"One of the plugins you marked as required",muPlugins:"Any MU plugins installed on the site",startOverButton:"Start Over",noCulpritOtto:"Well, it's not a plugin. Here are some other ideas for what might be causing the issue.",unsolved:"I wasn't able to find the culprit causing this issue because the clues contradicted one another. Please try starting over. When interrogating suspects, please be careful about answering whether the problem is fixed or still broken.",unsolvedOtto:"Hmm...suspicious. The clues seem to conflict. Want to start a new case?",culpritFound:"How would you like to deal with this culprit? You can deactivate it. Or you can leave it activated and sort out the problem on your own.",deactivateButton:"Deactivate it for me",culpritFoundOtto:"Aha! The culprit has been found!",brokenLoop:"I wasn't able to find the culprit because the clues contradicted one another. It's possible that:",conflict:"There's a conflict between multiple plugins only seen when those plugins are active together.",incorrect:"The clues were incorrect.",brokenLoopOtto:"Hmm...suspicious. The clues seem to conflict. Want to start a new case?"},marketing:{helpfulTitle:"Was Plugin Detective helpful for you?",helpfulIntro:"Check out some of our other awesome plugins."}},te={defineApi:function(t,e){t.api=e},defineNonce:function(t,e){a["default"].set(t.api,"nonce",e)},defineRequestProtocol:function(t,e){t.requestProtocol=e},defineTranslations:function(t,e){var n=Kt().isEmpty(e)?Xt:e;t.translations=n},defineUsername:function(t,e){t.username=e},definePassword:function(t,e){t.password=e},defineCaseUrl:function(t,e){t.activeCase&&a["default"].set(t.activeCase,"url",e)},defineRequired:function(t,e){t.activeCase&&a["default"].set(t.activeCase,"required_plugins",e)},defineCase:function(t,e){t.activeCase=e},defineUserId:function(t,e){t.user_id=e},removeImage:function(t,e){a["default"].set(t.activeCase.all_suspects[e],"icon",null)},deactivatePlugin:function(t,e){a["default"].set(t.activeCase.all_suspects[e],"deactivated",!0)}},ee=n(4479),ne=(n(2222),n(7327),n(7941),{interrogatingCount:function(t){return t.activeCase&&t.activeCase.suspects_under_interrogation?t.activeCase.suspects_under_interrogation.length:0},clearedCount:function(t){return t.activeCase&&t.activeCase.cleared_suspects?t.activeCase.cleared_suspects.length:0},remainingCount:function(t,e){return e.holdingCell.length},notHolding:function(t){return t.activeCase&&t.activeCase.cleared_suspects&&t.activeCase.suspects_under_interrogation?[].concat((0,ee.Z)(t.activeCase.cleared_suspects),(0,ee.Z)(t.activeCase.suspects_under_interrogation)):[]},holdingCell:function(t,e){return t.activeCase&&t.activeCase.all_suspects?Object.keys(t.activeCase.all_suspects).filter((function(t){return e.notHolding.indexOf(t)<0})):[]},updatedApi:function(t){if("undefined"!==typeof t.api){var e={};for(var n in t.api)if(t.api[n]&&"string"===typeof t.api[n]&&t.api[n].indexOf("http")>-1){var a=document.createElement("a");a.setAttribute("href",t.api[n]),e[n]=t.api[n].replace(a.protocol,t.requestProtocol)}else e[n]=t.api[n];return e}},updatedActiveCase:function(t){if("undefined"!==typeof t.activeCase){var e={};for(var n in t.activeCase)if(t.activeCase[n]&&"string"===typeof t.activeCase[n]&&t.activeCase[n].indexOf("http")>-1){var a=document.createElement("a");a.setAttribute("href",t.activeCase[n]),e[n]=t.activeCase[n].replace(a.protocol,t.requestProtocol)}else e[n]=t.activeCase[n];return e}}});a["default"].use(r.ZP);var ae={router:Yt,api:void 0,username:"",password:"",activeCase:void 0,user_id:void 0,requestProtocol:"http:",translations:{}},ie=new r.ZP.Store({state:ae,actions:Vt,mutations:te,getters:ne}),se={name:"app",store:ie,components:{Loading:k},data:function(){return{loading:!0,error:!1,localApi:window.app?window.app:{},getNonce:void 0,showLogin:!1,loginError:!1}},beforeCreate:function(){this.wpTranslations=window.pd_translations?window.pd_translations:{},this.$store.commit("defineTranslations",this.wpTranslations)},beforeMount:function(){var t=this;this.activeCase||this.router.push("/"),this.defineRequestProtocol(window.location.protocol),window.addEventListener("beforeunload",(function(){t.resetCase()}))},mounted:function(){var t=new URLSearchParams(window.location.search);this.defineUserId(t.get("session")?t.get("session"):void 0),this.getNonce=t.get("nonce")?t.get("nonce"):void 0,this.init()},methods:(0,o.Z)((0,o.Z)({init:function(){var t=this;return"undefined"!==typeof this.api||Kt().isEmpty(this.localApi)?"undefined"===typeof this.api?(this.loading=!0,void this.fetchApi().then((function(){t.api.nonce&&t.getActiveCase(),t.init()})).catch((function(){t.loading=!1,t.error=!0,console.log("Error loading API")}))):!this.api.nonce&&this.getNonce?(this.defineNonce(this.getNonce),this.getActiveCase().then((function(){t.showLogin=!1})).catch((function(e){t.showLogin=!0,console.log(e)})),void this.init()):void(this.api.nonce||this.getNonce?this.loading=!1:this.showLogin=!0):(this.defineApi(this.localApi),void this.init())},authenticate:function(){var t=this;this.login().then((function(){t.loginError=!1,t.showLogin=!1,t.api.nonce&&t.getActiveCase().then((function(){t.loading=!1}))})).catch((function(e){t.loginError=e.authentication}))}},(0,r.nv)(["fetchApi","login","getActiveCase","resetCase"])),(0,r.OI)(["defineApi","defineNonce","defineUsername","definePassword","defineUserId","defineRequestProtocol"])),computed:(0,o.Z)((0,o.Z)({loginErrorMessage:function(){switch(this.loginError){case"invalid_username":return this.translations.login.invalid_username;case"incorrect_password":return this.translations.login.incorrect_password;case"permission_denied":return this.translations.login.permission_denied;default:return this.translations.login.error}},lUsername:{get:function(){return this.username},set:function(t){this.defineUsername(t)}},lPassword:{get:function(){return this.password},set:function(t){this.definePassword(t)}}},(0,r.rn)(["api","username","password","user_id","activeCase","router","translations"])),(0,r.Se)(["updatedApi"]))},oe=se,re=(0,v.Z)(oe,i,s,!1,null,null,null),le=re.exports,ce=n(5822),ue=n.n(ce);a["default"].config.productionTip=!1,a["default"].use(ue()),new a["default"]({render:function(t){return t(le)},router:Yt}).$mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,i,s){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],s=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(r=!1,s<o&&(o=s));if(r){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[a,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,o=a[0],r=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var u=l(n)}for(e&&e(a);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},a=self["webpackChunkproject_detective"]=self["webpackChunkproject_detective"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7254)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.js.map