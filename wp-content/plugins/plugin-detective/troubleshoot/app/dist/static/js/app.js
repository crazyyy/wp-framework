(function(){"use strict";var t={7254:function(t,e,s){var a=s(8935),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.loading?s("loading",{attrs:{text:t.translations.loading.message}}):t.error?[s("md-empty-state",{attrs:{"md-icon":"error_outline","md-label":t.translations.error.errorHeadline,"md-description":t.translations.error.errorDescription}})]:[s("md-button",{staticClass:"md-fab md-accent md-fab-top-left md-dense",attrs:{href:t.updatedApi.site_url+"/wp-admin"},nativeOn:{click:function(e){return t.resetCase.apply(null,arguments)}}},[s("md-icon",[t._v("keyboard_backspace")]),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.general.backToWp))])],1),s("transition",{attrs:{name:"fade"}},[s("router-view")],1)],s("md-dialog",{attrs:{"md-active":t.showLogin,"md-close-on-esc":!1,"md-click-outside-to-close":!1},on:{"update:mdActive":function(e){t.showLogin=e},"update:md-active":function(e){t.showLogin=e}}},[s("md-dialog-title",[t._v(t._s(t.translations.login.title))]),s("md-dialog-content",[t.loginError?s("p",[t._v(t._s(t.loginErrorMessage))]):s("p",[t._v(t._s(t.translations.login.instructions))]),s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.authenticate.apply(null,arguments)}}},[s("md-field",[s("label",[t._v(t._s(t.translations.login.username))]),s("md-input",{model:{value:t.lUsername,callback:function(e){t.lUsername=e},expression:"lUsername"}})],1),s("md-field",[s("label",[t._v(t._s(t.translations.login.password))]),s("md-input",{attrs:{type:"password"},model:{value:t.lPassword,callback:function(e){t.lPassword=e},expression:"lPassword"}})],1)],1)]),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.authenticate}},[t._v(t._s(t.translations.login.title))])],1)],1)],2)},n=[],r=s(4665),o=s(2809),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("transition",{attrs:{appear:"",name:"fade"}},[t.loading?s("loading",{attrs:{text:t.translations.loading.checking}}):s("div",[s("bubble",{key:"bubble"},[t.activeCase&&"open"===t.activeCase.status?s("p",[t._v(t._s(t.translations.case.activeCase))]):s("p",[t._v(t._s(t.translations.case.newCase))])]),s("div",{key:"otto"},[s("img",{attrs:{src:t.updatedApi.static_url+"/robot-full.svg",alt:"Otto the Robot"}})]),t.activeCase&&"open"===t.activeCase.status?s("md-button",{key:"continueButton",staticClass:"md-raised md-primary",on:{click:t.continueCase}},[t._v(t._s(t.translations.case.continueButton))]):t._e(),s("md-button",{key:"newButton",staticClass:"md-raised md-primary",on:{click:t.startNew}},[t._v(t._s(t.translations.case.newButton))])],1)],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bubble-wrap"},[t.open?s("div",{staticClass:"bubble"},[s("div",{staticClass:"close",on:{click:t.toggleOpen}},[s("md-icon",[t._v("close")])],1),t._t("default")],2):s("div",{staticClass:"toggle"},[s("div",{staticClass:"open",on:{click:t.toggleOpen}},[s("md-icon",{staticClass:"md-accent"},[t._v("chat")])],1)])])},d=[],p={name:"helloBubble",data(){return{open:!0}},methods:{toggleOpen(){this.open=!this.open}}},m=p,g=s(1001),h=(0,g.Z)(m,u,d,!1,null,null,null),v=h.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("div",[s("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}}),t.text?s("p",[t._v(t._s(t.text))]):t._e()],1)])},C=[],_={name:"loadingComponent",props:["text"],data(){return{}}},b=_,y=(0,g.Z)(b,f,C,!1,null,null,null),w=y.exports,k={name:"helloStart",components:{Bubble:v,Loading:w},store:ee,data(){return{loading:!0}},mounted(){this.loading=!0,this.getActiveCase().then((()=>{this.loading=!1,this.checkUrl()}))},computed:{...(0,r.rn)(["api","activeCase","router","requestProtocol","translations"]),...(0,r.Se)(["updatedApi"])},methods:{checkUrl(){let t=new URLSearchParams(window.location.search),e=t.get("url");if(e){let t=document.createElement("a");t.setAttribute("href",e),t.protocol!==this.requestProtocol&&e.replace(t.protocol,this.requestProtocol)}this.defineCaseUrl(e||this.updatedApi.site_url)},startNew(){this.loading=!0,this.activeCase&&"open"===this.activeCase.status?this.closeCase().then((()=>{this.openCase().then((()=>{this.router.push("/find-the-problem")}))})):(this.loading=!0,this.openCase().then((()=>{this.checkUrl(),this.updateCase().then((()=>{this.router.push("/find-the-problem")}))})))},continueCase(){this.activeCase.clues.length?this.router.push("/interrogating"):this.router.push("/find-the-problem")},...(0,r.nv)(["getActiveCase","openCase","closeCase","updateCase"]),...(0,r.OI)(["defineCaseUrl"])}},x=k,P=(0,g.Z)(x,l,c,!1,null,null,null),A=P.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"find-problem"},[s("screen-field",{on:{load:t.siteLoaded},model:{value:t.iframeUrl,callback:function(e){t.iframeUrl=e},expression:"iframeUrl"}}),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"corner-otto"},[s("bubble",[t.updatedApi.site_url!==t.updatedActiveCase.url?s("p",[t._v(t._s(t.translations.case.problemUrl))]):s("p",[t._v(t._s(t.translations.case.findProblem))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{to:"/key-witnesses"},nativeOn:{click:function(e){return t.updateCase.apply(null,arguments)}}},[t._v(t._s(t.translations.case.problemButton))])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)])],1)},O=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen",class:{loading:t.loading}},[t.loading?s("loading",{attrs:{text:t.translations.case.loading}}):t._e(),s("div",{staticClass:"frame-wrap"},[s("div",{staticClass:"frame-address"},[s("div",{staticClass:"site-base"},[t._v(t._s(t.urlBase))]),s("div",{staticClass:"site-path"},[s("input",{attrs:{type:"text"},domProps:{value:t.urlPath},on:{keydown:t.updateUrl}})])]),s("iframe",{attrs:{src:t.value,frameborder:"0"},on:{load:t.loaded}})])],1)},E=[],B={name:"screen-field",props:["value"],components:{Loading:w},data(){return{loading:!0,initialized:!1,urlParser:document.createElement("a")}},watch:{value(){this.urlParser.href=this.value}},computed:{urlBase(){return this.urlParser.origin},urlPath(){const t=document.createElement("a");return t.href=this.value,t.protocol="ftp://",t.pathname+t.search+t.hash},...(0,r.rn)(["translations"])},methods:{updateUrl(t){if(13===t.keyCode){var e=this.urlBase+t.target.value;this.$emit("input",e)}},loaded(){if(this.initialized){let t=document.getElementsByTagName("iframe")[0];this.$emit("input",t.contentWindow.location.href)}else this.initialized=!0,this.loading=!1,this.$emit("load")}}},U=B,j=(0,g.Z)(U,S,E,!1,null,null,null),q=j.exports,I={name:"find-problem",components:{Bubble:v,ScreenField:q},store:ee,data(){return{loading:!0}},beforeMount(){this.defineCaseUrl(this.updatedActiveCase.url?this.updatedActiveCase.url:this.updatedApi.site_url)},computed:{iframeUrl:{get(){return this.updatedActiveCase.url},set(t){this.defineCaseUrl(t)}},...(0,r.rn)(["api","activeCase","translations"]),...(0,r.Se)(["updatedActiveCase","updatedApi"])},methods:{siteLoaded(){this.loading=!1},...(0,r.OI)(["defineCaseUrl"]),...(0,r.nv)(["updateCase"])}},L=I,R=(0,g.Z)(L,T,O,!1,null,null,null),N=R.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"witnesses"},[t.loading?s("loading",{attrs:{text:t.translations.witnesses.loading}}):[s("md-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"0"}},[s("h1",{staticClass:"md-title"},[t._v(t._s(t.translations.witnesses.title))])]),s("md-content",[s("p",{staticClass:"md-body-2"},[t._v(t._s(t.translations.witnesses.description))])]),s("md-list",t._l(t.activeCase.all_suspects,(function(e){return s("md-list-item",{key:e.slug},[s("md-checkbox",{attrs:{value:e.plugin_file},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}),s("plugin-avatar",{attrs:{slug:e.plugin_file}}),s("span",{staticClass:"md-list-item-text"},[t._v(" "+t._s(e.Title)+" ")])],1)})),1),s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.witnesses.ottoQuestion))]),s("md-button",{staticClass:"md-raised md-primary",nativeOn:{click:function(e){return t.sendRequired.apply(null,arguments)}}},[t._v("I'm done")])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)]],2)},W=[],Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.plugin.icon?s("md-avatar",{staticClass:"checkbox-avatar",class:t.size},[s("img",{attrs:{src:t.plugin.icon,alt:t.plugin.Title},on:{error:t.replaceImage}}),s("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.plugin.Title))])],1):s("md-avatar",{staticClass:"md-avatar-icon checkbox-avatar md-accent",class:t.size},[t._v(" "+t._s(t.plugin.Title.charAt(0))+" "),s("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.plugin.Title))])],1)},F=[],D={name:"plugin-avatar",store:ee,props:{slug:{type:String},size:{default:"md-small",type:String}},data(){return{}},computed:{plugin(){return this.activeCase.all_suspects[this.slug]},...(0,r.rn)(["activeCase"])},methods:{replaceImage(){this.removeImage(this.plugin.plugin_file)},...(0,r.OI)(["removeImage"])}},M=D,H=(0,g.Z)(M,Z,F,!1,null,null,null),z=H.exports,Y={name:"witnessesComponent",components:{Bubble:v,Loading:w,PluginAvatar:z},store:ee,data(){return{loading:!1}},computed:{required:{get(){return this.activeCase.required_plugins},set(t){this.defineRequired(t)}},...(0,r.rn)(["router","api","activeCase","translations"]),...(0,r.Se)(["updatedApi"])},methods:{sendRequired(){this.loading=!0,this.updateCase().then((()=>{this.router.push("/interrogating")})).catch((t=>{console.log(t)}))},...(0,r.OI)(["defineRequired"]),...(0,r.nv)(["updateCase"])}},G=Y,J=(0,g.Z)(G,$,W,!1,null,null,null),Q=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"interrogating"},[s("img",{staticClass:"light",attrs:{src:t.updatedApi.static_url+"/light.svg",alt:"Interrogation Room Light"}}),s("div",[t.activeCase.suspects_under_interrogation.length?s("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,loadingmsg:t.translations.interrogation.checking,count:t.interrogatingCount,avatars:t.activeCase.suspects_under_interrogation,display:"centered"}}):s("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,loadingmsg:t.translations.interrogation.checking,count:t.remainingCount,avatars:t.holdingCell,display:"centered"}}),s("div",{staticClass:"continue"},[s("router-link",{staticClass:"md-raised md-accent",attrs:{to:"/test",tag:"md-button"}},[t._v(" "+t._s(t.translations.interrogation.startButton)+" "),s("md-icon",[t._v("play_arrow")])],1)],1)],1),t.activeCase.suspects_under_interrogation.length?s("div",{staticClass:"more-suspects"},[s("counter-box",{attrs:{title:t.translations.interrogation.holdingTitle,loading:t.loading,count:t.remainingCount,avatars:t.holdingCell}}),s("counter-box",{attrs:{title:t.translations.interrogation.clearedTitle,loading:t.loading,count:t.clearedCount,avatars:t.activeCase.cleared_suspects}})],1):t._e()])},V=[],X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"transparent text-centered",class:t.display},[s("md-card-header",[s("md-card-header-text",[s("h2",{staticClass:"md-title"},[t._v(t._s(t.title))])])],1),s("md-card-content",[t.loading?s("loading",{attrs:{text:t.loadingmsg}}):s("div",{staticClass:"suspects-box"},[s("span",{staticClass:"number md-display-3"},[t._v(t._s(t.count))]),s("span",{staticClass:"desc md-body-1"},[t._v(t._s(1===t.count?"suspect":"suspects"))])]),t.avatars.length&&!t.loading?s("div",{staticClass:"suspects-list"},t._l(t.avatars,(function(t){return s("plugin-avatar",{key:t,attrs:{slug:t,size:""}})})),1):t._e()],1)],1)},tt=[],et={name:"counter-box",components:{Loading:w,PluginAvatar:z},props:{title:{type:String},loading:{type:Boolean},loadingmsg:{default:"",type:String},count:{default:0,type:Number},avatars:{default:()=>[],type:Array},display:{default:"",type:String}},data(){return{}}},st=et,at=(0,g.Z)(st,X,tt,!1,null,null,null),it=at.exports,nt={name:"interrogatingComponent",store:ee,components:{CounterBox:it},data(){return{loading:!0}},beforeMount(){this.interrogation().then((()=>{this.loading=!1}))},computed:{...(0,r.rn)(["api","activeCase","translations"]),...(0,r.Se)(["interrogatingCount","clearedCount","remainingCount","notHolding","holdingCell","updatedApi"])},methods:{...(0,r.nv)(["interrogation"])}},rt=nt,ot=(0,g.Z)(rt,K,V,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"find-problem"},[s("screen-field",{on:{load:t.siteLoaded},model:{value:t.iframeUrl,callback:function(e){t.iframeUrl=e},expression:"iframeUrl"}}),t.loading?t._e():s("div",{staticClass:"interrogation-status"},[s("counter-box",{attrs:{title:t.translations.interrogation.interrogatingTitle,loading:t.loading,count:t.interrogatingCount,avatars:t.activeCase.suspects_under_interrogation}}),s("counter-box",{attrs:{title:t.translations.interrogation.remainingTitle,loading:t.loading,count:t.remainingCount,avatars:t.holdingCell}}),s("counter-box",{attrs:{title:t.translations.interrogation.clearedTitle,loading:t.loading,count:t.clearedCount,avatars:t.activeCase.cleared_suspects}})],1),t.loading?t._e():s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.case.testProblem))]),s("md-button",{staticClass:"md-raised md-accent",nativeOn:{click:function(e){return t.sendFixedClue.apply(null,arguments)}}},[t._v(t._s(t.translations.case.yesButton))]),s("md-button",{staticClass:"md-raised md-primary",nativeOn:{click:function(e){return t.sendBrokenClue.apply(null,arguments)}}},[t._v(t._s(t.translations.case.noButton))])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},ut=[],dt={name:"testComponent",components:{Bubble:v,ScreenField:q,CounterBox:it},store:ee,data(){return{loading:!0}},computed:{iframeUrl:{get(){return this.updatedActiveCase.url},set(t){this.defineCaseUrl(t)}},...(0,r.rn)(["api","activeCase","router","translations"]),...(0,r.Se)(["clearedCount","remainingCount","holdingCell","interrogatingCount","updatedApi","updatedActiveCase"])},methods:{siteLoaded(){this.loading=!1},sendFixedClue(){this.loading=!0,this.saveClue("fixed").then((()=>{this.checkCaseStage()}))},sendBrokenClue(){this.loading=!0,this.saveClue("broken").then((()=>{this.checkCaseStage()}))},checkCaseStage(){"investigating"===this.activeCase.stage?this.router.push("/interrogating"):this.router.push("/investigation-complete")},...(0,r.nv)(["saveClue"]),...(0,r.OI)(["defineCaseUrl"])}},pt=dt,mt=(0,g.Z)(pt,ct,ut,!1,null,null,null),gt=mt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"required_plugins_broken"===t.activeCase.outcome?s("required-culprits"):"broken_loop"===t.activeCase.outcome?s("broken-loop"):t.activeCase.culprits.length?s("culprits-found"):s("no-culprit-found")},vt=[],ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-culprit finished"},[s("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"Case Unsolved"}},[s("p",[t._v(t._s(t.translations.results.unsolved))]),s("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.results.unsolvedOtto))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},Ct=[],_t={name:"no-culprits-found",components:{Bubble:v},data(){return{}},computed:{...(0,r.rn)(["activeCase","api","translations"]),...(0,r.Se)(["updatedApi"])}},bt=_t,yt=(0,g.Z)(bt,ft,Ct,!1,null,null,null),wt=yt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"finished culprits-found"},[t.loading?s("loading",{attrs:{text:"Deactivating"}}):[s("h2",{staticClass:"md-display-3"},[t._v(t._s(t.culpritTitle))]),s("div",{staticClass:"results"},t._l(t.activeCase.culprits,(function(e){return s("div",{key:e,staticClass:"result"},[s("div",{staticClass:"culprit-image"},[s("img",{staticClass:"bg",attrs:{src:t.updatedApi.static_url+"/mugshot.svg",alt:"mug shot"}}),t.iconMissing?s("div",{staticClass:"plugin"},[s("span",{staticClass:"avatar-wrap"},[s("span",{staticClass:"avatar"},[t._v(" "+t._s(t.activeCase.all_suspects[e].Title.charAt(0))+" ")])])]):s("img",{staticClass:"plugin",attrs:{src:t.activeCase.all_suspects[e].icon,alt:t.activeCase.all_suspects[e].Title},on:{error:function(s){return t.replaceImage(e)}}}),s("div",{staticClass:"sign-text"},[s("div",{staticClass:"top"},[s("div",{staticClass:"l"},[s("span",{staticClass:"text"},[t._v("WPPD-"+t._s(t.arrestNo()))])]),s("div",{staticClass:"r"},[s("span",{staticClass:"text"},[t._v("WP Jail")])])]),s("div",{staticClass:"middle",class:t.middleClass(t.activeCase.all_suspects[e].Title)},[s("div",{staticClass:"multiline-text"},[t._v(t._s(t.activeCase.all_suspects[e].Title))])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"l"},[s("span",{staticClass:"text"},[t._v("Det. Otto Bot")])]),s("div",{staticClass:"r"},[s("span",{staticClass:"text"},[t._v(t._s(t.today))])])])])]),s("div",{staticClass:"culprit-info"},[s("p",[t._v(t._s(t.translations.results.culpritFound))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.activeCase.all_suspects[e].deactivated},on:{click:function(s){return t.deactivateCulprit(e)}}},[t._v(t._s(t.translations.results.deactivateButton))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{href:t.updatedApi.site_url+"/wp-admin"}},[t._v(t._s(t.translations.general.returnWp))])],1),s("div",{staticClass:"marketing-info"},[s("hr"),s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.marketing.helpfulTitle))]),s("p",[t._v(t._s(t.translations.marketing.helpfulIntro))]),s("md-layout",[s("md-layout",[s("md-card",[s("md-card-media",{staticStyle:{padding:"1rem 1rem 0 1rem"}},[s("a",{attrs:{href:"https://simplyscheduleappointments.com?utm_source=plugin&utm_medium=promo-link&utm_campaign=plugin-detective&utm_content=ssa-banner",target:"_blank"}},[s("img",{attrs:{src:t.updatedApi.static_url+"/simply-schedule-appointments-logo.svg",alt:"Simply Schedule Appointments logo"}})])]),s("md-card-header",[s("h3",{staticClass:"md-title"},[s("a",{attrs:{href:"https://simplyscheduleappointments.com?utm_source=plugin&utm_medium=promo-link&utm_campaign=plugin-detective&utm_content=ssa-banner",target:"_blank"}},[t._v(" Simply Schedule Appointments ")])]),s("p",{staticClass:"md-subhead"},[t._v("Easy and elegant appointment scheduling for WordPress")])])],1)],1),s("md-layout",[s("md-card",[s("md-card-media",{staticStyle:{padding:"1rem 1rem 0 1rem"}},[s("a",{attrs:{href:"https://wpdrawattention.com",target:"_blank"}},[s("img",{attrs:{src:t.updatedApi.static_url+"/draw-attention-logo.svg",alt:"Draw Attention logo"}})])]),s("md-card-header",[s("h3",{staticClass:"md-title"},[s("a",{attrs:{href:"https://wpdrawattention.com",target:"_blank"}},[t._v(" Draw Attention ")])]),s("p",{staticClass:"md-subhead"},[t._v("Responsive and interactive images")])])],1)],1)],1)],1)])})),0),s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.results.culpritFoundOtto))])]),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)]],2)},xt=[],Pt={name:"culprits-found",components:{Bubble:v,Loading:w},data(){return{iconMissing:!1,loading:!1}},computed:{culpritTitle(){return this.activeCase.culprits.length>1?"Culprits Found":"Culprit Found"},culpritString(){let t=this.activeCase.culprits.length>1?"The culprits are ":"The culprit is ";if(this.activeCase.culprits.length>1){let e=this.activeCase.culprits.slice(0);if(e&&e.length>1){console.log(typeof e);let s=this.activeCase.all_suspects[e.pop()].Title;return e=e.map((t=>this.activeCase.all_suspects[t].Title)),t+e.join(", ")+", and "+s+"."}}else if(this.activeCase.all_suspects[this.activeCase.culprits[0]])return t+this.activeCase.all_suspects[this.activeCase.culprits[0]].Title;return""},today(){var t=new Date,e=t.getMonth()+1,s=t.getDate(),a=t.getFullYear().toString().substr(-2);return e+"/"+s+"/"+a},...(0,r.rn)(["api","activeCase","translations"]),...(0,r.Se)(["updatedApi"])},methods:{arrestNo(){return Math.floor(1e3+9e3*Math.random())},middleClass(t){var e="";return t.length>10&&(e="medium-text"),t.length>20&&(e="small-text"),e},deactivateCulprit(t){this.loading=!0,this.deactivatePlugins([t]).then((()=>{this.loading=!1,this.deactivatePlugin(t)}))},replaceImage(t){this.removeImage(t),this.iconMissing=!0},...(0,r.OI)(["defineCulprits","removeImage","deactivatePlugin"]),...(0,r.nv)(["deactivatePlugins"])}},At=Pt,Tt=(0,g.Z)(At,kt,xt,!1,null,null,null),Ot=Tt.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-culprit finished"},[s("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"No Culprit Found"}},[s("p",[t._v(t._s(t.translations.results.noCulprit))]),s("ul",[s("li",[t._v(t._s(t.translations.results.theme))]),t.activeCase.required_plugins.length?s("li",[t._v(t._s(t.translations.results.requiredPlugins))]):t._e(),s("li",[t._v(t._s(t.translations.results.muPlugins))])]),s("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.results.noCulpritOtto))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},Et=[],Bt={name:"no-culprits-found",components:{Bubble:v},data(){return{}},computed:{...(0,r.rn)(["activeCase","api","translations"]),...(0,r.Se)(["updatedApi"])}},Ut=Bt,jt=(0,g.Z)(Ut,St,Et,!1,null,null,null),qt=jt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-culprit finished"},[s("md-empty-state",{attrs:{"md-icon":"help_outline","md-label":"Case Unsolved"}},[s("p",[t._v(t._s(t.translation.results.brokenLoop))]),s("ul",[s("li",[t._v(t._s(t.translations.results.conflict))]),s("li",[t._v(t._s(t.translations.results.incorrect))])]),s("md-button",{staticClass:"md-primary",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("div",{staticClass:"corner-otto"},[s("bubble",[s("p",[t._v(t._s(t.translations.results.brokenLoopOtto))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{to:"/"}},[t._v(t._s(t.translations.results.startOverButton))])],1),s("img",{attrs:{src:t.updatedApi.static_url+"/robot-corner.svg",alt:"Otto the Robot"}})],1)],1)},Lt=[],Rt={name:"broken-loop",components:{Bubble:v},data(){return{}},computed:{...(0,r.rn)(["activeCase","api","translations"]),...(0,r.Se)(["updatedApi"])}},Nt=Rt,$t=(0,g.Z)(Nt,It,Lt,!1,null,null,null),Wt=$t.exports,Zt={name:"completeComponent",components:{NoCulpritFound:wt,CulpritsFound:Ot,RequiredCulprits:qt,BrokenLoop:Wt},store:ee,data(){return{}},computed:{...(0,r.rn)(["activeCase"])}},Ft=Zt,Dt=(0,g.Z)(Ft,ht,vt,!1,null,null,null),Mt=Dt.exports;a["default"].use(o.Z);var Ht=new o.Z({routes:[{path:"/",name:"Hello",component:A},{path:"/find-the-problem",name:"Find the Problem",component:N},{path:"/key-witnesses",name:"Witnesses",component:Q},{path:"/interrogating",name:"Interrogating",component:lt},{path:"/test",name:"Test",component:gt},{path:"/investigation-complete",name:"Complete",component:Mt}]}),zt=s(4029),Yt=s.n(zt),Gt=s(2196),Jt=s.n(Gt),Qt={fetchApi({commit:t}){return new Promise(((e,s)=>{Yt().ajax({url:"local-get-app.php",method:"GET",dataType:"json",contentType:"application/json"}).done((s=>{t("defineApi",s),e()})).fail(((t,e,a)=>{s(a)}))}))},login({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"GET",dataType:"json",contentType:"application/json",data:{action:"authenticate",username:e.username,password:e.password}}).done((e=>{Jt().isEmpty(e.errors)?(t("defineNonce",e.data.nonce),a()):(i(e.errors),t("defineNonce",""))})).fail(((t,e,s)=>{i(s)}))}))},getActiveCase({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"get_active",required_plugins:[]}}).done((e=>{Jt().isEmpty(e.errors)?(t("defineCase",e.data),a()):e.errors.no_active_case?(t("defineCase",{}),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},openCase({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"open",required_plugins:[]}}).done((e=>{Jt().isEmpty(e.errors)?(t("defineCase",e.data),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},updateCase({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{id:e.activeCase.id,nonce:e.api.nonce,controller:"cases",action:"update",required_plugins:e.activeCase.required_plugins,url:s.updatedActiveCase.url}}).done((e=>{Jt().isEmpty(e.errors)?(t("defineCase",e.data),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},closeCase({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"close"}}).done((e=>{Jt().isEmpty(e.error)?(t("defineCase",e.data),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},suspendCase({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"suspend"}}).done((e=>{Jt().isEmpty(e.error)?(t("defineCase",e.data),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},resetCase({state:t,getters:e}){return new Promise(((s,a)=>{Yt().ajax({url:e.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:t.api.nonce,controller:"cases",action:"close",reset_active_plugins:!0}}).done((t=>{Jt().isEmpty(t.error)?s():a(t.errors)})).fail(((t,e,s)=>{a(s)}))}))},interrogation({commit:t,state:e,getters:s}){return new Promise(((a,i)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:e.api.nonce,controller:"cases",action:"review"}}).done((e=>{Jt().isEmpty(e.error)?(t("defineCase",e.data),a()):i(e.errors)})).fail(((t,e,s)=>{i(s)}))}))},saveClue({commit:t,state:e,getters:s},a){return new Promise(((i,n)=>{Yt().ajax({url:s.updatedApi.api_url,method:"POST",dataType:"json",data:{outcome:a,nonce:e.api.nonce,controller:"clues",action:"create"}}).done((e=>{Jt().isEmpty(e.error)?(t("defineCase",e.data),i()):n(e.errors)})).fail(((t,e,s)=>{n(s)}))}))},deactivatePlugins({state:t,getters:e},s){return new Promise(((a,i)=>{Yt().ajax({url:e.updatedApi.api_url,method:"POST",dataType:"json",data:{nonce:t.api.nonce,controller:"plugins",action:"deactivate",plugins:s}}).done((t=>{Jt().isEmpty(t.error)?a():i(t.errors)})).fail(((t,e,s)=>{i(s)}))}))}},Kt={general:{backToWp:"Back to WordPress",returnWp:"Return to WordPress dashboard"},loading:{message:"Just a sec...",checking:"Checking records..."},error:{errorHeadline:"Uh oh",errorDescription:"Something's gone wrong. Try refreshing the page."},login:{title:"Log In",instructions:"Enter your WordPress username and password to continue.",username:"Username",password:"Password",invalid_username:"Your username is incorrect",incorrect_password:"Your password is incorrect",permission_denied:"You don't have permission to accesss Plugin Detective",error:"Login error"},case:{loading:"Getting your site...",activeCase:"Looks like you already have an open case. Did you want to continue with that case? Or open a new one?",newCase:"Sorry you're having trouble with your site, but don't worry. Detective Otto Bot is on the case! Just click the button to open a new case and get started.",continueButton:"Continue case",newButton:"Open a new case",problemUrl:"Is this still where you're seeing the issue? If not, navigate to where you are seeing the issue and let me know when you're there.",findProblem:"Here's your site. Navigate to where you're seeing the problem. Let me know when you're there.",problemButton:"I'm there",testProblem:"Here's your site again. Is the problem fixed?",yesButton:"Yes it's fixed",noButton:"No it's still broken"},interrogation:{checking:"Checking clues...",interrogatingTitle:"Interrogating",startButton:"Start interrogation",holdingTitle:"Holding Cell",clearedTitle:"Cleared",remainingTitle:"Remaining"},witnesses:{title:"Key Witnesses (Required Plugins)",loading:"Sorting out the suspects...",description:"Which plugins are required for the site's functionality?",ottoQuestion:"Which plugins are required in order for the site to work correctly?"},results:{noCulprit:"The culprit doesn't seem to be one of the suspected plugins. Here are some other possibilities:",theme:"Your theme or child theme",requiredPlugins:"One of the plugins you marked as required",muPlugins:"Any MU plugins installed on the site",startOverButton:"Start Over",noCulpritOtto:"Well, it's not a plugin. Here are some other ideas for what might be causing the issue.",unsolved:"I wasn't able to find the culprit causing this issue because the clues contradicted one another. Please try starting over. When interrogating suspects, please be careful about answering whether the problem is fixed or still broken.",unsolvedOtto:"Hmm...suspicious. The clues seem to conflict. Want to start a new case?",culpritFound:"How would you like to deal with this culprit? You can deactivate it. Or you can leave it activated and sort out the problem on your own.",deactivateButton:"Deactivate it for me",culpritFoundOtto:"Aha! The culprit has been found!",brokenLoop:"I wasn't able to find the culprit because the clues contradicted one another. It's possible that:",conflict:"There's a conflict between multiple plugins only seen when those plugins are active together.",incorrect:"The clues were incorrect.",brokenLoopOtto:"Hmm...suspicious. The clues seem to conflict. Want to start a new case?"},marketing:{helpfulTitle:"Was Plugin Detective helpful for you?",helpfulIntro:"Check out some of our other awesome plugins."}},Vt={defineApi(t,e){t.api=e},defineNonce(t,e){a["default"].set(t.api,"nonce",e)},defineRequestProtocol(t,e){t.requestProtocol=e},defineTranslations(t,e){let s=Jt().isEmpty(e)?Kt:e;t.translations=s},defineUsername(t,e){t.username=e},definePassword(t,e){t.password=e},defineCaseUrl(t,e){t.activeCase&&a["default"].set(t.activeCase,"url",e)},defineRequired(t,e){t.activeCase&&a["default"].set(t.activeCase,"required_plugins",e)},defineCase(t,e){t.activeCase=e},defineUserId(t,e){t.user_id=e},removeImage(t,e){a["default"].set(t.activeCase.all_suspects[e],"icon",null)},deactivatePlugin(t,e){a["default"].set(t.activeCase.all_suspects[e],"deactivated",!0)}},Xt={interrogatingCount(t){return t.activeCase&&t.activeCase.suspects_under_interrogation?t.activeCase.suspects_under_interrogation.length:0},clearedCount(t){return t.activeCase&&t.activeCase.cleared_suspects?t.activeCase.cleared_suspects.length:0},remainingCount(t,e){return e.holdingCell.length},notHolding(t){return t.activeCase&&t.activeCase.cleared_suspects&&t.activeCase.suspects_under_interrogation?[...t.activeCase.cleared_suspects,...t.activeCase.suspects_under_interrogation]:[]},holdingCell(t,e){return t.activeCase&&t.activeCase.all_suspects?Object.keys(t.activeCase.all_suspects).filter((t=>e.notHolding.indexOf(t)<0)):[]},updatedApi(t){if("undefined"===typeof t.api)return;let e={};for(var s in t.api)if(t.api[s]&&"string"===typeof t.api[s]&&t.api[s].indexOf("http")>-1){let a=document.createElement("a");a.setAttribute("href",t.api[s]),e[s]=t.api[s].replace(a.protocol,t.requestProtocol)}else e[s]=t.api[s];return e},updatedActiveCase(t){if("undefined"===typeof t.activeCase)return;let e={};for(var s in t.activeCase)if(t.activeCase[s]&&"string"===typeof t.activeCase[s]&&t.activeCase[s].indexOf("http")>-1){let a=document.createElement("a");a.setAttribute("href",t.activeCase[s]),e[s]=t.activeCase[s].replace(a.protocol,t.requestProtocol)}else e[s]=t.activeCase[s];return e}};a["default"].use(r.ZP);const te={router:Ht,api:void 0,username:"",password:"",activeCase:void 0,user_id:void 0,requestProtocol:"http:",translations:{}};var ee=new r.ZP.Store({state:te,actions:Qt,mutations:Vt,getters:Xt}),se={name:"app",store:ee,components:{Loading:w},data(){return{loading:!0,error:!1,localApi:window.app?window.app:{},getNonce:void 0,showLogin:!1,loginError:!1}},beforeCreate(){this.wpTranslations=window.pd_translations?window.pd_translations:{},this.$store.commit("defineTranslations",this.wpTranslations)},beforeMount(){this.activeCase||this.router.push("/"),this.defineRequestProtocol(window.location.protocol),window.addEventListener("beforeunload",(()=>{this.resetCase()}))},mounted(){let t=new URLSearchParams(window.location.search);this.defineUserId(t.get("session")?t.get("session"):void 0),this.getNonce=t.get("nonce")?t.get("nonce"):void 0,this.init()},methods:{init(){return"undefined"!==typeof this.api||Jt().isEmpty(this.localApi)?"undefined"===typeof this.api?(this.loading=!0,void this.fetchApi().then((()=>{this.api.nonce&&this.getActiveCase(),this.init()})).catch((()=>{this.loading=!1,this.error=!0,console.log("Error loading API")}))):!this.api.nonce&&this.getNonce?(this.defineNonce(this.getNonce),this.getActiveCase().then((()=>{this.showLogin=!1})).catch((t=>{this.showLogin=!0,console.log(t)})),void this.init()):void(this.api.nonce||this.getNonce?this.loading=!1:this.showLogin=!0):(this.defineApi(this.localApi),void this.init())},authenticate(){this.login().then((()=>{this.loginError=!1,this.showLogin=!1,this.api.nonce&&this.getActiveCase().then((()=>{this.loading=!1}))})).catch((t=>{this.loginError=t.authentication}))},...(0,r.nv)(["fetchApi","login","getActiveCase","resetCase"]),...(0,r.OI)(["defineApi","defineNonce","defineUsername","definePassword","defineUserId","defineRequestProtocol"])},computed:{loginErrorMessage(){switch(this.loginError){case"invalid_username":return this.translations.login.invalid_username;case"incorrect_password":return this.translations.login.incorrect_password;case"permission_denied":return this.translations.login.permission_denied;default:return this.translations.login.error}},lUsername:{get(){return this.username},set(t){this.defineUsername(t)}},lPassword:{get(){return this.password},set(t){this.definePassword(t)}},...(0,r.rn)(["api","username","password","user_id","activeCase","router","translations"]),...(0,r.Se)(["updatedApi"])}},ae=se,ie=(0,g.Z)(ae,i,n,!1,null,null,null),ne=ie.exports,re=s(5822),oe=s.n(re);a["default"].config.productionTip=!1,a["default"].use(oe()),new a["default"]({render:t=>t(ne),router:Ht}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],n=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var u=l(s)}for(e&&e(a);c<r.length;c++)n=r[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},a=self["webpackChunkproject_detective"]=self["webpackChunkproject_detective"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(7254)}));a=s.O(a)})();
//# sourceMappingURL=app.js.map