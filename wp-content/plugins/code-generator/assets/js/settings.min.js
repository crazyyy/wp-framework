jQuery(document).ready(function(e){var t;if(e(".colorpicker").hide(),e(".colorpicker").each(function(){e(this).farbtastic(e(this).closest(".color-picker").find(".color"))}),e(".color").click(function(){e(this).closest(".color-picker").find(".colorpicker").fadeIn()}),e(document).mousedown(function(){e(".colorpicker").each(function(){"block"==e(this).css("display")&&e(this).fadeOut()})}),jQuery.fn.uploadMediaFile=function(e,a){var i=e.attr("id"),r=i.replace("_button",""),n=i.replace("_button","_preview");t?t.open():((t=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+r).val(attachment.id),a&&jQuery("#"+n).attr("src",attachment.sizes.thumbnail.url),t=!1}),t.open())},jQuery(".image_upload_button").click(function(){jQuery.fn.uploadMediaFile(jQuery(this),!0)}),jQuery("body").on("click","#generate_wp_copy",function(){jQuery("#generate_wp_code textarea").select(),document.execCommand("copy")}),jQuery(".generate_wp_generate").click(function(e){e.preventDefault();var t={};jQuery("#generate_wp_settings form").serializeArray().forEach(function(e){t[e.name]=e.value}),t.tab||(t.tab=jQuery("#generate_wp_header a").first().text());const a={action:"gwp_generate_code",settings:t};jQuery.ajax({url:ajaxurl,type:"POST",data:a}).done(function(e){e.success?(jQuery("#generate_wp_code").html("<textarea>"+e.data+"</textarea>"),jQuery("#generate_wp_snippet").dialog("open")):jQuery("#generate_wp_error").text(e.data).show().fadeOut(3e3)})}),e("#generate_wp_snippet").dialog({title:"Code snippet",dialogId:"wp-dialog",dialogClass:"wp-dialog",autoOpen:!1,draggable:!0,width:"auto",modal:!0,resizable:!0,closeOnEscape:!0,show:{duration:500},hide:{duration:500},position:{my:"center",at:"center",of:window},open:function(){jQuery(".ui-widget-overlay").unbind("click").bind("click",function(){jQuery("#generate_wp_snippet").dialog("close")})},create:function(){jQuery(".ui-dialog-title").after('<button id="generate_wp_copy">Copy</button>')}}),jQuery("#generate_wp_settings select").on("change",function(){var e=jQuery(this).val(),t=jQuery(this).prop("id");jQuery('#generate_wp_settings [data-parent="'+t+'"]').each(function(t,a){var i=jQuery(this).data("parent-val"),r=jQuery(this).closest("tr"),n=jQuery(this).prop("id"),o=jQuery('#generate_wp_settings [data-parent="'+n+'"]');if(void 0!==i&&""+i==""+e)var c=!0;else c=!1;c?(r.show(1e3),jQuery(this).is("select")&&jQuery(this).trigger("change")):(o.each(function(){jQuery(this).closest("tr").hide(1e3)}),r.hide(1e3))})}).trigger("change"),"undefined"!=typeof wpgHooks){var a=[];jQuery.map(wpgHooks,function(e){a[e.text]=e})}jQuery("#hook_name, #filter_name").on("change",function(){var e=jQuery(this).val(),t=void 0!==a[e]?a[e]:{};if(void 0!==t.description){var i=t.description;if(void 0!==t.file&&void 0!==t.file.line&&void 0!==t.file.name)i=i+' <a href="'+("https://github.com/WordPress/WordPress/blob/master/"+t.file.name+"#L"+t.file.line)+'" target="_blank">Source</a>';jQuery(".wpg_"+t.type+"_description").html(i)}var r=void 0!==t.params?t.params:[],n=[],o=[];jQuery.map(r,function(e){n.push(e.name),o.push(e.name+" ("+e.type+") "+e.description)});var c=n.join(", ");jQuery("#args_list").val(c);var u=o.join("<br>");jQuery(".wpg_params_description").html(u);var s=r.length;jQuery("#accepted_args").val(s)}).trigger("change"),jQuery(".image_delete_button").click(function(){return jQuery(this).closest("td").find(".image_data_field").val(""),jQuery(this).closest("td").find(".image_preview").remove(),!1})});