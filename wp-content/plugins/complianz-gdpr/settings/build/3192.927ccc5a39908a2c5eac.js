"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[3192,5228,6716,8217],{3192:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var n=o(27723),s=o(86087),a=o(56716),l=o(4219),r=o(98217),c=o(10790);const i=()=>{const{getFieldValue:e,fields:t}=(0,l.default)(),[o,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i(e("records_of_consent"))},[t]);const{processingAgreementOptions:d,dataBreachOptions:p,proofOfConsentOptions:u}=(0,a.default)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"cmplz-h4",children:(0,n.__)("Other documents","complianz-gdpr")}),(0,c.jsx)(r.default,{type:"processing-agreements",link:"#tools/processing-agreements",name:(0,n.__)("Processing Agreement","complianz-gdpr"),options:d}),(0,c.jsx)(r.default,{type:"data-breaches",link:"#tools/data-breach-reports",name:(0,n.__)("Data Breach","complianz-gdpr"),options:p}),(0,c.jsx)(r.default,{type:"proof-of-consent",link:o?"#tools/records-of-consent":"#tools/proof-of-consent",name:(0,n.__)("Proof of Consent","complianz-gdpr"),options:u})]})}},25228:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(86087),s=o(21366),a=o(45111),l=o(27723),r=o(10790);const c=(0,n.memo)(({value:e=!1,onChange:t,required:o,defaultValue:n,disabled:c,options:i={},canBeEmpty:d=!0,label:p})=>{if(Array.isArray(i)){let e={};i.map(t=>{e[t.value]=t.label}),i=e}return d?(""===e||!1===e||0===e)&&(e="0",i={0:(0,l.__)("Select an option","complianz-gdpr"),...i}):e||(e=Object.keys(i)[0]),(0,r.jsx)("div",{className:"cmplz-input-group cmplz-select-group",children:(0,r.jsxs)(s.bL,{value:e,defaultValue:n,onValueChange:t,required:o,disabled:c&&!Array.isArray(c),children:[(0,r.jsxs)(s.l9,{className:"cmplz-select-group__trigger",children:[(0,r.jsx)(s.WT,{}),(0,r.jsx)(a.default,{name:"chevron-down"})]}),(0,r.jsxs)(s.UC,{className:"cmplz-select-group__content",position:"popper",children:[(0,r.jsx)(s.PP,{className:"cmplz-select-group__scroll-button",children:(0,r.jsx)(a.default,{name:"chevron-up"})}),(0,r.jsx)(s.LM,{className:"cmplz-select-group__viewport",children:(0,r.jsx)(s.YJ,{children:Object.entries(i).map(([e,t])=>(0,r.jsx)(s.q7,{disabled:Array.isArray(c)&&c.includes(e),className:"cmplz-select-group__item",value:e,children:(0,r.jsx)(s.p4,{children:t})},e))})}),(0,r.jsx)(s.wn,{className:"cmplz-select-group__scroll-button",children:(0,r.jsx)(a.default,{name:"chevron-down"})})]})]})},p)})},56716:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var n=o(81621),s=o(9588);const a=(0,n.vt)((e,t)=>({documents:[],documentDataLoaded:!1,processingAgreementOptions:[],proofOfConsentOptions:[],dataBreachOptions:[],region:"",setRegion:t=>{"undefined"!=typeof Storage&&(sessionStorage.cmplzSelectedRegion=t),e(e=>({region:t}))},getRegion:()=>{let t="all";"undefined"!=typeof Storage&&sessionStorage.cmplzSelectedRegion&&(t=sessionStorage.cmplzSelectedRegion),e(e=>({region:t}))},getDocuments:async()=>{const{documents:t,processingAgreementOptions:o,proofOfConsentOptions:n,dataBreachOptions:a}=await s.doAction("documents_block_data").then(e=>e);e(e=>({documentDataLoaded:!0,documents:t,processingAgreementOptions:o,proofOfConsentOptions:n,dataBreachOptions:a}))}}))},98217:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(45111),s=o(27723),a=o(86087),l=o(25228),r=o(10790);const c=e=>{const[t,o]=(0,a.useState)(!1),[c,i]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=e.options;if(0===t.length){let o={label:e.name,value:0};t.unshift(o)}else if(!t.filter(e=>0===e.value).length>0){let o={label:e.name,value:0};t.unshift(o)}p(t)},[e.options]);const u=()=>{if(c||!t||0===t)return;i(!0);let e=new XMLHttpRequest;e.responseType="blob",e.open("get",t,!0),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=window.URL.createObjectURL(this.response),o=window.document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",d.filter(e=>e.value===t)[0].label),window.document.body.appendChild(o),o.click(),setTimeout(function(){window.URL.revokeObjectURL(e)},6e4)}},e.onprogress=function(e){i(!0)}};return(0,r.jsxs)("div",{className:"cmplz-single-document-other-documents",children:[(0,r.jsx)(l.default,{onChange:e=>o(e),defaultValue:"0",canBeEmpty:!1,value:t,options:d}),(0,r.jsx)("div",{onClick:()=>u(),children:(0,r.jsx)(n.default,{name:"file-download",color:0==t||c?"grey":"black",tooltip:(0,s.__)("Download file","complianz-gdpr"),size:14})}),d.length>0&&(0,r.jsx)("a",{href:e.link,children:(0,r.jsx)(n.default,{name:"circle-chevron-right",color:"black",tooltip:(0,s.__)("Go to overview","complianz-gdpr"),size:14})}),0===d.length&&(0,r.jsx)("a",{href:e.link,children:(0,r.jsx)(n.default,{name:"plus",color:"black",tooltip:(0,s.__)("Create new","complianz-gdpr"),size:14})})]})}}}]);