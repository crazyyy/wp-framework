"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[8084,8895],{98084:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(86087),l=a(45111),o=a(27723),n=a(88895);const r=()=>{const[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(1),[i,c]=(0,s.useState)(0),[d,g]=(0,s.useState)(0),{consentType:m,statisticsData:b,loaded:f,fetchStatisticsData:u,labels:p,setLabels:h}=(0,n.default)();return(0,s.useEffect)((()=>{!f&&cmplz_settings.is_premium&&u()}),[]),(0,s.useEffect)((()=>{if(""===m||!f)return;if(!b||!b.hasOwnProperty(m))return;let e=[...b[m].labels],t=b[m].categories;t="optin"===m?t.filter((e=>"functional"===e||"no_warning"===e||"do_not_track"===e)):t.filter((e=>"functional"===e||"marketing"===e||"statistics"===e||"preferences"===e));let a=t.map((e=>b[m].categories.indexOf(e)));for(let t=a.length-1;t>=0;t--)e.splice(a[t],1);h(e)}),[f,m]),(0,s.useEffect)((()=>{if(""===m||!f||!b)return;let e=b[m].datasets.filter((e=>e.default));if(e.length>0){let a=e[0].data,s=a.reduce(((e,t)=>parseInt(e)+parseInt(t)),0);s=s>0?s:1,r(s),c(e[0].full_consent),g(e[0].no_consent),a=a.slice(2),t(a)}}),[f,m]),(0,s.createElement)("div",{className:"cmplz-statistics"},(0,s.createElement)("div",{className:"cmplz-statistics-select"},(0,s.createElement)("div",{className:"cmplz-statistics-select-item"},(0,s.createElement)(l.default,{name:"dial-max-light",color:"green",size:"22"}),(0,s.createElement)("h2",null,i),(0,s.createElement)("span",null,(0,o.__)("Full Consent","complianz-gdpr"))),(0,s.createElement)("div",{className:"cmplz-statistics-select-item"},(0,s.createElement)(l.default,{name:"dial-min-light",color:"red",size:"22"}),(0,s.createElement)("h2",null,d),(0,s.createElement)("span",null,(0,o.__)("No Consent","complianz-gdpr")))),(0,s.createElement)("div",{className:"cmplz-statistics-list"},p.length>0&&p.map(((t,o)=>{return(0,s.createElement)("div",{className:"cmplz-statistics-list-item",key:o},(e=>{let t="dial-med-low-light";return 1===e?t="dial-med-light":2===e?t="dial-light":3===e?t="dial-off-light":4===e&&(t="dial-min-light"),(0,s.createElement)(s.Fragment,null,(0,s.createElement)(l.default,{name:t,color:"black"}))})(o),(0,s.createElement)("p",{className:"cmplz-statistics-list-item-text"},t),(0,s.createElement)("p",{className:"cmplz-statistics-list-item-number"},e.hasOwnProperty(o)?(n=e[o],n=parseInt(n),Math.round(n/a*100)):0,"%"));var n}))))}},88895:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(81621),l=a(9588);const o={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["0","0","0","0","0","0"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["0","0","0","0","0","0"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"B",fill:"false",borderDash:[0,0]}],max:5}},n={optin:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"Demo A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5},optout:{labels:["Functional","Statistics","Marketing","Do Not Track","No Choice","No Warning"],categories:["functional","statistics","marketing","do_not_track","no_choice","no_warning"],datasets:[{data:["29","747","174","292","30","10"],backgroundColor:"rgba(46, 138, 55, 1)",borderColor:"rgba(46, 138, 55, 1)",label:"A (default)",fill:"false",borderDash:[0,0]},{data:["3","536","240","389","45","32"],backgroundColor:"rgba(244, 191, 62, 1)",borderColor:"rgba(244, 191, 62, 1)",label:"Demo B",fill:"false",borderDash:[0,0]}],max:5}},r=(0,s.vt)(((e,t)=>({consentType:"optin",setConsentType:t=>{e({consentType:t})},statisticsLoading:!1,consentTypes:[],regions:[],defaultConsentType:"optin",loaded:!1,statisticsData:o,emptyStatisticsData:o,bestPerformerEnabled:!1,daysLeft:"",abTrackingCompleted:!1,labels:[],setLabels:t=>{e({labels:t})},fetchStatisticsData:async()=>{if(!cmplz_settings.is_premium)return void e({saving:!1,loaded:!0,consentType:"optin",consentTypes:["optin","optout"],statisticsData:n,defaultConsentType:"optin",bestPerformerEnabled:!1,regions:"eu",daysLeft:11,abTrackingCompleted:!1});if(e({saving:!0}),t().loaded)return;const{daysLeft:a,abTrackingCompleted:s,consentTypes:o,statisticsData:r,defaultConsentType:i,regions:c,bestPerformerEnabled:d}=await l.doAction("get_statistics_data",{}).then((e=>e)).catch((e=>{console.error(e)}));e({saving:!1,loaded:!0,consentType:i,consentTypes:o,statisticsData:r,defaultConsentType:i,bestPerformerEnabled:d,regions:c,daysLeft:a,abTrackingCompleted:s})}})))}}]);