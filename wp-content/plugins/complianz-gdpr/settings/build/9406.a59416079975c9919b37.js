"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[9406,4759,5683],{69406:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var s=i(86087),c=i(4219),n=i(34759),r=i(45111),l=i(27723),a=i(35683);const o=e=>{const{fields:t,getFieldValue:i}=(0,c.default)(),[o,d]=(0,s.useState)(!1),{integrationsLoaded:p,plugins:u,fetchIntegrationsData:h}=(0,n.default)(),{licenseStatus:g}=(0,a.default)();(0,s.useEffect)((()=>{let t=e.item;if(t.field){let e=i(t.field.name)==t.field.value;d(e)}}),[t]),(0,s.useEffect)((()=>{p||h()}),[]);let f=e.item;if(f.plugin)return u.filter((e=>e.id===f.plugin)).length>0?(0,s.createElement)("div",{className:"cmplz-tool"},(0,s.createElement)("div",{className:"cmplz-tool-title"},f.title),(0,s.createElement)("div",{className:"cmplz-tool-link"},(0,s.createElement)("a",{href:f.link,target:"_blank",rel:"noopener noreferrer"},(0,s.createElement)(r.default,{name:"circle-chevron-right",color:"black",size:14})))):null;let m=cmplz_settings.is_premium&&"valid"===g,_=((0,l.__)("Read more","complianz-gdpr"),f.link);m&&(!o&&f.enableLink&&(_=f.enableLink),f.field&&!o||!f.viewLink||(_=f.viewLink));let b=-1!==_.indexOf("https://"),k=b?"_blank":"_self",v=b?"external-link":"circle-chevron-right";return(0,s.createElement)("div",{className:"cmplz-tool"},(0,s.createElement)("div",{className:"cmplz-tool-title"},f.title,f.plusone&&f.plusone),(0,s.createElement)("div",{className:"cmplz-tool-link"},(0,s.createElement)("a",{href:_,target:k,rel:b?"noopener noreferrer":""},(0,s.createElement)(r.default,{name:v,color:"black",size:14}))))}},34759:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var s=i(81621),c=i(16535),n=i(9588);const r=(0,s.vt)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,i)=>{e((0,c.Ay)((e=>{if("block_script"===i){let i=e.blockedScripts;if(t.urls){for(const[e,s]of Object.entries(t.urls)){if(!s||0===s.length)continue;let e=!1;for(const[t,c]of Object.entries(i))s===t&&(e=!0);e||(i[s]=s)}e.blockedScripts=i}}const s=e.scripts[i].findIndex((e=>e.id===t.id));-1!==s&&(e.scripts[i][s]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:i,plugins:s,scripts:c,placeholders:n,blocked_scripts:r}=await l();let a=c;a.block_script&&a.block_script.length>0&&a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script&&a.add_script.length>0&&a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script&&a.whitelist_script.length>0&&a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:i,plugins:s,scripts:a,fetching:!1,placeholders:n,blockedScripts:r})))},addScript:i=>{e({fetching:!0}),t().scripts[i]&&Array.isArray(t().scripts[i])||e((0,c.Ay)((e=>{e.scripts[i]=[]}))),e((0,c.Ay)((e=>{e.scripts[i].push({name:"general",id:e.scripts[i].length,enable:!0})})));let s=t().scripts;return n.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(i,s)=>{e({fetching:!0}),t().scripts[s]&&Array.isArray(t().scripts[s])||e((0,c.Ay)((e=>{e.scripts[s]=[]}))),e((0,c.Ay)((e=>{const t=e.scripts[s].findIndex((e=>e.id===i.id));-1!==t&&(e.scripts[s][t]=i)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(i,s)=>{e({fetching:!0}),t().scripts[s]&&Array.isArray(t().scripts[s])||e((0,c.Ay)((e=>{e.scripts[s]=[]}))),e((0,c.Ay)((e=>{const t=e.scripts[s].findIndex((e=>e.id===i.id));-1!==t&&e.scripts[s].splice(t,1)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,i)=>{e({fetching:!0}),e((0,c.Ay)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].enabled=i)})));const s=await n.doAction("update_plugin_status",{plugin:t,enabled:i}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),s},updatePlaceholderStatus:async(t,i,s)=>{e({fetching:!0}),s&&e((0,c.Ay)((e=>{const s=e.plugins.findIndex((e=>e.id===t));-1!==s&&(e.plugins[s].placeholder=i?"enabled":"disabled")})));const r=await n.doAction("update_placeholder_status",{id:t,enabled:i}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r}}))),l=()=>n.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},35683:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var s=i(81621),c=i(9588);const n=(0,s.vt)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:i}=await c.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:i,licenseStatus:t})))},activateLicense:async t=>{let i={};i.license=t,e({processing:!0});const{licenseStatus:s,notices:n}=await c.doAction("activate_license",i);e((e=>({processing:!1,licenseNotices:n,licenseStatus:s})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:i}=await c.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:i,licenseStatus:t})))}})))}}]);