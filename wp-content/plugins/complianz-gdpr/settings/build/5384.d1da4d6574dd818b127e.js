"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[5384,3404,2572,4056,5080],{13404:(e,t,n)=>{n.r(t),n.d(t,{UseCookieScanData:()=>a});var r=n(30809),c=n(61744);const a=(0,r.Su)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),c.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},32572:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(51280),c=n(88496),a=n(61744),s=n(25536),l=n(38924),o=n(87287),i=n(13404),d=n(64224);const u=(0,c.memo)((({type:e="action",style:t="tertiary",label:n,onClick:u,href:p="",target:m="",disabled:f,action:h,field:b,children:g})=>{if(!n&&!g)return null;const _=(b&&b.button_text?b.button_text:n)||g,{fetchFieldsData:k,showSavedSettingsNotice:E}=(0,s.default)(),{setInitialLoadCompleted:y,setProgress:v}=(0,i.UseCookieScanData)(),{setProgressLoaded:w}=(0,d.default)(),{selectedSubMenuItem:C}=(0,l.default)(),[N,S]=(0,c.useState)(!1),A=`button cmplz-button button--${t} button-${e}`,z=async e=>{await a.doAction(b.action,{}).then((e=>{e.success&&(k(C),"reset_settings"===e.id&&(y(!1),v(0),w(!1)),E(e.message))}))},O=b&&b.warn?b.warn:"";return"action"===e?(0,r.createElement)(r.Fragment,null,o.__experimentalConfirmDialog&&(0,r.createElement)(o.__experimentalConfirmDialog,{isOpen:N,onConfirm:async()=>{S(!1),await z()},onCancel:()=>{S(!1)}},O),(0,r.createElement)("button",{className:A,onClick:async t=>{if("action"!==e||!u)return"action"===e&&h?o.__experimentalConfirmDialog?void(b&&b.warn?S(!0):await z()):void await z():void(window.location.href=b.url);u(t)},disabled:f},_)):"link"===e?(0,r.createElement)("a",{className:A,href:p,target:m},_):void 0}))},38912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(51280),c=n(45072),a=n(40304),s=n(59016),l=n(3608),o=n(84664),i=n(37408),d=n(15920),u=n(76860),p=n(61480);const m="Checkbox",[f,h]=(0,s._)(m),[b,g]=f(m),_=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,...g}=e,[_,v]=(0,r.useState)(null),w=(0,a.q)(t,(e=>v(e))),C=(0,r.useRef)(!1),N=!_||Boolean(_.closest("form")),[S=!1,A]=(0,o.W)({prop:i,defaultProp:d,onChange:h}),z=(0,r.useRef)(S);return(0,r.useEffect)((()=>{const e=null==_?void 0:_.form;if(e){const t=()=>A(z.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[_,A]),(0,r.createElement)(b,{scope:n,state:S,disabled:m},(0,r.createElement)(p.K0.button,(0,c.c)({type:"button",role:"checkbox","aria-checked":E(S)?"mixed":S,"aria-required":u,"data-state":y(S),"data-disabled":m?"":void 0,disabled:m,value:f},g,{ref:w,onKeyDown:(0,l.K)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,l.K)(e.onClick,(e=>{A((e=>!!E(e)||!e)),N&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))})),N&&(0,r.createElement)(k,{control:_,bubbles:!C.current,name:s,value:f,checked:S,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),k=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,l=(0,r.useRef)(null),o=(0,i.i)(n),u=(0,d.k)(t);return(0,r.useEffect)((()=>{const e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:a});e.indeterminate=E(n),r.call(e,!E(n)&&n),e.dispatchEvent(t)}}),[o,n,a]),(0,r.createElement)("input",(0,c.c)({type:"checkbox","aria-hidden":!0,defaultChecked:!E(n)&&n},s,{tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return"indeterminate"===e}function y(e){return E(e)?"indeterminate":e?"checked":"unchecked"}const v=_,w=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,l=g("CheckboxIndicator",n);return(0,r.createElement)(u.s,{present:a||E(l.state)||!0===l.state},(0,r.createElement)(p.K0.span,(0,c.c)({"data-state":y(l.state),"data-disabled":l.disabled?"":void 0},s,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var C=n(93396),N=n(15832),S=n(88496),A=n(32572);const z=(0,S.memo)((({indeterminate:e,label:t,value:n,id:c,onChange:a,required:s,disabled:l,options:o={}})=>{const[i,d]=(0,S.useState)(!1),[u,p]=(0,S.useState)(!1);let m=n;Array.isArray(m)||(m=""===m?[]:[m]),(0,S.useEffect)((()=>{let e=1===Object.keys(o).length&&"true"===Object.keys(o)[0];d(e)}),[]),e&&(n=!0);const f=m;let h=!1;Object.keys(o).length>10&&(h=!0);const b=e=>i?n:f.includes(""+e)||f.includes(parseInt(e)),g=()=>{p(!u)};let _=l&&!Array.isArray(l);return 0===Object.keys(o).length?(0,r.createElement)(r.Fragment,null,(0,C.__)("No options found","complianz-gdpr")):(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(o).map((([o,d],p)=>(0,r.createElement)("div",{key:o,className:"cmplz-checkbox-group__item"+(!u&&p>9?" cmplz-hidden":"")},(0,r.createElement)(v,{className:"cmplz-checkbox-group__checkbox",id:c+"_"+o,checked:b(o),"aria-label":t,disabled:_||Array.isArray(l)&&l.includes(o),required:s,onCheckedChange:e=>((e,t)=>{if(i)a(!n);else{const e=f.includes(""+t)||f.includes(parseInt(t))?f.filter((e=>e!==""+t&&e!==parseInt(t))):[...f,t];a(e)}})(0,o)},(0,r.createElement)(w,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(N.default,{name:e?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:c+"_"+o},d)))),!u&&h&&(0,r.createElement)(A.default,{onClick:()=>g()},(0,C.__)("Show more","complianz-gdpr")),u&&h&&(0,r.createElement)(A.default,{onClick:()=>g()},(0,C.__)("Show less","complianz-gdpr")))}))},14056:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(51280),c=n(88496),a=n(39992),s=n(15832),l=n(93396);const o=(0,c.memo)((({value:e=!1,onChange:t,required:n,defaultValue:c,disabled:o,options:i={},canBeEmpty:d=!0,label:u})=>{if(Array.isArray(i)){let e={};i.map((t=>{e[t.value]=t.label})),i=e}return d?(""===e||!1===e||0===e)&&(e="0",i={0:(0,l.__)("Select an option","complianz-gdpr"),...i}):e||(e=Object.keys(i)[0]),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-select-group",key:u},(0,r.createElement)(a.Ss,{value:e,defaultValue:c,onValueChange:t,required:n,disabled:o&&!Array.isArray(o)},(0,r.createElement)(a.mf,{className:"cmplz-select-group__trigger"},(0,r.createElement)(a.s3,null),(0,r.createElement)(s.default,{name:"chevron-down"})),(0,r.createElement)(a.kP,{className:"cmplz-select-group__content",position:"popper"},(0,r.createElement)(a.O4,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(s.default,{name:"chevron-up"})),(0,r.createElement)(a.mm,{className:"cmplz-select-group__viewport"},(0,r.createElement)(a.WM,null,Object.entries(i).map((([e,t])=>(0,r.createElement)(a.iY,{disabled:Array.isArray(o)&&o.includes(e),className:"cmplz-select-group__item",key:e,value:e},(0,r.createElement)(a.CC,null,t)))))),(0,r.createElement)(a.y8,{className:"cmplz-select-group__scroll-button"},(0,r.createElement)(s.default,{name:"chevron-down"})))))}))},35074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(51280),c=n(88496),a=n(45072),s=n(3608),l=n(40304),o=n(59016),i=n(84664),d=n(37408),u=n(15920),p=n(61480);const m="Switch",[f,h]=(0,o._)(m),[b,g]=f(m),_=(0,r.forwardRef)(((e,t)=>{const{__scopeSwitch:n,name:c,checked:o,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:h,...g}=e,[_,y]=(0,r.useState)(null),v=(0,l.q)(t,(e=>y(e))),w=(0,r.useRef)(!1),C=!_||Boolean(_.closest("form")),[N=!1,S]=(0,i.W)({prop:o,defaultProp:d,onChange:h});return(0,r.createElement)(b,{scope:n,checked:N,disabled:m},(0,r.createElement)(p.K0.button,(0,a.c)({type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":E(N),"data-disabled":m?"":void 0,disabled:m,value:f},g,{ref:v,onClick:(0,s.K)(e.onClick,(e=>{S((e=>!e)),C&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())}))})),C&&(0,r.createElement)(k,{control:_,bubbles:!w.current,name:c,value:f,checked:N,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),k=e=>{const{control:t,checked:n,bubbles:c=!0,...s}=e,l=(0,r.useRef)(null),o=(0,d.i)(n),i=(0,u.k)(t);return(0,r.useEffect)((()=>{const e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&r){const t=new Event("click",{bubbles:c});r.call(e,n),e.dispatchEvent(t)}}),[o,n,c]),(0,r.createElement)("input",(0,a.c)({type:"checkbox","aria-hidden":!0,defaultChecked:n},s,{tabIndex:-1,ref:l,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return e?"checked":"unchecked"}const y=_,v=(0,r.forwardRef)(((e,t)=>{const{__scopeSwitch:n,...c}=e,s=g("SwitchThumb",n);return(0,r.createElement)(p.K0.span,(0,a.c)({"data-state":E(s.checked),"data-disabled":s.disabled?"":void 0},c,{ref:t}))}));var w=n(25536);const C=(0,c.memo)((({value:e,onChange:t,required:n,disabled:c,className:a,label:s,id:l})=>{const{getField:o}=(0,w.default)();let i=e;return"0"!==e&&"1"!==e||(i="1"===e),(0,r.createElement)("div",{className:"cmplz-input-group cmplz-switch-group"},(0,r.createElement)(y,{className:"cmplz-switch-root "+a,checked:i,onCheckedChange:e=>{"banner"===o(l).data_target&&(e=e?"1":"0"),t(e)},disabled:c,required:n},(0,r.createElement)(v,{className:"cmplz-switch-thumb"})))}))},5384:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(51280),c=n(93396),a=(n(35074),n(14056)),s=n(35080),l=n(38912);const o=e=>{const{setScript:t,blockedScripts:n,fetching:o}=(0,s.default)(),i=n,d=e.script,u=e=>{if(!d.dependency||0===d.dependency.length)return"";let t=Object.entries(d.dependency);for(const[n,r]of t)if(n===e)return r;return""},p=(e,t)=>{let n={...e};for(const[e,r]of Object.entries(n))if(r===t){delete n[e];break}return n};let m=d.hasOwnProperty("urls")?Object.entries(d.urls):[""];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,r.createElement)(l.default,{id:d.id+"dependency",disabled:o,value:d.enable_dependency,onChange:n=>((n,r)=>{let c={...d};c.enable_dependency=n,t(c,e.type)})(n),options:{true:(0,c.__)("Enable dependency","complianz-gdpr")}})),!!d.enable_dependency&&(0,r.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},m.length>1&&m.map((([n,s],l)=>(0,r.createElement)("div",{key:l,className:"cmplz-scriptcenter-dependencies"},(0,r.createElement)(a.default,{disabled:o,value:u(s),options:p(i,s),onChange:n=>((n,r)=>{let c={...d},a={...c.dependency};a[r]=n,c.dependency=a,t(c,e.type)})(n,s)}),(0,r.createElement)("div",null,(0,c.__)("waits for: ","complianz-gdpr"),s||(0,c.__)("Empty URL","complianz-gdpr"))))),m.length<=1&&(0,r.createElement)(r.Fragment,null,(0,c.__)("Add a URL to create a dependency between two URLs","complianz-gdpr"))))}},35080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(30809),c=n(524),a=n(61744);const s=(0,r.Su)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,c.cp)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,r]of Object.entries(t.urls)){if(!r||0===r.length)continue;let e=!1;for(const[t,c]of Object.entries(n))r===t&&(e=!0);e||(n[r]=r)}e.blockedScripts=n}}const r=e.scripts[n].findIndex((e=>e.id===t.id));-1!==r&&(e.scripts[n][r]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:r,scripts:c,placeholders:a,blocked_scripts:s}=await l();let o=c;o.block_script&&o.block_script.length>0&&o.block_script.forEach(((e,t)=>{e.id=t})),o.add_script&&o.add_script.length>0&&o.add_script.forEach(((e,t)=>{e.id=t})),o.whitelist_script&&o.whitelist_script.length>0&&o.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:r,scripts:o,fetching:!1,placeholders:a,blockedScripts:s})))},addScript:n=>{e({fetching:!0}),t().scripts[n]&&Array.isArray(t().scripts[n])||e((0,c.cp)((e=>{e.scripts[n]=[]}))),e((0,c.cp)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let r=t().scripts;return a.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,c.cp)((e=>{e.scripts[r]=[]}))),e((0,c.cp)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[r][t]=n)})));let s=t().scripts;return a.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,c.cp)((e=>{e.scripts[r]=[]}))),e((0,c.cp)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[r].splice(t,1)})));let s=t().scripts;return a.doAction("update_scripts",{scripts:s}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,c.cp)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].enabled=n)})));const r=await a.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r},updatePlaceholderStatus:async(t,n,r)=>{e({fetching:!0}),r&&e((0,c.cp)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].placeholder=n?"enabled":"disabled")})));const s=await a.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),s}}))),l=()=>a.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},76860:(e,t,n)=>{n.d(t,{s:()=>l});var r=n(51280),c=n(81034),a=n(40304),s=n(84904);const l=e=>{const{present:t,children:n}=e,l=function(e){const[t,n]=(0,r.useState)(),a=(0,r.useRef)({}),l=(0,r.useRef)(e),i=(0,r.useRef)("none"),d=e?"mounted":"unmounted",[u,p]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=o(a.current);i.current="mounted"===u?e:"none"}),[u]),(0,s.w)((()=>{const t=a.current,n=l.current;if(n!==e){const r=i.current,c=o(t);e?p("MOUNT"):"none"===c||"none"===(null==t?void 0:t.display)?p("UNMOUNT"):p(n&&r!==c?"ANIMATION_OUT":"UNMOUNT"),l.current=e}}),[e,p]),(0,s.w)((()=>{if(t){const e=e=>{const n=o(a.current).includes(e.animationName);e.target===t&&n&&(0,c.flushSync)((()=>p("ANIMATION_END")))},n=e=>{e.target===t&&(i.current=o(a.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,r.useCallback)((e=>{e&&(a.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:l.isPresent}):r.Children.only(n),d=(0,a.q)(l.ref,i.ref);return"function"==typeof n||l.isPresent?(0,r.cloneElement)(i,{ref:d}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"}}]);