"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[8912,3404,2572],{13404:(e,t,n)=>{n.r(t),n.d(t,{UseCookieScanData:()=>o});var r=n(30809),a=n(61744);const o=(0,r.Su)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),a.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},32572:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(51280),a=n(88496),o=n(61744),c=n(25536),s=n(38924),i=n(87287),l=n(13404),d=n(64224);const u=(0,a.memo)((({type:e="action",style:t="tertiary",label:n,onClick:u,href:m="",target:p="",disabled:f,action:b,field:h,children:g})=>{if(!n&&!g)return null;const k=(h&&h.button_text?h.button_text:n)||g,{fetchFieldsData:v,showSavedSettingsNotice:E}=(0,c.default)(),{setInitialLoadCompleted:_,setProgress:y}=(0,l.UseCookieScanData)(),{setProgressLoaded:C}=(0,d.default)(),{selectedSubMenuItem:N}=(0,s.default)(),[w,I]=(0,a.useState)(!1),x=`button cmplz-button button--${t} button-${e}`,L=async e=>{await o.doAction(h.action,{}).then((e=>{e.success&&(v(N),"reset_settings"===e.id&&(_(!1),y(0),C(!1)),E(e.message))}))},O=h&&h.warn?h.warn:"";return"action"===e?(0,r.createElement)(r.Fragment,null,i.__experimentalConfirmDialog&&(0,r.createElement)(i.__experimentalConfirmDialog,{isOpen:w,onConfirm:async()=>{I(!1),await L()},onCancel:()=>{I(!1)}},O),(0,r.createElement)("button",{className:x,onClick:async t=>{if("action"!==e||!u)return"action"===e&&b?i.__experimentalConfirmDialog?void(h&&h.warn?I(!0):await L()):void await L():void(window.location.href=h.url);u(t)},disabled:f},k)):"link"===e?(0,r.createElement)("a",{className:x,href:m,target:p},k):void 0}))},38912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(51280),a=n(45072),o=n(40304),c=n(59016),s=n(3608),i=n(84664),l=n(37408),d=n(15920),u=n(76860),m=n(61480);const p="Checkbox",[f,b]=(0,c._)(p),[h,g]=f(p),k=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:c,checked:l,defaultChecked:d,required:u,disabled:p,value:f="on",onCheckedChange:b,...g}=e,[k,y]=(0,r.useState)(null),C=(0,o.q)(t,(e=>y(e))),N=(0,r.useRef)(!1),w=!k||Boolean(k.closest("form")),[I=!1,x]=(0,i.W)({prop:l,defaultProp:d,onChange:b}),L=(0,r.useRef)(I);return(0,r.useEffect)((()=>{const e=null==k?void 0:k.form;if(e){const t=()=>x(L.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[k,x]),(0,r.createElement)(h,{scope:n,state:I,disabled:p},(0,r.createElement)(m.K0.button,(0,a.c)({type:"button",role:"checkbox","aria-checked":E(I)?"mixed":I,"aria-required":u,"data-state":_(I),"data-disabled":p?"":void 0,disabled:p,value:f},g,{ref:C,onKeyDown:(0,s.K)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,s.K)(e.onClick,(e=>{x((e=>!!E(e)||!e)),w&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())}))})),w&&(0,r.createElement)(v,{control:k,bubbles:!N.current,name:c,value:f,checked:I,required:u,disabled:p,style:{transform:"translateX(-100%)"}}))})),v=e=>{const{control:t,checked:n,bubbles:o=!0,...c}=e,s=(0,r.useRef)(null),i=(0,l.i)(n),u=(0,d.k)(t);return(0,r.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==n&&r){const t=new Event("click",{bubbles:o});e.indeterminate=E(n),r.call(e,!E(n)&&n),e.dispatchEvent(t)}}),[i,n,o]),(0,r.createElement)("input",(0,a.c)({type:"checkbox","aria-hidden":!0,defaultChecked:!E(n)&&n},c,{tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return"indeterminate"===e}function _(e){return E(e)?"indeterminate":e?"checked":"unchecked"}const y=k,C=(0,r.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...c}=e,s=g("CheckboxIndicator",n);return(0,r.createElement)(u.s,{present:o||E(s.state)||!0===s.state},(0,r.createElement)(m.K0.span,(0,a.c)({"data-state":_(s.state),"data-disabled":s.disabled?"":void 0},c,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var N=n(93396),w=n(15832),I=n(88496),x=n(32572);const L=(0,I.memo)((({indeterminate:e,label:t,value:n,id:a,onChange:o,required:c,disabled:s,options:i={}})=>{const[l,d]=(0,I.useState)(!1),[u,m]=(0,I.useState)(!1);let p=n;Array.isArray(p)||(p=""===p?[]:[p]),(0,I.useEffect)((()=>{let e=1===Object.keys(i).length&&"true"===Object.keys(i)[0];d(e)}),[]),e&&(n=!0);const f=p;let b=!1;Object.keys(i).length>10&&(b=!0);const h=e=>l?n:f.includes(""+e)||f.includes(parseInt(e)),g=()=>{m(!u)};let k=s&&!Array.isArray(s);return 0===Object.keys(i).length?(0,r.createElement)(r.Fragment,null,(0,N.__)("No options found","complianz-gdpr")):(0,r.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(i).map((([i,d],m)=>(0,r.createElement)("div",{key:i,className:"cmplz-checkbox-group__item"+(!u&&m>9?" cmplz-hidden":"")},(0,r.createElement)(y,{className:"cmplz-checkbox-group__checkbox",id:a+"_"+i,checked:h(i),"aria-label":t,disabled:k||Array.isArray(s)&&s.includes(i),required:c,onCheckedChange:e=>((e,t)=>{if(l)o(!n);else{const e=f.includes(""+t)||f.includes(parseInt(t))?f.filter((e=>e!==""+t&&e!==parseInt(t))):[...f,t];o(e)}})(0,i)},(0,r.createElement)(C,{className:"cmplz-checkbox-group__indicator"},(0,r.createElement)(w.default,{name:e?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,r.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:a+"_"+i},d)))),!u&&b&&(0,r.createElement)(x.default,{onClick:()=>g()},(0,N.__)("Show more","complianz-gdpr")),u&&b&&(0,r.createElement)(x.default,{onClick:()=>g()},(0,N.__)("Show less","complianz-gdpr")))}))},76860:(e,t,n)=>{n.d(t,{s:()=>s});var r=n(51280),a=n(81034),o=n(40304),c=n(84904);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,r.useState)(),o=(0,r.useRef)({}),s=(0,r.useRef)(e),l=(0,r.useRef)("none"),d=e?"mounted":"unmounted",[u,m]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=i(o.current);l.current="mounted"===u?e:"none"}),[u]),(0,c.w)((()=>{const t=o.current,n=s.current;if(n!==e){const r=l.current,a=i(t);e?m("MOUNT"):"none"===a||"none"===(null==t?void 0:t.display)?m("UNMOUNT"):m(n&&r!==a?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,m]),(0,c.w)((()=>{if(t){const e=e=>{const n=i(o.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>m("ANIMATION_END")))},n=e=>{e.target===t&&(l.current=i(o.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}m("ANIMATION_END")}),[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,r.useCallback)((e=>{e&&(o.current=getComputedStyle(e)),n(e)}),[])}}(t),l="function"==typeof n?n({present:s.isPresent}):r.Children.only(n),d=(0,o.q)(s.ref,l.ref);return"function"==typeof n||s.isPresent?(0,r.cloneElement)(l,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},37408:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(51280);function a(e){const t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}}}]);