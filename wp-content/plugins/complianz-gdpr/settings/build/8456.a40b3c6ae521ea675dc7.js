"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[8456,5080,9296],{8456:(e,t,c)=>{c.r(t),c.d(t,{default:()=>p});var i=c(51280),s=c(25536),n=c(35080),r=c(15832),l=c(88496),a=c(93396),o=c(59296);const p=e=>{const{fields:t,getFieldValue:c}=(0,s.default)(),[p,d]=(0,l.useState)(!1),{integrationsLoaded:u,plugins:h,fetchIntegrationsData:g}=(0,n.default)(),{licenseStatus:f}=(0,o.default)();(0,l.useEffect)((()=>{let t=e.item;if(t.field){let e=c(t.field.name)==t.field.value;d(e)}}),[t]),(0,l.useEffect)((()=>{u||g()}),[]);let m=e.item;if(m.plugin)return h.filter((e=>e.id===m.plugin)).length>0?(0,i.createElement)("div",{className:"cmplz-tool"},(0,i.createElement)("div",{className:"cmplz-tool-title"},m.title),(0,i.createElement)("div",{className:"cmplz-tool-link"},(0,i.createElement)("a",{href:m.link,target:"_blank",rel:"noopener noreferrer"},(0,i.createElement)(r.default,{name:"circle-chevron-right",color:"black",size:14})))):null;let _=cmplz_settings.is_premium&&"valid"===f,b=((0,a.__)("Read more","complianz-gdpr"),m.link);_&&(!p&&m.enableLink&&(b=m.enableLink),m.field&&!p||!m.viewLink||(b=m.viewLink));let k=-1!==b.indexOf("https://"),v=k?"_blank":"_self",S=k?"external-link":"circle-chevron-right";return(0,i.createElement)("div",{className:"cmplz-tool"},(0,i.createElement)("div",{className:"cmplz-tool-title"},m.title,m.plusone&&m.plusone),(0,i.createElement)("div",{className:"cmplz-tool-link"},(0,i.createElement)("a",{href:b,target:v,rel:k?"noopener noreferrer":""},(0,i.createElement)(r.default,{name:S,color:"black",size:14}))))}},35080:(e,t,c)=>{c.r(t),c.d(t,{default:()=>r});var i=c(30809),s=c(524),n=c(61744);const r=(0,i.Su)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,c)=>{e((0,s.cp)((e=>{if("block_script"===c){let c=e.blockedScripts;if(t.urls){for(const[e,i]of Object.entries(t.urls)){if(!i||0===i.length)continue;let e=!1;for(const[t,s]of Object.entries(c))i===t&&(e=!0);e||(c[i]=i)}e.blockedScripts=c}}const i=e.scripts[c].findIndex((e=>e.id===t.id));-1!==i&&(e.scripts[c][i]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:c,plugins:i,scripts:s,placeholders:n,blocked_scripts:r}=await l();let a=s;a.block_script&&a.block_script.length>0&&a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script&&a.add_script.length>0&&a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script&&a.whitelist_script.length>0&&a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:c,plugins:i,scripts:a,fetching:!1,placeholders:n,blockedScripts:r})))},addScript:c=>{e({fetching:!0}),t().scripts[c]&&Array.isArray(t().scripts[c])||e((0,s.cp)((e=>{e.scripts[c]=[]}))),e((0,s.cp)((e=>{e.scripts[c].push({name:"general",id:e.scripts[c].length,enable:!0})})));let i=t().scripts;return n.doAction("update_scripts",{scripts:i}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(c,i)=>{e({fetching:!0}),t().scripts[i]&&Array.isArray(t().scripts[i])||e((0,s.cp)((e=>{e.scripts[i]=[]}))),e((0,s.cp)((e=>{const t=e.scripts[i].findIndex((e=>e.id===c.id));-1!==t&&(e.scripts[i][t]=c)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(c,i)=>{e({fetching:!0}),t().scripts[i]&&Array.isArray(t().scripts[i])||e((0,s.cp)((e=>{e.scripts[i]=[]}))),e((0,s.cp)((e=>{const t=e.scripts[i].findIndex((e=>e.id===c.id));-1!==t&&e.scripts[i].splice(t,1)})));let r=t().scripts;return n.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,c)=>{e({fetching:!0}),e((0,s.cp)((e=>{const i=e.plugins.findIndex((e=>e.id===t));-1!==i&&(e.plugins[i].enabled=c)})));const i=await n.doAction("update_plugin_status",{plugin:t,enabled:c}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),i},updatePlaceholderStatus:async(t,c,i)=>{e({fetching:!0}),i&&e((0,s.cp)((e=>{const i=e.plugins.findIndex((e=>e.id===t));-1!==i&&(e.plugins[i].placeholder=c?"enabled":"disabled")})));const r=await n.doAction("update_placeholder_status",{id:t,enabled:c}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r}}))),l=()=>n.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},59296:(e,t,c)=>{c.r(t),c.d(t,{default:()=>n});var i=c(30809),s=c(61744);const n=(0,i.Su)(((e,t)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:t,notices:c}=await s.doAction("license_notices",{}).then((e=>e));e((e=>({noticesLoaded:!0,licenseNotices:c,licenseStatus:t})))},activateLicense:async t=>{let c={};c.license=t,e({processing:!0});const{licenseStatus:i,notices:n}=await s.doAction("activate_license",c);e((e=>({processing:!1,licenseNotices:n,licenseStatus:i})))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:t,notices:c}=await s.doAction("deactivate_license");e((e=>({processing:!1,licenseNotices:c,licenseStatus:t})))}})))}}]);