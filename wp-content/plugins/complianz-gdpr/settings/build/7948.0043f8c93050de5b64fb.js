"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[7948,3404,2572,4056,2752,5080,36],{13404:(e,t,n)=>{n.r(t),n.d(t,{UseCookieScanData:()=>c});var a=n(30809),r=n(61744);const c=(0,a.Su)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),r.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))},32572:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(51280),r=n(88496),c=n(61744),l=n(25536),s=n(38924),o=n(87287),i=n(13404),d=n(64224);const u=(0,r.memo)((({type:e="action",style:t="tertiary",label:n,onClick:u,href:p="",target:m="",disabled:h,action:f,field:g,children:b})=>{if(!n&&!b)return null;const _=(g&&g.button_text?g.button_text:n)||b,{fetchFieldsData:E,showSavedSettingsNotice:k}=(0,l.default)(),{setInitialLoadCompleted:v,setProgress:y}=(0,i.UseCookieScanData)(),{setProgressLoaded:C}=(0,d.default)(),{selectedSubMenuItem:w}=(0,s.default)(),[N,z]=(0,r.useState)(!1),S=`button cmplz-button button--${t} button-${e}`,x=async e=>{await c.doAction(g.action,{}).then((e=>{e.success&&(E(w),"reset_settings"===e.id&&(v(!1),y(0),C(!1)),k(e.message))}))},A=g&&g.warn?g.warn:"";return"action"===e?(0,a.createElement)(a.Fragment,null,o.__experimentalConfirmDialog&&(0,a.createElement)(o.__experimentalConfirmDialog,{isOpen:N,onConfirm:async()=>{z(!1),await x()},onCancel:()=>{z(!1)}},A),(0,a.createElement)("button",{className:S,onClick:async t=>{if("action"!==e||!u)return"action"===e&&f?o.__experimentalConfirmDialog?void(g&&g.warn?z(!0):await x()):void await x():void(window.location.href=g.url);u(t)},disabled:h},_)):"link"===e?(0,a.createElement)("a",{className:S,href:p,target:m},_):void 0}))},38912:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(51280),r=n(45072),c=n(40304),l=n(59016),s=n(3608),o=n(84664),i=n(37408),d=n(15920),u=n(76860),p=n(61480);const m="Checkbox",[h,f]=(0,l._)(m),[g,b]=h(m),_=(0,a.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,name:l,checked:i,defaultChecked:d,required:u,disabled:m,value:h="on",onCheckedChange:f,...b}=e,[_,y]=(0,a.useState)(null),C=(0,c.q)(t,(e=>y(e))),w=(0,a.useRef)(!1),N=!_||Boolean(_.closest("form")),[z=!1,S]=(0,o.W)({prop:i,defaultProp:d,onChange:f}),x=(0,a.useRef)(z);return(0,a.useEffect)((()=>{const e=null==_?void 0:_.form;if(e){const t=()=>S(x.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[_,S]),(0,a.createElement)(g,{scope:n,state:z,disabled:m},(0,a.createElement)(p.K0.button,(0,r.c)({type:"button",role:"checkbox","aria-checked":k(z)?"mixed":z,"aria-required":u,"data-state":v(z),"data-disabled":m?"":void 0,disabled:m,value:h},b,{ref:C,onKeyDown:(0,s.K)(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:(0,s.K)(e.onClick,(e=>{S((e=>!!k(e)||!e)),N&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())}))})),N&&(0,a.createElement)(E,{control:_,bubbles:!w.current,name:l,value:h,checked:z,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:n,bubbles:c=!0,...l}=e,s=(0,a.useRef)(null),o=(0,i.i)(n),u=(0,d.k)(t);return(0,a.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&a){const t=new Event("click",{bubbles:c});e.indeterminate=k(n),a.call(e,!k(n)&&n),e.dispatchEvent(t)}}),[o,n,c]),(0,a.createElement)("input",(0,r.c)({type:"checkbox","aria-hidden":!0,defaultChecked:!k(n)&&n},l,{tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return"indeterminate"===e}function v(e){return k(e)?"indeterminate":e?"checked":"unchecked"}const y=_,C=(0,a.forwardRef)(((e,t)=>{const{__scopeCheckbox:n,forceMount:c,...l}=e,s=b("CheckboxIndicator",n);return(0,a.createElement)(u.s,{present:c||k(s.state)||!0===s.state},(0,a.createElement)(p.K0.span,(0,r.c)({"data-state":v(s.state),"data-disabled":s.disabled?"":void 0},l,{ref:t,style:{pointerEvents:"none",...e.style}})))}));var w=n(93396),N=n(15832),z=n(88496),S=n(32572);const x=(0,z.memo)((({indeterminate:e,label:t,value:n,id:r,onChange:c,required:l,disabled:s,options:o={}})=>{const[i,d]=(0,z.useState)(!1),[u,p]=(0,z.useState)(!1);let m=n;Array.isArray(m)||(m=""===m?[]:[m]),(0,z.useEffect)((()=>{let e=1===Object.keys(o).length&&"true"===Object.keys(o)[0];d(e)}),[]),e&&(n=!0);const h=m;let f=!1;Object.keys(o).length>10&&(f=!0);const g=e=>i?n:h.includes(""+e)||h.includes(parseInt(e)),b=()=>{p(!u)};let _=s&&!Array.isArray(s);return 0===Object.keys(o).length?(0,a.createElement)(a.Fragment,null,(0,w.__)("No options found","complianz-gdpr")):(0,a.createElement)("div",{className:"cmplz-checkbox-group"},Object.entries(o).map((([o,d],p)=>(0,a.createElement)("div",{key:o,className:"cmplz-checkbox-group__item"+(!u&&p>9?" cmplz-hidden":"")},(0,a.createElement)(y,{className:"cmplz-checkbox-group__checkbox",id:r+"_"+o,checked:g(o),"aria-label":t,disabled:_||Array.isArray(s)&&s.includes(o),required:l,onCheckedChange:e=>((e,t)=>{if(i)c(!n);else{const e=h.includes(""+t)||h.includes(parseInt(t))?h.filter((e=>e!==""+t&&e!==parseInt(t))):[...h,t];c(e)}})(0,o)},(0,a.createElement)(C,{className:"cmplz-checkbox-group__indicator"},(0,a.createElement)(N.default,{name:e?"indeterminate":"check",size:14,color:"dark-blue"}))),(0,a.createElement)("label",{className:"cmplz-checkbox-group__label",htmlFor:r+"_"+o},d)))),!u&&f&&(0,a.createElement)(S.default,{onClick:()=>b()},(0,w.__)("Show more","complianz-gdpr")),u&&f&&(0,a.createElement)(S.default,{onClick:()=>b()},(0,w.__)("Show less","complianz-gdpr")))}))},14056:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(51280),r=n(88496),c=n(39992),l=n(15832),s=n(93396);const o=(0,r.memo)((({value:e=!1,onChange:t,required:n,defaultValue:r,disabled:o,options:i={},canBeEmpty:d=!0,label:u})=>{if(Array.isArray(i)){let e={};i.map((t=>{e[t.value]=t.label})),i=e}return d?(""===e||!1===e||0===e)&&(e="0",i={0:(0,s.__)("Select an option","complianz-gdpr"),...i}):e||(e=Object.keys(i)[0]),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-select-group",key:u},(0,a.createElement)(c.Ss,{value:e,defaultValue:r,onValueChange:t,required:n,disabled:o&&!Array.isArray(o)},(0,a.createElement)(c.mf,{className:"cmplz-select-group__trigger"},(0,a.createElement)(c.s3,null),(0,a.createElement)(l.default,{name:"chevron-down"})),(0,a.createElement)(c.kP,{className:"cmplz-select-group__content",position:"popper"},(0,a.createElement)(c.O4,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(l.default,{name:"chevron-up"})),(0,a.createElement)(c.mm,{className:"cmplz-select-group__viewport"},(0,a.createElement)(c.WM,null,Object.entries(i).map((([e,t])=>(0,a.createElement)(c.iY,{disabled:Array.isArray(o)&&o.includes(e),className:"cmplz-select-group__item",key:e,value:e},(0,a.createElement)(c.CC,null,t)))))),(0,a.createElement)(c.y8,{className:"cmplz-select-group__scroll-button"},(0,a.createElement)(l.default,{name:"chevron-down"})))))}))},35074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(51280),r=n(88496),c=n(45072),l=n(3608),s=n(40304),o=n(59016),i=n(84664),d=n(37408),u=n(15920),p=n(61480);const m="Switch",[h,f]=(0,o._)(m),[g,b]=h(m),_=(0,a.forwardRef)(((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:d,required:u,disabled:m,value:h="on",onCheckedChange:f,...b}=e,[_,v]=(0,a.useState)(null),y=(0,s.q)(t,(e=>v(e))),C=(0,a.useRef)(!1),w=!_||Boolean(_.closest("form")),[N=!1,z]=(0,i.W)({prop:o,defaultProp:d,onChange:f});return(0,a.createElement)(g,{scope:n,checked:N,disabled:m},(0,a.createElement)(p.K0.button,(0,c.c)({type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":k(N),"data-disabled":m?"":void 0,disabled:m,value:h},b,{ref:y,onClick:(0,l.K)(e.onClick,(e=>{z((e=>!e)),w&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())}))})),w&&(0,a.createElement)(E,{control:_,bubbles:!C.current,name:r,value:h,checked:N,required:u,disabled:m,style:{transform:"translateX(-100%)"}}))})),E=e=>{const{control:t,checked:n,bubbles:r=!0,...l}=e,s=(0,a.useRef)(null),o=(0,d.i)(n),i=(0,u.k)(t);return(0,a.useEffect)((()=>{const e=s.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==n&&a){const t=new Event("click",{bubbles:r});a.call(e,n),e.dispatchEvent(t)}}),[o,n,r]),(0,a.createElement)("input",(0,c.c)({type:"checkbox","aria-hidden":!0,defaultChecked:n},l,{tabIndex:-1,ref:s,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function k(e){return e?"checked":"unchecked"}const v=_,y=(0,a.forwardRef)(((e,t)=>{const{__scopeSwitch:n,...r}=e,l=b("SwitchThumb",n);return(0,a.createElement)(p.K0.span,(0,c.c)({"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0},r,{ref:t}))}));var C=n(25536);const w=(0,r.memo)((({value:e,onChange:t,required:n,disabled:r,className:c,label:l,id:s})=>{const{getField:o}=(0,C.default)();let i=e;return"0"!==e&&"1"!==e||(i="1"===e),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-switch-group"},(0,a.createElement)(v,{className:"cmplz-switch-root "+c,checked:i,onCheckedChange:e=>{"banner"===o(s).data_target&&(e=e?"1":"0"),t(e)},disabled:r,required:n},(0,a.createElement)(y,{className:"cmplz-switch-thumb"})))}))},2752:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var a=n(51280);const r=(0,a.memo)((({value:e,onChange:t,required:n,disabled:r,id:c,name:l,placeholder:s})=>{const o=c||l,[i,d]=(0,a.useState)("");return(0,a.useEffect)((()=>{d(e||"")}),[e]),(0,a.useEffect)((()=>{if(e===i)return;const n=setTimeout((()=>{t(i)}),400);return()=>{clearTimeout(n)}}),[i]),(0,a.createElement)("div",{className:"cmplz-input-group cmplz-text-input-group"},(0,a.createElement)("input",{type:"text",id:o,name:l,value:i,onChange:e=>(e=>{d(e)})(e.target.value),required:n,disabled:r,className:"cmplz-text-input-group__input",placeholder:s}))}))},35080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(30809),r=n(524),c=n(61744);const l=(0,a.Su)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,r.cp)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,a]of Object.entries(t.urls)){if(!a||0===a.length)continue;let e=!1;for(const[t,r]of Object.entries(n))a===t&&(e=!0);e||(n[a]=a)}e.blockedScripts=n}}const a=e.scripts[n].findIndex((e=>e.id===t.id));-1!==a&&(e.scripts[n][a]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:a,scripts:r,placeholders:c,blocked_scripts:l}=await s();let o=r;o.block_script&&o.block_script.length>0&&o.block_script.forEach(((e,t)=>{e.id=t})),o.add_script&&o.add_script.length>0&&o.add_script.forEach(((e,t)=>{e.id=t})),o.whitelist_script&&o.whitelist_script.length>0&&o.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:a,scripts:o,fetching:!1,placeholders:c,blockedScripts:l})))},addScript:n=>{e({fetching:!0}),t().scripts[n]&&Array.isArray(t().scripts[n])||e((0,r.cp)((e=>{e.scripts[n]=[]}))),e((0,r.cp)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let a=t().scripts;return c.doAction("update_scripts",{scripts:a}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,a)=>{e({fetching:!0}),t().scripts[a]&&Array.isArray(t().scripts[a])||e((0,r.cp)((e=>{e.scripts[a]=[]}))),e((0,r.cp)((e=>{const t=e.scripts[a].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[a][t]=n)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,a)=>{e({fetching:!0}),t().scripts[a]&&Array.isArray(t().scripts[a])||e((0,r.cp)((e=>{e.scripts[a]=[]}))),e((0,r.cp)((e=>{const t=e.scripts[a].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[a].splice(t,1)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,r.cp)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].enabled=n)})));const a=await c.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),a},updatePlaceholderStatus:async(t,n,a)=>{e({fetching:!0}),a&&e((0,r.cp)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].placeholder=n?"enabled":"disabled")})));const l=await c.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),l}}))),s=()=>c.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},17948:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(51280),r=(n(35074),n(60036)),c=n(2752),l=n(14056),s=n(93396),o=n(35080),i=n(38912);const d=e=>{const{setScript:t,fetching:n,placeholders:d}=(0,o.default)(),u=e.script,p=e.type,m=(n,a)=>{let r={...u};r[a]=n,t(r,e.type)};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)("label",null,(0,s.__)("Placeholder","complianz-gdpr")),(0,a.createElement)(i.default,{id:u.id+"placeholder",disabled:n,value:u.enable_placeholder,onChange:e=>m(e,"enable_placeholder"),options:{true:(0,s.__)("Enable placeholder","complianz-gdpr")}})),!!u.enable_placeholder&&(0,a.createElement)(a.Fragment,null,"block_script"===p&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(i.default,{id:u.id+"iframe",disabled:n,value:u.iframe||"",onChange:e=>m(e||"","iframe"),options:{true:(0,s.__)("The blocked content is an iframe","complianz-gdpr")}})),!u.iframe&&(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row"},(0,a.createElement)("p",null,(0,s.__)("Enter the div class or ID that should be targeted.","complianz-gdpr"),(0,r.default)("https://complianz.io/integrating-plugins/#placeholder/")),(0,a.createElement)(c.default,{disabled:n,value:u.placeholder_class||"",onChange:e=>m(e||"","placeholder_class"),name:"placeholder_class",placeholder:(0,s.__)("Your CSS class","complianz-gdpr")})),(0,a.createElement)("div",{className:"cmplz-details-row cmplz-details-row__checkbox"},(0,a.createElement)(l.default,{disabled:n,value:u.placeholder?u.placeholder:"default",options:d,onChange:e=>m(e||"default","placeholder")}))))}},60036:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(51280),r=n(93396),c=n(58736);const l=e=>(0,a.createElement)(a.Fragment,null," ",(0,a.createElement)(c.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,r.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," ")},76860:(e,t,n)=>{n.d(t,{s:()=>s});var a=n(51280),r=n(81034),c=n(40304),l=n(84904);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,a.useState)(),c=(0,a.useRef)({}),s=(0,a.useRef)(e),i=(0,a.useRef)("none"),d=e?"mounted":"unmounted",[u,p]=function(e,t){return(0,a.useReducer)(((e,n)=>{const a=t[e][n];return null!=a?a:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,a.useEffect)((()=>{const e=o(c.current);i.current="mounted"===u?e:"none"}),[u]),(0,l.w)((()=>{const t=c.current,n=s.current;if(n!==e){const a=i.current,r=o(t);e?p("MOUNT"):"none"===r||"none"===(null==t?void 0:t.display)?p("UNMOUNT"):p(n&&a!==r?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,p]),(0,l.w)((()=>{if(t){const e=e=>{const n=o(c.current).includes(e.animationName);e.target===t&&n&&(0,r.flushSync)((()=>p("ANIMATION_END")))},n=e=>{e.target===t&&(i.current=o(c.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,a.useCallback)((e=>{e&&(c.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:s.isPresent}):a.Children.only(n),d=(0,c.q)(s.ref,i.ref);return"function"==typeof n||s.isPresent?(0,a.cloneElement)(i,{ref:d}):null};function o(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"}}]);