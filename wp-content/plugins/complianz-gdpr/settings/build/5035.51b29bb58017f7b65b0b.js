"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[5035,5683,9166,9684],{9684:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var i=t(27723),a=t(45111),c=t(47143),n=t(9588),l=t(99166),d=t(4219),o=t(32828),r=t(52043),u=t(99418),p=t(10790);const m=({notice:e,index:s})=>{const{dismissNotice:t,fetchProgressData:m}=(0,o.default)(),{getField:h,setHighLightField:_,fetchFieldsData:g}=(0,d.default)(),{setSelectedSubMenuItem:f}=(0,r.default)();let v="premium"===e.icon,b=e.url&&-1!==e.url.indexOf("complianz.io"),z=e.status.charAt(0).toUpperCase()+e.status.slice(1);return(0,p.jsxs)("div",{className:"cmplz-task-element",children:[(0,p.jsx)("span",{className:"cmplz-task-status cmplz-"+e.status,children:z}),(0,p.jsx)("p",{className:"cmplz-task-message",dangerouslySetInnerHTML:{__html:u.A.sanitize(e.message)}}),b&&e.url&&(0,p.jsx)("a",{target:"_blank",href:e.url,rel:"noopener noreferrer",children:(0,i.__)("More info","complianz-gdpr")}),e.clear_cache_id&&(0,p.jsx)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async e=>{let s={};s.cache_id=e,n.doAction("clear_cache",s).then(async e=>{(0,c.dispatch)("core/notices").createNotice("success",(0,i.__)("Re-started test","complianz-gdpr"),{__unstableHTML:!0,id:"cmplz_clear_cache",type:"snackbar",isDismissible:!0}).then((0,l.default)(3e3)).then(e=>{(0,c.dispatch)("core/notices").removeNotice("rsssl_clear_cache")}),await g(),await m()})})(e.clear_cache_id),children:(0,i.__)("Re-check","complianz-gdpr")}),!v&&!b&&e.url&&(0,p.jsx)("a",{className:"cmplz-task-enable button button-secondary",href:e.url,children:(0,i.__)("View","complianz-gdpr")}),!v&&e.highlight_field_id&&(0,p.jsx)("span",{className:"cmplz-task-enable button button-secondary",onClick:()=>(async()=>{_(e.highlight_field_id);let s=h(e.highlight_field_id);await f(s.menu_id)})(),children:(0,i.__)("View","complianz-gdpr")}),e.plus_one&&(0,p.jsx)("span",{className:"cmplz-plusone",children:"1"}),e.dismissible&&"completed"!==e.status&&(0,p.jsx)("div",{className:"cmplz-task-dismiss",children:(0,p.jsx)("button",{type:"button",onClick:s=>t(e.id),children:(0,p.jsx)(a.default,{name:"times"})})})]},s)}},35035:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var i=t(9684),a=t(99695),c=t(27723),n=t(4219),l=t(35683),d=t(86087),o=t(32828),r=t(10790);const u=(0,d.memo)(e=>{const{fields:s,setChangedField:t,updateField:u}=(0,n.default)(),{setProgressLoaded:p}=(0,o.default)(),{licenseStatus:m,licenseNotices:h,getLicenseNotices:_,noticesLoaded:g,activateLicense:f,deactivateLicense:v,processing:b}=(0,l.default)();(0,d.useEffect)(()=>{g||_()},[]);let z=e.field,N=b?"cmplz-processing":"";return(0,r.jsxs)("div",{className:"components-base-control",children:[(0,r.jsxs)("div",{className:"cmplz-license-field",children:[(0,r.jsx)("input",{className:"components-text-control__input",type:"password",id:z.id,value:z.value,onChange:e=>{return s=e.target.value,t(z.id,s),void u(z.id,s);var s}}),(0,r.jsxs)("button",{className:"button button-default",disabled:b,onClick:()=>(async()=>{"valid"===m?await v():await f(e.field.value),p(!1)})(),children:["valid"===m&&(0,c.__)("Deactivate","complianz-gdpr"),"valid"!==m&&(0,c.__)("Activate","complianz-gdpr")]})]}),!g&&(0,r.jsx)(a.default,{}),g&&(0,r.jsx)("div",{className:N,children:h.map((e,s)=>(0,r.jsx)(i.default,{index:s,notice:e,highLightField:""},s))})]})})},35683:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var i=t(81621),a=t(9588);const c=(0,i.vt)((e,s)=>({licenseStatus:cmplz_settings.licenseStatus,processing:!1,licenseNotices:[],noticesLoaded:!1,getLicenseNotices:async()=>{const{licenseStatus:s,notices:t}=await a.doAction("license_notices",{}).then(e=>e);e(e=>({noticesLoaded:!0,licenseNotices:t,licenseStatus:s}))},activateLicense:async s=>{let t={};t.license=s,e({processing:!0});const{licenseStatus:i,notices:c}=await a.doAction("activate_license",t);e(e=>({processing:!1,licenseNotices:c,licenseStatus:i}))},deactivateLicense:async()=>{e({processing:!0});const{licenseStatus:s,notices:t}=await a.doAction("deactivate_license");e(e=>({processing:!1,licenseNotices:t,licenseStatus:s}))}}))},99166:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});const i=e=>function(s){return new Promise(t=>setTimeout(()=>t(s),e))}}}]);