function collapse(e){var t,n=e.target,e=n.parentNode.getElementsByClassName("collapsible");e.length&&("none"===(e=e[0]).style.display?(t=e.parentNode.getElementsByClassName("ellipsis")[0],e.parentNode.removeChild(t),e.style.display=""):(e.style.display="none",(t=document.createElement("span")).className="ellipsis",t.innerHTML=" &hellip; ",e.parentNode.insertBefore(t,e)),n.innerHTML="-"===n.innerHTML?"+":"-")}function addCollapser(e){var t;"LI"===e.nodeName&&((t=document.createElement("div")).className="collapser",t.innerHTML="-",t.addEventListener("click",collapse,!1),e.insertBefore(t,e.firstChild))}function jsonView(e,t){if(this.debug=!1,-1!==e.indexOf("#"))this.idType="id",this.id=e.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find that element"));this.idType="class",this.id=e.replace(".","")}if(this.data=document.getElementById(this.id).innerHTML,1,-1!==t.indexOf("#"))this.targetType="id",this.target=t.replace("#","");else{if(-1===e.indexOf("."))return void(this.debug&&console.log("Can't find the target element"));this.targetType="class",this.target=t.replace(".","")}/^\<pre.*\>(.*)\<\/pre\>$/.test(this.data)&&(this.debug&&console.log("JSONView: data is wrapped in <pre>...</pre>, stripping HTML..."),this.data=this.data.replace(/<(?:.|\s)*?>/g,""));var n=/^[\s\u200B\uFEFF]*([\w$\[\]\.]+)[\s\u200B\uFEFF]*\([\s\u200B\uFEFF]*([\[{][\s\S]*[\]}])[\s\u200B\uFEFF]*\);?[\s\u200B\uFEFF]*$/,a=/^\s*([\[\{].*[\}\]])\s*$/.test(this.data),e=n.test(this.data);if(this.debug&&console.log("JSONView: is_json="+a+" is_jsonp="+e),a||e){function o(){}this.debug&&console.log("JSONView: sexytime!"),o.prototype={htmlEncode:function(e){return null!=e?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e){var t=typeof e,n="";return null===e?n+=this.decorateWithSpan("null","null"):e&&e.constructor===Array?n+=this.arrayToHTML(e):"object"==t?n+=this.objectToHTML(e):"number"==t?n+=this.decorateWithSpan(e,"num"):"string"==t?/^(http|https):\/\/[^\s]+$/.test(e)?n+='<a href="'+e+'">'+this.htmlEncode(e)+"</a>":n+=this.decorateWithSpan('"'+e+'"',"string"):"boolean"==t&&(n+=this.decorateWithSpan(e,"bool")),n},arrayToHTML:function(e){var t,n='[<ul class="array collapsible">',a=!1;for(t in e)a=!0,n+="<li>",n+=this.valueToHTML(e[t]),n+="</li>";return n+="</ul>]",n=!a?"[ ]":n},objectToHTML:function(e){var t,n='{<ul class="obj collapsible">',a=!1;for(t in e)a=!0,n+="<li>",n+='<span class="prop">'+this.htmlEncode(t)+"</span>: ",n+=this.valueToHTML(e[t]),n+="</li>";return n+="</ul>}",n=!a?"{ }":n},jsonToHTML:function(e,t,n){var a="";return t&&(a+='<div class="callback">'+t+" (</div>"),a+='<div id="json">',a+=this.valueToHTML(e),a+="</div>",t&&(a+='<div class="callback">)</div>'),this.toHTML(a,n)},errorPage:function(e,t,n){var a='<div id="error">Error parsing JSON: '+e.message+"</div>";return a+="<h1>"+e.stack+":</h1>",a+='<div id="json">'+this.htmlEncode(t)+"</div>",this.toHTML(a,n+" - Error")},toHTML:function(e){return e}},this.jsonFormatter=new o;t="",a="",e="",n=n.exec(this.data),a=n&&3===n.length?(this.debug&&console.log("THIS IS JSONp"),e=n[1],n[2]):(this.debug&&console.log("Vanilla JSON"),this.data);this.debug&&console.log(a);try{var r=JSON.parse(a);if(!r)throw"There was no object!";t=this.jsonFormatter.jsonToHTML(r,e)}catch(e){this.debug&&console.log(e),t=this.jsonFormatter.errorPage(e,this.data)}var i,e="<style type=\"text/css\">.jsonViewOutput .prop{font-weight:700;}.jsonViewOutput .null{color:red;}.jsonViewOutput .string{color:green;}.jsonViewOutput .collapser{position:absolute;left:-1em;cursor:pointer;}.jsonViewOutput li{position:relative;}.jsonViewOutput li:after{content:',';}.jsonViewOutput li:last-child:after{content:'';}.jsonViewOutput #error{-moz-border-radius:8px;border:1px solid #970000;background-color:#F7E8E8;margin:.5em;padding:.5em;}.jsonViewOutput .errormessage{font-family:monospace;}.jsonViewOutput #json{font-family:monospace;font-size:1.1em;}.jsonViewOutput ul{list-style:none;margin:0 0 0 2em;padding:0;}.jsonViewOutput h1{font-size:1.2em;}.jsonViewOutput .callback + #json{padding-left:1em;}.jsonViewOutput .callback{font-family:monospace;color:#A52A2A;}.jsonViewOutput .bool,.jsonViewOutput .num{color:blue;}</style>";void 0!==this.targetType&&(this.idType=this.targetType,this.id=this.target),"class"===this.idType?(i=document.getElementsByClassName(this.id))&&(i.className+=i.className?" jsonViewOutput":"jsonViewOutput",i.innerHTML=e+t):"id"===this.idType&&((i=document.getElementById(this.id))&&(i.className+=i.className?" jsonViewOutput":"jsonViewOutput",i.innerHTML=e+t),i.innerHTML=e+t);for(var l=document.getElementsByClassName("collapsible"),s=l.length,u=0;u<s;u++)addCollapser(l[u].parentNode)}}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){var n=/\+/g;function d(e){return f.raw?e:encodeURIComponent(e)}function h(e,t){e=f.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),f.json?JSON.parse(e):e}catch(e){}}(e);return"function"==typeof t?t(e):e}var f=p.cookie=function(e,t,n){var a,o;if(1<arguments.length&&"function"!=typeof t)return"number"==typeof(n=p.extend({},f.defaults,n)).expires&&(o=n.expires,(a=n.expires=new Date).setMilliseconds(a.getMilliseconds()+864e5*o)),document.cookie=[d(e),"=",(o=t,d(f.json?JSON.stringify(o):String(o))),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");for(var r=e?void 0:{},i=document.cookie?document.cookie.split("; "):[],l=0,s=i.length;l<s;l++){var u=i[l].split("="),c=(c=u.shift(),f.raw?c:decodeURIComponent(c)),u=u.join("=");if(e===c){r=h(u,t);break}e||void 0===(u=h(u))||(r[c]=u)}return r};f.defaults={},p.removeCookie=function(e,t){return p.cookie(e,"",p.extend({},t,{expires:-1})),!p.cookie(e)}}),function(o){o.fn.alphanum=function(e){return c(this,w,f(e)),this},o.fn.alpha=function(e){var t=f("alpha");return c(this,w,f(e,t)),this},o.fn.numeric=function(a){return c(this,y,m(a)),this.on("blur",function(){var e,t,n;e=this,t=a,n=parseFloat(o(e).val()),e=o(e),isNaN(n)?e.val(""):(p(t.min)&&n<t.min&&e.val(""),p(t.max)&&n>t.max&&e.val(""))}),this};var e,t,a={allow:"",disallow:"",allowSpace:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,maxLength:NaN},n={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},r={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},i={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},l=(t="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_",(t+=" ")+"¬€£¦"),s=",",u=".",d=function(){var e,t="0123456789".split(""),n={},a=0;for(a=0;a<t.length;a++)e=t[a],n[e]=!0;return n}(),h=(t=(e="abcdefghijklmnopqrstuvwxyz").toUpperCase(),new T(e+t));function c(e,i,l){e.each(function(){var r=o(this);r.on("keyup change paste",function(e){var t="";e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),setTimeout(function(){!function(e,t,n,a){var o=e.val();""==o&&0<a.length&&(o=a);t=t(o,n);o!=t&&(n=e.alphanum_caret(),e.val(t),o.length==t.length+1?e.alphanum_caret(n-1):e.alphanum_caret(n))}(r,i,l,t)},0)}),r.on("keypress",function(e){var t,n,a,o=e.charCode||e.which;!(32<=(n=o)||10==n||13==n)||e.ctrlKey||e.metaKey||(t=String.fromCharCode(o),n=(a=r.selection()).start,o=a.end,o=(a=r.val()).substring(0,n)+t+a.substring(o),i(o,l)!=o&&e.preventDefault())})})}function p(e){return!isNaN(e)}function f(e,t){var n={},e="string"==typeof e?r[e]:void 0===e?{}:e;return o.extend(n,t=void 0===t?a:t,e),void 0===n.blacklist&&(n.blacklistSet=function(e,t){t=new T(l+t),e=new T(e);return t.subtract(e)}(n.allow,n.disallow)),n}function m(e){var t={},e="string"==typeof e?i[e]:void 0===e?{}:e;return o.extend(t,n,e),t}function g(e,t,n){if(d[t])return!function(e,t){t=t.maxDigits;if(""==t||isNaN(t))return!1;e=v(e);return t<=e}(e,n)&&(!function(e,t){t=t.maxPreDecimalPlaces;if(""==t||isNaN(t))return!1;if(0<=e.indexOf(u))return!1;e=v(e);return t<=e}(e,n)&&(!function(e,t){var n=t.maxDecimalPlaces;if(""==n||isNaN(n))return!1;t=e.indexOf(u);if(-1==t)return!1;t=v(e.substring(t));return n<=t}(e,n)&&(a=e+t,(!(o=n).max||o.max<0||!(parseFloat(a)>o.max))&&(a=e+t,!(o=n).min||0<o.min||!(parseFloat(a)<o.min)))));var a,o;if(n.allowPlus&&"+"==t&&""==e)return 1;if(n.allowMinus&&"-"==t&&""==e)return 1;if(t==s&&n.allowThouSep&&function(e){if(0==e.length)return!1;if(0<=e.indexOf(u))return!1;var t=e.indexOf(s);if(t<0)return!0;var n=e.lastIndexOf(s);return!(e.length-n-1<3)&&!(0<v(e.substring(t))%3)}(e))return 1;if(t==u){if(0<=e.indexOf(u))return;if(n.allowDecSep)return 1}}function v(e){return(e+="").replace(/[^0-9]/g,"").length}function w(e,t){if("string"!=typeof e)return e;for(var n,a,o,r,i,l=e.split(""),s=[],u=0,u=0;u<l.length;u++){var c=l[u],p=s.join("");n=p,a=c,i=r=o=void 0,!((p=t).maxLength&&n.length>=p.maxLength)&&(0<=p.allow.indexOf(a)||p.allowSpace&&" "==a||!(p.blacklistSet.contains(a)||!p.allowNumeric&&d[a]||!p.allowUpper&&(o=(n=a).toUpperCase(),r=n.toLowerCase(),n==o&&o!=r)||!p.allowLower&&(r=(o=a).toUpperCase(),i=o.toLowerCase(),o==i&&r!=i)||!p.allowCaseless&&(i=a).toUpperCase()==i.toLowerCase()||!p.allowLatin&&h.contains(a))&&(p.allowOtherCharSets||d[a]||h.contains(a)))&&s.push(c)}return s.join("")}function y(e,t){if("string"!=typeof e)return e;for(var n=e.split(""),a=[],o=0,o=0;o<n.length;o++){var r=n[o];g(a.join(""),r,t)&&a.push(r)}return a.join("")}function T(e){this.map="string"==typeof e?function(e){var t,n={},a=e.split(""),o=0;for(o=0;o<a.length;o++)t=a[o],n[t]=!0;return n}(e):{}}T.prototype.add=function(e){var t,n=this.clone();for(t in e.map)n.map[t]=!0;return n},T.prototype.subtract=function(e){var t,n=this.clone();for(t in e.map)delete n.map[t];return n},T.prototype.contains=function(e){return!!this.map[e]},T.prototype.clone=function(){var e,t=new T;for(e in this.map)t.map[e]=!0;return t},o.fn.alphanum.backdoorAlphaNum=function(e,t){return w(e,f(t))},o.fn.alphanum.backdoorNumeric=function(e,t){return y(e,m(t))},o.fn.alphanum.setNumericSeparators=function(e){1==e.thousandsSeparator.length&&1==e.decimalSeparator.length&&(s=e.thousandsSeparator,u=e.decimalSeparator)}}(jQuery),function(o){function r(e,t){var n;e.createTextRange?((n=e.createTextRange()).move("character",t),n.select()):null!=e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}o.fn.alphanum_caret=function(n,a){return void 0===n?function(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(e){return 0}return t.text.length}if(null!=e.selectionStart)return e.selectionStart}(this.get(0)):this.queue(function(e){var t;isNaN(n)?(t=o(this).val().indexOf(n),!0===a?t+=n.length:void 0!==a&&(t+=a),r(this,t)):r(this,n),e()})}}(jQuery),function(u){function c(e){return e?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:window}function p(e,t){var n,a=u.Range.current(e).clone(),o=u.Range(e).select(e);return a.overlaps(o)?(a.compare("START_TO_START",o)<1?(n=0,a.move("START_TO_START",o)):((e=o.clone()).move("END_TO_START",a),n=e.toString().length),{start:n,end:0<=a.compare("END_TO_END",o)?o.toString().length:n+a.toString().length}):null}var i=function(e,t,n,a){"number"==typeof n[0]&&n[0]<t&&(n[0]={el:a,count:n[0]-e}),"number"==typeof n[1]&&n[1]<=t&&(n[1]={el:a,count:n[1]-e})},d=function(e,t,n){var a,o;n=n||0;for(var r=0;e[r];r++)3===(a=e[r]).nodeType||4===a.nodeType?(o=n,n+=a.nodeValue.length,i(o,n,t,a)):8!==a.nodeType&&(n=d(a.childNodes,t,n));return n};u.fn.selection=function(l,s){return void 0!==l?this.each(function(){var e,t,n,a,o,r,i;t=l,n=s,i=c(e=this),e.setSelectionRange?void 0===n?(e.focus(),e.setSelectionRange(t,t)):(e.select(),e.selectionStart=t,e.selectionEnd=n):e.createTextRange?((a=e.createTextRange()).moveStart("character",t),a.moveEnd("character",(n=n||t)-e.value.length),a.select()):i.getSelection?(o=i.document,a=i.getSelection(),r=o.createRange(),d([e],o=[t,void 0!==n?n:t]),r.setStart(o[0].el,o[0].count),r.setEnd(o[1].el,o[1].count),a.removeAllRanges(),a.addRange(r)):i.document.body.createTextRange&&((r=document.body.createTextRange()).moveToElementText(e),r.collapse(),r.moveStart("character",t),r.moveEnd("character",void 0!==n?n:t),r.select())}):function(t){var e=c(t);if(void 0!==t.selectionStart)return document.activeElement&&document.activeElement!==t&&t.selectionStart===t.selectionEnd&&0===t.selectionStart?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};if(e.getSelection)return p(t);try{if("input"===t.nodeName.toLowerCase()){var n=c(t).document.selection.createRange(),a=t.createTextRange();a.setEndPoint("EndToStart",n);var o=a.text.length;return{start:o,end:o+n.text.length}}var r=p(t);if(!r)return r;var i=u.Range.current().clone(),l=i.clone().collapse().range,s=i.clone().collapse(!1).range;return l.moveStart("character",-1),s.moveStart("character",-1),0!==r.startPos&&""===l.text&&(r.startPos+=2),0!==r.endPos&&""===s.text&&(r.endPos+=2),r}catch(e){return{start:t.value.length,end:t.value.length}}}(this[0])},u.fn.selection.getCharElement=d}(jQuery),function(i){i.fn.serializeForm=function(){if(this.length<1)return!1;function e(){if(!this.disabled){var e=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),t=e.length-1,n=i(this);if(e[0]){for(var a=0;a<t;a++)r=r[e[a]]=r[e[a]]||(""===e[a+1]||"0"===e[a+1]?[]:{});void 0!==r.length?r.push(n.val()):r[e[t]]=n.val(),r=o}}}var o={},r=o,t=':input[type!="checkbox"][type!="radio"], input:checked';return this.filter(t).each(e),this.find(t).each(e),o}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(e.jQuery)}(this,function(n){"use strict";n.fn.typeWatch=function(e){var r=n.extend({wait:750,callback:function(){},highlight:!0,captureLength:2,allowSubmit:!1,inputTypes:["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE","DIV"]},e);function t(e){var o,n=(e.type||e.nodeName).toUpperCase();0<=jQuery.inArray(n,r.inputTypes)&&(o={timer:null,text:"DIV"===n?jQuery(e).html():jQuery(e).val(),cb:r.callback,el:e,type:n,wait:r.wait},r.highlight&&"DIV"!==n&&jQuery(e).focus(function(){this.select()}),jQuery(e).on("keydown paste cut input",function(e){var t=o.wait,a=!1;void 0!==e.keyCode&&13==e.keyCode&&"TEXTAREA"!==n&&"DIV"!==n&&(t=1,a=!0);clearTimeout(o.timer),o.timer=setTimeout(function(){var e,t,n;t=a,((n="DIV"===(e=o).type?jQuery(e.el).html():jQuery(e.el).val()).length>=r.captureLength&&n!=e.text||t&&(n.length>=r.captureLength||r.allowSubmit)||0==n.length&&e.text)&&(e.text=n,e.cb.call(e.el,n))},t)}))}return this.each(function(){t(this)})}});